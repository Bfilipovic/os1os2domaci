GAS LISTING /tmp/ccZZyjj7.s 			page 1


   1              		.file	"kern_interrupts.c"
   2              		.option nopic
   3              		.option norelax
   4              		.text
   5              	.Ltext0:
   6              		.cfi_sections	.debug_frame
   7              		.align	2
   8              		.globl	kern_syscall
  10              	kern_syscall:
  11              	.LFB22:
  12              		.file 1 "src/kern_interrupts.c"
   1:src/kern_interrupts.c **** //
   2:src/kern_interrupts.c **** // Created by os on 5/22/23.
   3:src/kern_interrupts.c **** //
   4:src/kern_interrupts.c **** 
   5:src/kern_interrupts.c **** #include "../lib/hw.h"
   6:src/kern_interrupts.c **** #include "../lib/console.h"
   7:src/kern_interrupts.c **** #include "../h/kern_interrupts.h"
   8:src/kern_interrupts.c **** #include "../h/kern_reg_util.h"
   9:src/kern_interrupts.c **** #include "../h/kern_memory.h"
  10:src/kern_interrupts.c **** #include "../h/kern_threads.h"
  11:src/kern_interrupts.c **** #include "../h/syscall_c.h"
  12:src/kern_interrupts.c **** #include "../h/kern_semaphore.h"
  13:src/kern_interrupts.c **** 
  14:src/kern_interrupts.c **** #define INTR_ILLEGAL_INSTRUCTION 0x0000000000000002UL
  15:src/kern_interrupts.c **** #define INTR_ILLEGAL_ADDR_RD 0x0000000000000005UL
  16:src/kern_interrupts.c **** #define INTR_ILLEGAL_ADDR_WR 0x0000000000000007UL
  17:src/kern_interrupts.c **** #define INTR_USER_ECALL 0x0000000000000008UL
  18:src/kern_interrupts.c **** #define INTR_KERNEL_ECALL 0x0000000000000009UL
  19:src/kern_interrupts.c **** #define INTR_TIMER 0x8000000000000001UL
  20:src/kern_interrupts.c **** #define INTR_CONSOLE 0x8000000000000009UL
  21:src/kern_interrupts.c **** 
  22:src/kern_interrupts.c **** 
  23:src/kern_interrupts.c **** extern void supervisorTrap();
  24:src/kern_interrupts.c **** 
  25:src/kern_interrupts.c **** 
  26:src/kern_interrupts.c **** uint64 SYSTEM_TIME;
  27:src/kern_interrupts.c **** 
  28:src/kern_interrupts.c **** 
  29:src/kern_interrupts.c **** void kern_syscall(enum SyscallNumber num, ...)
  30:src/kern_interrupts.c **** {
  13              		.loc 1 30 1
  14              		.cfi_startproc
  15              	.LVL0:
  16 0000 130101FB 		addi	sp,sp,-80
  17              		.cfi_def_cfa_offset 80
  18 0004 23348100 		sd	s0,8(sp)
  19              		.cfi_offset 8, -72
  20 0008 13040101 		addi	s0,sp,16
  21              		.cfi_def_cfa 8, 64
  22 000c 2334B400 		sd	a1,8(s0)
  23 0010 2338C400 		sd	a2,16(s0)
  24 0014 233CD400 		sd	a3,24(s0)
  25 0018 2330E402 		sd	a4,32(s0)
  26 001c 2334F402 		sd	a5,40(s0)
  27 0020 23380403 		sd	a6,48(s0)
  28 0024 233C1403 		sd	a7,56(s0)
GAS LISTING /tmp/ccZZyjj7.s 			page 2


  31:src/kern_interrupts.c ****     __asm__ volatile ("ecall");
  29              		.loc 1 31 5
  30              	#APP
  31              	# 31 "src/kern_interrupts.c" 1
  32              	    return;
  32              		ecall
  33              	# 0 "" 2
  34              		.loc 1 32 5
  33:src/kern_interrupts.c **** }
  35              		.loc 1 33 1 is_stmt 0
  36              	#NO_APP
  37 002c 03348100 		ld	s0,8(sp)
  38              		.cfi_restore 8
  39              		.cfi_def_cfa 2, 80
  40 0030 13010105 		addi	sp,sp,80
  41              		.cfi_def_cfa_offset 0
  42 0034 67800000 		jr	ra
  43              		.cfi_endproc
  44              	.LFE22:
  46              		.align	2
  47              		.globl	kern_interrupt_init
  49              	kern_interrupt_init:
  50              	.LFB23:
  34:src/kern_interrupts.c **** 
  35:src/kern_interrupts.c **** void kern_interrupt_init()
  36:src/kern_interrupts.c **** {
  51              		.loc 1 36 1 is_stmt 1
  52              		.cfi_startproc
  53 0038 130101FF 		addi	sp,sp,-16
  54              		.cfi_def_cfa_offset 16
  55 003c 23348100 		sd	s0,8(sp)
  56              		.cfi_offset 8, -8
  57 0040 13040101 		addi	s0,sp,16
  58              		.cfi_def_cfa 8, 0
  37:src/kern_interrupts.c ****     SYSTEM_TIME=0;
  59              		.loc 1 37 5
  60              		.loc 1 37 16 is_stmt 0
  61 0044 97070000 		sd	zero,SYSTEM_TIME,a5
  61      23B00700 
  38:src/kern_interrupts.c ****     w_stvec((uint64) &supervisorTrap);
  62              		.loc 1 38 5 is_stmt 1
  63 004c 97070000 		lla	a5,supervisorTrap
  63      93870700 
  64              	.LVL1:
  65              	.LBB75:
  66              	.LBB76:
  67              		.file 2 "src/../h/kern_reg_util.h"
   1:src/../h/kern_reg_util.h **** //
   2:src/../h/kern_reg_util.h **** // Created by os on 5/23/23.
   3:src/../h/kern_reg_util.h **** //
   4:src/../h/kern_reg_util.h **** 
   5:src/../h/kern_reg_util.h **** #ifndef OS1_KERN_REG_UTIL_H
   6:src/../h/kern_reg_util.h **** #define OS1_KERN_REG_UTIL_H
   7:src/../h/kern_reg_util.h **** 
   8:src/../h/kern_reg_util.h **** #include "../lib/hw.h"
   9:src/../h/kern_reg_util.h **** 
  10:src/../h/kern_reg_util.h **** enum BitMaskSstatus
GAS LISTING /tmp/ccZZyjj7.s 			page 3


  11:src/../h/kern_reg_util.h **** {
  12:src/../h/kern_reg_util.h ****     SSTATUS_SIE = (1 << 1),
  13:src/../h/kern_reg_util.h ****     SSTATUS_SPIE = (1 << 5),
  14:src/../h/kern_reg_util.h ****     SSTATUS_SPP = (1 << 8),
  15:src/../h/kern_reg_util.h **** };
  16:src/../h/kern_reg_util.h **** 
  17:src/../h/kern_reg_util.h **** enum BitMaskSip
  18:src/../h/kern_reg_util.h **** {
  19:src/../h/kern_reg_util.h ****     SIP_SSIP = (1 << 1),
  20:src/../h/kern_reg_util.h ****     SIP_STIP = (1 << 5),
  21:src/../h/kern_reg_util.h ****     SIP_SEIP = (1 << 9),
  22:src/../h/kern_reg_util.h **** };
  23:src/../h/kern_reg_util.h **** 
  24:src/../h/kern_reg_util.h **** inline uint64 r_a0()
  25:src/../h/kern_reg_util.h **** {
  26:src/../h/kern_reg_util.h ****     uint64 volatile a0;
  27:src/../h/kern_reg_util.h ****     __asm__ volatile ("mv %[a0], a0" : [a0] "=r"(a0));
  28:src/../h/kern_reg_util.h ****     return a0;
  29:src/../h/kern_reg_util.h **** }
  30:src/../h/kern_reg_util.h **** inline void w_a0(uint64 value)
  31:src/../h/kern_reg_util.h **** {
  32:src/../h/kern_reg_util.h ****     __asm__ volatile ("mv a0, %[value]" :: [value] "r"(value));
  33:src/../h/kern_reg_util.h **** }
  34:src/../h/kern_reg_util.h **** 
  35:src/../h/kern_reg_util.h **** inline uint64 r_a1()
  36:src/../h/kern_reg_util.h **** {
  37:src/../h/kern_reg_util.h ****     uint64 volatile a1;
  38:src/../h/kern_reg_util.h ****     __asm__ volatile ("mv %[a1], a1" : [a1] "=r"(a1));
  39:src/../h/kern_reg_util.h ****     return a1;
  40:src/../h/kern_reg_util.h **** }
  41:src/../h/kern_reg_util.h **** 
  42:src/../h/kern_reg_util.h **** inline uint64 r_a2()
  43:src/../h/kern_reg_util.h **** {
  44:src/../h/kern_reg_util.h ****     uint64 volatile a2;
  45:src/../h/kern_reg_util.h ****     __asm__ volatile ("mv %[a2], a2" : [a2] "=r"(a2));
  46:src/../h/kern_reg_util.h ****     return a2;
  47:src/../h/kern_reg_util.h **** }
  48:src/../h/kern_reg_util.h **** 
  49:src/../h/kern_reg_util.h **** inline uint64 r_a3()
  50:src/../h/kern_reg_util.h **** {
  51:src/../h/kern_reg_util.h ****     uint64 volatile a3;
  52:src/../h/kern_reg_util.h ****     __asm__ volatile ("mv %[a3], a3" : [a3] "=r"(a3));
  53:src/../h/kern_reg_util.h ****     return a3;
  54:src/../h/kern_reg_util.h **** }
  55:src/../h/kern_reg_util.h **** 
  56:src/../h/kern_reg_util.h **** inline uint64 r_a4()
  57:src/../h/kern_reg_util.h **** {
  58:src/../h/kern_reg_util.h ****     uint64 volatile a4;
  59:src/../h/kern_reg_util.h ****     __asm__ volatile ("mv %[a4], a4" : [a4] "=r"(a4));
  60:src/../h/kern_reg_util.h ****     return a4;
  61:src/../h/kern_reg_util.h **** }
  62:src/../h/kern_reg_util.h **** 
  63:src/../h/kern_reg_util.h **** inline uint64 r_scause()
  64:src/../h/kern_reg_util.h **** {
  65:src/../h/kern_reg_util.h ****     uint64 volatile scause;
  66:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[scause], scause" : [scause] "=r"(scause));
  67:src/../h/kern_reg_util.h ****     return scause;
GAS LISTING /tmp/ccZZyjj7.s 			page 4


  68:src/../h/kern_reg_util.h **** }
  69:src/../h/kern_reg_util.h **** 
  70:src/../h/kern_reg_util.h **** inline void w_scause(uint64 scause)
  71:src/../h/kern_reg_util.h **** {
  72:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrw scause, %[scause]" : : [scause] "r"(scause));
  73:src/../h/kern_reg_util.h **** }
  74:src/../h/kern_reg_util.h **** 
  75:src/../h/kern_reg_util.h **** inline uint64 r_sepc()
  76:src/../h/kern_reg_util.h **** {
  77:src/../h/kern_reg_util.h ****     uint64 volatile sepc;
  78:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sepc], sepc" : [sepc] "=r"(sepc));
  79:src/../h/kern_reg_util.h ****     return sepc;
  80:src/../h/kern_reg_util.h **** }
  81:src/../h/kern_reg_util.h **** 
  82:src/../h/kern_reg_util.h **** inline void w_sepc(uint64 sepc)
  83:src/../h/kern_reg_util.h **** {
  84:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrw sepc, %[sepc]" : : [sepc] "r"(sepc));
  85:src/../h/kern_reg_util.h **** }
  86:src/../h/kern_reg_util.h **** 
  87:src/../h/kern_reg_util.h **** inline uint64 r_stvec()
  88:src/../h/kern_reg_util.h **** {
  89:src/../h/kern_reg_util.h ****     uint64 volatile stvec;
  90:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[stvec], stvec" : [stvec] "=r"(stvec));
  91:src/../h/kern_reg_util.h ****     return stvec;
  92:src/../h/kern_reg_util.h **** }
  93:src/../h/kern_reg_util.h **** 
  94:src/../h/kern_reg_util.h **** inline void w_stvec(uint64 stvec)
  95:src/../h/kern_reg_util.h **** {
  96:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrw stvec, %[stvec]" : : [stvec] "r"(stvec));
  68              		.loc 2 96 5
  69              	#APP
  70              	# 96 "src/../h/kern_reg_util.h" 1
  97              	}
  71              		csrw stvec, a5
  72              	# 0 "" 2
  73              	.LVL2:
  74              	#NO_APP
  75              	.LBE76:
  76              	.LBE75:
  39:src/kern_interrupts.c ****     ms_sstatus(SSTATUS_SIE);
  77              		.loc 1 39 5
  78              	.LBB77:
  79              	.LBB78:
  98:src/../h/kern_reg_util.h **** 
  99:src/../h/kern_reg_util.h **** inline uint64 r_stval()
 100:src/../h/kern_reg_util.h **** {
 101:src/../h/kern_reg_util.h ****     uint64 volatile stval;
 102:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[stval], stval" : [stval] "=r"(stval));
 103:src/../h/kern_reg_util.h ****     return stval;
 104:src/../h/kern_reg_util.h **** }
 105:src/../h/kern_reg_util.h **** 
 106:src/../h/kern_reg_util.h **** inline void w_stval(uint64 stval)
 107:src/../h/kern_reg_util.h **** {
 108:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrw stval, %[stval]" : : [stval] "r"(stval));
 109:src/../h/kern_reg_util.h **** }
 110:src/../h/kern_reg_util.h **** 
 111:src/../h/kern_reg_util.h **** inline void ms_sip(uint64 mask)
GAS LISTING /tmp/ccZZyjj7.s 			page 5


 112:src/../h/kern_reg_util.h **** {
 113:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrs sip, %[mask]" : : [mask] "r"(mask));
 114:src/../h/kern_reg_util.h **** }
 115:src/../h/kern_reg_util.h **** 
 116:src/../h/kern_reg_util.h **** inline void mc_sip(uint64 mask)
 117:src/../h/kern_reg_util.h **** {
 118:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrc sip, %[mask]" : : [mask] "r"(mask));
 119:src/../h/kern_reg_util.h **** }
 120:src/../h/kern_reg_util.h **** 
 121:src/../h/kern_reg_util.h **** inline uint64 r_sip()
 122:src/../h/kern_reg_util.h **** {
 123:src/../h/kern_reg_util.h ****     uint64 volatile sip;
 124:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sip], sip" : [sip] "=r"(sip));
 125:src/../h/kern_reg_util.h ****     return sip;
 126:src/../h/kern_reg_util.h **** }
 127:src/../h/kern_reg_util.h **** 
 128:src/../h/kern_reg_util.h **** inline void w_sip(uint64 sip)
 129:src/../h/kern_reg_util.h **** {
 130:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrw sip, %[sip]" : : [sip] "r"(sip));
 131:src/../h/kern_reg_util.h **** }
 132:src/../h/kern_reg_util.h **** 
 133:src/../h/kern_reg_util.h **** inline void ms_sstatus(uint64 mask)
 134:src/../h/kern_reg_util.h **** {
 135:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrs sstatus, %[mask]" : : [mask] "r"(mask));
  80              		.loc 2 135 5
  81 0058 93072000 		li	a5,2
  82              	#APP
  83              	# 135 "src/../h/kern_reg_util.h" 1
 136              	}
  84              		csrs sstatus, a5
  85              	# 0 "" 2
  86              	.LVL3:
  87              	#NO_APP
  88              	.LBE78:
  89              	.LBE77:
  40:src/kern_interrupts.c **** }
  90              		.loc 1 40 1 is_stmt 0
  91 0060 03348100 		ld	s0,8(sp)
  92              		.cfi_restore 8
  93              		.cfi_def_cfa 2, 16
  94 0064 13010101 		addi	sp,sp,16
  95              		.cfi_def_cfa_offset 0
  96 0068 67800000 		jr	ra
  97              		.cfi_endproc
  98              	.LFE23:
 100              		.align	2
 101              		.globl	handleEcall
 103              	handleEcall:
 104              	.LFB24:
  41:src/kern_interrupts.c **** 
  42:src/kern_interrupts.c **** 
  43:src/kern_interrupts.c **** int time=0;
  44:src/kern_interrupts.c **** 
  45:src/kern_interrupts.c **** void handleEcall(uint64 a0, uint64 a1, uint64 a2, uint64 a3, uint64 a4) {
 105              		.loc 1 45 73 is_stmt 1
 106              		.cfi_startproc
 107              	.LVL4:
GAS LISTING /tmp/ccZZyjj7.s 			page 6


 108 006c 130101F7 		addi	sp,sp,-144
 109              		.cfi_def_cfa_offset 144
 110 0070 23341108 		sd	ra,136(sp)
 111 0074 23308108 		sd	s0,128(sp)
 112 0078 233C9106 		sd	s1,120(sp)
 113 007c 23382107 		sd	s2,112(sp)
 114              		.cfi_offset 1, -8
 115              		.cfi_offset 8, -16
 116              		.cfi_offset 9, -24
 117              		.cfi_offset 18, -32
 118 0080 13040109 		addi	s0,sp,144
 119              		.cfi_def_cfa 8, 0
 120 0084 13090600 		mv	s2,a2
 121 0088 13860600 		mv	a2,a3
 122              	.LVL5:
  46:src/kern_interrupts.c ****     /*uint64 a0, a1, a2, a3, a4;
  47:src/kern_interrupts.c ****     __asm__ volatile ("mv %[a0], a0" : [a0] "=r"(a0));
  48:src/kern_interrupts.c ****     __asm__ volatile ("mv %[a1], a1" : [a1] "=r"(a1));
  49:src/kern_interrupts.c ****     __asm__ volatile ("mv %[a2], a2" : [a2] "=r"(a2));
  50:src/kern_interrupts.c ****     __asm__ volatile ("mv %[a3], a3" : [a3] "=r"(a3));
  51:src/kern_interrupts.c ****     __asm__ volatile ("mv %[a4], a4" : [a4] "=r"(a4));
  52:src/kern_interrupts.c ****      */
  53:src/kern_interrupts.c ****     uint64 scause = r_scause();
 123              		.loc 1 53 5
 124              	.LBB79:
 125              	.LBB80:
  65:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[scause], scause" : [scause] "=r"(scause));
 126              		.loc 2 65 5
  66:src/../h/kern_reg_util.h ****     return scause;
 127              		.loc 2 66 5
 128              	#APP
 129              	# 66 "src/../h/kern_reg_util.h" 1
 130              		csrr a5, scause
 131              	# 0 "" 2
 132              	#NO_APP
 133 0090 2330F4FA 		sd	a5,-96(s0)
  67:src/../h/kern_reg_util.h **** }
 134              		.loc 2 67 5
  67:src/../h/kern_reg_util.h **** }
 135              		.loc 2 67 12 is_stmt 0
 136 0094 833704FA 		ld	a5,-96(s0)
 137              	.LVL6:
 138              	.LBE80:
 139              	.LBE79:
  54:src/kern_interrupts.c ****     if (scause == INTR_USER_ECALL || scause == INTR_KERNEL_ECALL) {
 140              		.loc 1 54 5 is_stmt 1
 141              		.loc 1 54 35 is_stmt 0
 142 0098 938787FF 		addi	a5,a5,-8
 143              	.LVL7:
 144              		.loc 1 54 8
 145 009c 93061000 		li	a3,1
 146              	.LVL8:
 147 00a0 63FEF600 		bleu	a5,a3,.L22
 148              	.LVL9:
 149              	.L5:
  55:src/kern_interrupts.c ****         uint64 retval;
  56:src/kern_interrupts.c ****         uint64 syscall_num = a0;
GAS LISTING /tmp/ccZZyjj7.s 			page 7


  57:src/kern_interrupts.c ****         uint64 sepc = r_sepc() + 4;
  58:src/kern_interrupts.c ****         w_sepc(sepc);
  59:src/kern_interrupts.c ****         switch (syscall_num) {
  60:src/kern_interrupts.c ****             case MEM_ALLOC: {
  61:src/kern_interrupts.c ****                 uint64 size = a1;
  62:src/kern_interrupts.c ****                 retval = (uint64) kern_mem_alloc(size);
  63:src/kern_interrupts.c ****                 w_a0(retval);
  64:src/kern_interrupts.c ****                 break;
  65:src/kern_interrupts.c ****             }
  66:src/kern_interrupts.c **** 
  67:src/kern_interrupts.c ****             case MEM_FREE: {
  68:src/kern_interrupts.c ****                 uint64 addr = a1;
  69:src/kern_interrupts.c ****                 retval = (uint64) kern_mem_free((void *) addr);
  70:src/kern_interrupts.c ****                 w_a0(retval);
  71:src/kern_interrupts.c ****                 break;
  72:src/kern_interrupts.c ****             }
  73:src/kern_interrupts.c **** 
  74:src/kern_interrupts.c ****             case THREAD_CREATE: {
  75:src/kern_interrupts.c ****                 uint64 handle = a1;
  76:src/kern_interrupts.c ****                 uint64 start_routine = a2;
  77:src/kern_interrupts.c ****                 uint64 arg = a3;
  78:src/kern_interrupts.c ****                 uint64 stack = a4;
  79:src/kern_interrupts.c ****                 retval = (uint64) kern_thread_create((thread_t *) handle,
  80:src/kern_interrupts.c ****                                                      (void (*)(void *)) start_routine,
  81:src/kern_interrupts.c ****                                                      (void *) arg,
  82:src/kern_interrupts.c ****                                                      (void *) stack);
  83:src/kern_interrupts.c ****                 (*(thread_t *) handle)->endTime = SYSTEM_TIME + DEFAULT_TIME_SLICE;
  84:src/kern_interrupts.c ****                 w_a0(retval);
  85:src/kern_interrupts.c ****                 break;
  86:src/kern_interrupts.c ****             }
  87:src/kern_interrupts.c **** 
  88:src/kern_interrupts.c ****             case THREAD_DISPATCH: {
  89:src/kern_interrupts.c ****                 uint64 volatile sstatus = r_sstatus();
  90:src/kern_interrupts.c ****                 uint64 volatile v_sepc = r_sepc();
  91:src/kern_interrupts.c ****                 kern_thread_dispatch();
  92:src/kern_interrupts.c ****                 w_sstatus(sstatus);
  93:src/kern_interrupts.c ****                 w_sepc(v_sepc);
  94:src/kern_interrupts.c ****                 running->endTime = time + running->timeslice;
  95:src/kern_interrupts.c ****                 break;
  96:src/kern_interrupts.c ****             }
  97:src/kern_interrupts.c **** 
  98:src/kern_interrupts.c ****             case THREAD_JOIN: {
  99:src/kern_interrupts.c ****                 thread_t handle = (thread_t) a1;
 100:src/kern_interrupts.c ****                 uint64 volatile sstatus = r_sstatus();
 101:src/kern_interrupts.c ****                 uint64 volatile v_sepc = r_sepc();
 102:src/kern_interrupts.c ****                 kern_thread_join(handle);
 103:src/kern_interrupts.c ****                 w_sstatus(sstatus);
 104:src/kern_interrupts.c ****                 w_sepc(v_sepc);
 105:src/kern_interrupts.c ****                 running->endTime = time + running->timeslice;
 106:src/kern_interrupts.c ****                 break;
 107:src/kern_interrupts.c ****             }
 108:src/kern_interrupts.c **** 
 109:src/kern_interrupts.c ****             case THREAD_EXIT: {
 110:src/kern_interrupts.c ****                 kern_thread_end_running();
 111:src/kern_interrupts.c ****             }
 112:src/kern_interrupts.c **** 
 113:src/kern_interrupts.c ****             case SEM_OPEN: {
GAS LISTING /tmp/ccZZyjj7.s 			page 8


 114:src/kern_interrupts.c ****                 sem_t *handle = (sem_t *) a1;
 115:src/kern_interrupts.c ****                 uint64 init = a2;
 116:src/kern_interrupts.c ****                 retval = kern_sem_open(handle, init);
 117:src/kern_interrupts.c ****                 w_a0(retval);
 118:src/kern_interrupts.c ****                 break;
 119:src/kern_interrupts.c ****             }
 120:src/kern_interrupts.c **** 
 121:src/kern_interrupts.c ****             case SEM_CLOSE: {
 122:src/kern_interrupts.c ****                 sem_t handle = (sem_t) a1;
 123:src/kern_interrupts.c ****                 retval = kern_sem_close(handle);
 124:src/kern_interrupts.c ****                 w_a0(retval);
 125:src/kern_interrupts.c ****                 break;
 126:src/kern_interrupts.c ****             }
 127:src/kern_interrupts.c **** 
 128:src/kern_interrupts.c ****             case SEM_SIGNAL: {
 129:src/kern_interrupts.c ****                 sem_t handle = (sem_t) a1;
 130:src/kern_interrupts.c ****                 kern_sem_signal(handle);
 131:src/kern_interrupts.c ****                 retval = 0;
 132:src/kern_interrupts.c ****                 w_a0(retval);
 133:src/kern_interrupts.c ****                 break;
 134:src/kern_interrupts.c ****             }
 135:src/kern_interrupts.c **** 
 136:src/kern_interrupts.c ****             case SEM_WAIT: {
 137:src/kern_interrupts.c ****                 sem_t handle = (sem_t) a1;
 138:src/kern_interrupts.c ****                 retval = kern_sem_wait(handle);
 139:src/kern_interrupts.c ****                 if (retval == 1) { //nije promenjen kontekst
 140:src/kern_interrupts.c ****                     retval = 0;
 141:src/kern_interrupts.c ****                 }
 142:src/kern_interrupts.c ****                 else {
 143:src/kern_interrupts.c ****                     running->endTime = time + running->timeslice;
 144:src/kern_interrupts.c ****                 }
 145:src/kern_interrupts.c ****                 w_a0(retval);
 146:src/kern_interrupts.c ****                 break;
 147:src/kern_interrupts.c ****             }
 148:src/kern_interrupts.c **** 
 149:src/kern_interrupts.c ****             case TIME_SLEEP : {
 150:src/kern_interrupts.c ****                 uint64 period = a1;
 151:src/kern_interrupts.c ****                 running->status = SLEEPING;
 152:src/kern_interrupts.c ****                 running->endTime = SYSTEM_TIME + period;
 153:src/kern_interrupts.c ****                 uint64 volatile sstatus = r_sstatus();
 154:src/kern_interrupts.c ****                 uint64 volatile v_sepc = r_sepc();
 155:src/kern_interrupts.c ****                 kern_thread_dispatch();
 156:src/kern_interrupts.c ****                 w_sstatus(sstatus);
 157:src/kern_interrupts.c ****                 w_sepc(v_sepc);
 158:src/kern_interrupts.c ****                 running->endTime = time + running->timeslice;
 159:src/kern_interrupts.c ****             }
 160:src/kern_interrupts.c **** 
 161:src/kern_interrupts.c ****             case GETC: {
 162:src/kern_interrupts.c ****                 break;
 163:src/kern_interrupts.c ****             }
 164:src/kern_interrupts.c **** 
 165:src/kern_interrupts.c ****             case PUTC: {
 166:src/kern_interrupts.c ****                 break;
 167:src/kern_interrupts.c ****             }
 168:src/kern_interrupts.c **** 
 169:src/kern_interrupts.c **** 
 170:src/kern_interrupts.c ****         }
GAS LISTING /tmp/ccZZyjj7.s 			page 9


 171:src/kern_interrupts.c ****     }
 172:src/kern_interrupts.c **** }
 150              		.loc 1 172 1
 151 00a4 83308108 		ld	ra,136(sp)
 152              		.cfi_remember_state
 153              		.cfi_restore 1
 154 00a8 03340108 		ld	s0,128(sp)
 155              		.cfi_restore 8
 156              		.cfi_def_cfa 2, 144
 157 00ac 83348107 		ld	s1,120(sp)
 158              		.cfi_restore 9
 159 00b0 03390107 		ld	s2,112(sp)
 160              		.cfi_restore 18
 161 00b4 13010109 		addi	sp,sp,144
 162              		.cfi_def_cfa_offset 0
 163 00b8 67800000 		jr	ra
 164              	.LVL10:
 165              	.L22:
 166              		.cfi_restore_state
 167 00bc 93840500 		mv	s1,a1
 168              	.LBB81:
  55:src/kern_interrupts.c ****         uint64 retval;
 169              		.loc 1 55 9 is_stmt 1
  56:src/kern_interrupts.c ****         uint64 sepc = r_sepc() + 4;
 170              		.loc 1 56 9
 171              	.LVL11:
  57:src/kern_interrupts.c ****         w_sepc(sepc);
 172              		.loc 1 57 9
 173              	.LBB82:
 174              	.LBB83:
  77:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sepc], sepc" : [sepc] "=r"(sepc));
 175              		.loc 2 77 5
  78:src/../h/kern_reg_util.h ****     return sepc;
 176              		.loc 2 78 5
 177              	#APP
 178              	# 78 "src/../h/kern_reg_util.h" 1
 179              		csrr a5, sepc
 180              	# 0 "" 2
 181              	.LVL12:
 182              	#NO_APP
 183 00c4 2334F4FA 		sd	a5,-88(s0)
  79:src/../h/kern_reg_util.h **** }
 184              		.loc 2 79 5
  79:src/../h/kern_reg_util.h **** }
 185              		.loc 2 79 12 is_stmt 0
 186 00c8 833784FA 		ld	a5,-88(s0)
 187              	.LBE83:
 188              	.LBE82:
  57:src/kern_interrupts.c ****         w_sepc(sepc);
 189              		.loc 1 57 16
 190 00cc 93874700 		addi	a5,a5,4
 191              	.LVL13:
  58:src/kern_interrupts.c ****         switch (syscall_num) {
 192              		.loc 1 58 9 is_stmt 1
 193              	.LBB84:
 194              	.LBB85:
  84:src/../h/kern_reg_util.h **** }
GAS LISTING /tmp/ccZZyjj7.s 			page 10


 195              		.loc 2 84 5
 196              	#APP
 197              	# 84 "src/../h/kern_reg_util.h" 1
 198              		csrw sepc, a5
 199              	# 0 "" 2
 200              	.LVL14:
 201              	#NO_APP
 202              	.LBE85:
 203              	.LBE84:
  59:src/kern_interrupts.c ****             case MEM_ALLOC: {
 204              		.loc 1 59 9
 205 00d4 93071003 		li	a5,49
 206              	.LVL15:
 207 00d8 E3E6A7FC 		bgtu	a0,a5,.L5
 208              	.LVL16:
 209 00dc 13152500 		slli	a0,a0,2
 210              	.LVL17:
 211 00e0 97060000 		lla	a3,.L8
 211      93860600 
 212 00e8 3305D500 		add	a0,a0,a3
 213 00ec 83270500 		lw	a5,0(a0)
 214 00f0 B387D700 		add	a5,a5,a3
 215 00f4 67800700 		jr	a5
 216              		.section	.rodata
 217              		.align	2
 218              		.align	2
 219              	.L8:
 220 0000 00000000 		.word	.L5-.L8
 221 0004 00000000 		.word	.L18-.L8
 222 0008 00000000 		.word	.L17-.L8
 223 000c 00000000 		.word	.L5-.L8
 224 0010 00000000 		.word	.L5-.L8
 225 0014 00000000 		.word	.L5-.L8
 226 0018 00000000 		.word	.L5-.L8
 227 001c 00000000 		.word	.L5-.L8
 228 0020 00000000 		.word	.L5-.L8
 229 0024 00000000 		.word	.L5-.L8
 230 0028 00000000 		.word	.L5-.L8
 231 002c 00000000 		.word	.L5-.L8
 232 0030 00000000 		.word	.L5-.L8
 233 0034 00000000 		.word	.L5-.L8
 234 0038 00000000 		.word	.L5-.L8
 235 003c 00000000 		.word	.L5-.L8
 236 0040 00000000 		.word	.L5-.L8
 237 0044 00000000 		.word	.L16-.L8
 238 0048 00000000 		.word	.L15-.L8
 239 004c 00000000 		.word	.L14-.L8
 240 0050 00000000 		.word	.L13-.L8
 241 0054 00000000 		.word	.L5-.L8
 242 0058 00000000 		.word	.L5-.L8
 243 005c 00000000 		.word	.L5-.L8
 244 0060 00000000 		.word	.L5-.L8
 245 0064 00000000 		.word	.L5-.L8
 246 0068 00000000 		.word	.L5-.L8
 247 006c 00000000 		.word	.L5-.L8
 248 0070 00000000 		.word	.L5-.L8
 249 0074 00000000 		.word	.L5-.L8
GAS LISTING /tmp/ccZZyjj7.s 			page 11


 250 0078 00000000 		.word	.L5-.L8
 251 007c 00000000 		.word	.L5-.L8
 252 0080 00000000 		.word	.L5-.L8
 253 0084 00000000 		.word	.L12-.L8
 254 0088 00000000 		.word	.L11-.L8
 255 008c 00000000 		.word	.L10-.L8
 256 0090 00000000 		.word	.L9-.L8
 257 0094 00000000 		.word	.L5-.L8
 258 0098 00000000 		.word	.L5-.L8
 259 009c 00000000 		.word	.L5-.L8
 260 00a0 00000000 		.word	.L5-.L8
 261 00a4 00000000 		.word	.L5-.L8
 262 00a8 00000000 		.word	.L5-.L8
 263 00ac 00000000 		.word	.L5-.L8
 264 00b0 00000000 		.word	.L5-.L8
 265 00b4 00000000 		.word	.L5-.L8
 266 00b8 00000000 		.word	.L5-.L8
 267 00bc 00000000 		.word	.L5-.L8
 268 00c0 00000000 		.word	.L5-.L8
 269 00c4 00000000 		.word	.L7-.L8
 270              		.text
 271              	.L18:
 272              	.LBB86:
  61:src/kern_interrupts.c ****                 retval = (uint64) kern_mem_alloc(size);
 273              		.loc 1 61 17
 274              	.LVL18:
  62:src/kern_interrupts.c ****                 w_a0(retval);
 275              		.loc 1 62 17
  62:src/kern_interrupts.c ****                 w_a0(retval);
 276              		.loc 1 62 35 is_stmt 0
 277 00f8 1B850500 		sext.w	a0,a1
 278 00fc 97000000 		call	kern_mem_alloc
 278      E7800000 
 279              	.LVL19:
  63:src/kern_interrupts.c ****                 break;
 280              		.loc 1 63 17 is_stmt 1
 281              	.LBB87:
 282              	.LBB88:
  32:src/../h/kern_reg_util.h **** }
 283              		.loc 2 32 5
 284              	#APP
 285              	# 32 "src/../h/kern_reg_util.h" 1
  33:src/../h/kern_reg_util.h **** 
 286              		mv a0, a0
 287              	# 0 "" 2
 288              		.loc 2 33 1 is_stmt 0
 289              	#NO_APP
 290 0108 6FF0DFF9 		j	.L5
 291              	.LVL20:
 292              	.L17:
 293              	.LBE88:
 294              	.LBE87:
 295              	.LBE86:
 296              	.LBB89:
  68:src/kern_interrupts.c ****                 retval = (uint64) kern_mem_free((void *) addr);
 297              		.loc 1 68 17 is_stmt 1
  69:src/kern_interrupts.c ****                 w_a0(retval);
GAS LISTING /tmp/ccZZyjj7.s 			page 12


 298              		.loc 1 69 17
  69:src/kern_interrupts.c ****                 w_a0(retval);
 299              		.loc 1 69 35 is_stmt 0
 300 010c 13850500 		mv	a0,a1
 301 0110 97000000 		call	kern_mem_free
 301      E7800000 
 302              	.LVL21:
  70:src/kern_interrupts.c ****                 break;
 303              		.loc 1 70 17 is_stmt 1
 304              	.LBB90:
 305              	.LBB91:
  32:src/../h/kern_reg_util.h **** }
 306              		.loc 2 32 5
 307              	#APP
 308              	# 32 "src/../h/kern_reg_util.h" 1
  33:src/../h/kern_reg_util.h **** 
 309              		mv a0, a0
 310              	# 0 "" 2
 311              		.loc 2 33 1 is_stmt 0
 312              	#NO_APP
 313 011c 6FF09FF8 		j	.L5
 314              	.LVL22:
 315              	.L16:
 316              	.LBE91:
 317              	.LBE90:
 318              	.LBE89:
 319              	.LBB92:
  75:src/kern_interrupts.c ****                 uint64 start_routine = a2;
 320              		.loc 1 75 17 is_stmt 1
  76:src/kern_interrupts.c ****                 uint64 arg = a3;
 321              		.loc 1 76 17
  77:src/kern_interrupts.c ****                 uint64 stack = a4;
 322              		.loc 1 77 17
  78:src/kern_interrupts.c ****                 retval = (uint64) kern_thread_create((thread_t *) handle,
 323              		.loc 1 78 17
  79:src/kern_interrupts.c ****                                                      (void (*)(void *)) start_routine,
 324              		.loc 1 79 17
  79:src/kern_interrupts.c ****                                                      (void (*)(void *)) start_routine,
 325              		.loc 1 79 35 is_stmt 0
 326 0120 93060700 		mv	a3,a4
 327 0124 93050900 		mv	a1,s2
 328 0128 13850400 		mv	a0,s1
 329 012c 97000000 		call	kern_thread_create
 329      E7800000 
 330              	.LVL23:
  83:src/kern_interrupts.c ****                 w_a0(retval);
 331              		.loc 1 83 17 is_stmt 1
  83:src/kern_interrupts.c ****                 w_a0(retval);
 332              		.loc 1 83 18 is_stmt 0
 333 0134 03B70400 		ld	a4,0(s1)
  83:src/kern_interrupts.c ****                 w_a0(retval);
 334              		.loc 1 83 63
 335 0138 97070000 		ld	a5,SYSTEM_TIME
 335      83B70700 
 336 0140 93872700 		addi	a5,a5,2
  83:src/kern_interrupts.c ****                 w_a0(retval);
 337              		.loc 1 83 49
GAS LISTING /tmp/ccZZyjj7.s 			page 13


 338 0144 233CF702 		sd	a5,56(a4)
  84:src/kern_interrupts.c ****                 break;
 339              		.loc 1 84 17 is_stmt 1
 340              	.LVL24:
 341              	.LBB93:
 342              	.LBB94:
  32:src/../h/kern_reg_util.h **** }
 343              		.loc 2 32 5
 344              	#APP
 345              	# 32 "src/../h/kern_reg_util.h" 1
  33:src/../h/kern_reg_util.h **** 
 346              		mv a0, a0
 347              	# 0 "" 2
 348              		.loc 2 33 1 is_stmt 0
 349              	#NO_APP
 350 014c 6FF09FF5 		j	.L5
 351              	.LVL25:
 352              	.L14:
 353              	.LBE94:
 354              	.LBE93:
 355              	.LBE92:
 356              	.LBB95:
  89:src/kern_interrupts.c ****                 uint64 volatile v_sepc = r_sepc();
 357              		.loc 1 89 17 is_stmt 1
 358              	.LBB96:
 359              	.LBB97:
 137:src/../h/kern_reg_util.h **** 
 138:src/../h/kern_reg_util.h **** inline void mc_sstatus(uint64 mask)
 139:src/../h/kern_reg_util.h **** {
 140:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrc sstatus, %[mask]" : : [mask] "r"(mask));
 141:src/../h/kern_reg_util.h **** }
 142:src/../h/kern_reg_util.h **** 
 143:src/../h/kern_reg_util.h **** inline uint64 r_sstatus()
 144:src/../h/kern_reg_util.h **** {
 145:src/../h/kern_reg_util.h ****     uint64 volatile sstatus;
 360              		.loc 2 145 5
 146:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sstatus], sstatus" : [sstatus] "=r"(sstatus));
 361              		.loc 2 146 5
 362              	#APP
 363              	# 146 "src/../h/kern_reg_util.h" 1
 147              	    return sstatus;
 364              		csrr a5, sstatus
 365              	# 0 "" 2
 366              	#NO_APP
 367 0154 233CF4FA 		sd	a5,-72(s0)
 368              		.loc 2 147 5
 369              		.loc 2 147 12 is_stmt 0
 370 0158 833784FB 		ld	a5,-72(s0)
 371              	.LBE97:
 372              	.LBE96:
  89:src/kern_interrupts.c ****                 uint64 volatile v_sepc = r_sepc();
 373              		.loc 1 89 33
 374 015c 2338F4F6 		sd	a5,-144(s0)
  90:src/kern_interrupts.c ****                 kern_thread_dispatch();
 375              		.loc 1 90 17 is_stmt 1
 376              	.LBB98:
 377              	.LBB99:
GAS LISTING /tmp/ccZZyjj7.s 			page 14


  77:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sepc], sepc" : [sepc] "=r"(sepc));
 378              		.loc 2 77 5
  78:src/../h/kern_reg_util.h ****     return sepc;
 379              		.loc 2 78 5
 380              	#APP
 381              	# 78 "src/../h/kern_reg_util.h" 1
 382              		csrr a5, sepc
 383              	# 0 "" 2
 384              	#NO_APP
 385 0164 2338F4FA 		sd	a5,-80(s0)
  79:src/../h/kern_reg_util.h **** }
 386              		.loc 2 79 5
  79:src/../h/kern_reg_util.h **** }
 387              		.loc 2 79 12 is_stmt 0
 388 0168 833704FB 		ld	a5,-80(s0)
 389              	.LBE99:
 390              	.LBE98:
  90:src/kern_interrupts.c ****                 kern_thread_dispatch();
 391              		.loc 1 90 33
 392 016c 233CF4F6 		sd	a5,-136(s0)
  91:src/kern_interrupts.c ****                 w_sstatus(sstatus);
 393              		.loc 1 91 17 is_stmt 1
 394 0170 97000000 		call	kern_thread_dispatch
 394      E7800000 
 395              	.LVL26:
  92:src/kern_interrupts.c ****                 w_sepc(v_sepc);
 396              		.loc 1 92 17
 397 0178 833704F7 		ld	a5,-144(s0)
 398              	.LVL27:
 399              	.LBB100:
 400              	.LBB101:
 148:src/../h/kern_reg_util.h **** }
 149:src/../h/kern_reg_util.h **** 
 150:src/../h/kern_reg_util.h **** inline void w_sstatus(uint64 sstatus)
 151:src/../h/kern_reg_util.h **** {
 152:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrw sstatus, %[sstatus]" : : [sstatus] "r"(sstatus));
 401              		.loc 2 152 5
 402              	#APP
 403              	# 152 "src/../h/kern_reg_util.h" 1
 153              	}
 404              		csrw sstatus, a5
 405              	# 0 "" 2
 406              	.LVL28:
 407              	#NO_APP
 408              	.LBE101:
 409              	.LBE100:
  93:src/kern_interrupts.c ****                 running->endTime = time + running->timeslice;
 410              		.loc 1 93 17
 411 0180 833784F7 		ld	a5,-136(s0)
 412              	.LVL29:
 413              	.LBB102:
 414              	.LBB103:
  84:src/../h/kern_reg_util.h **** }
 415              		.loc 2 84 5
 416              	#APP
 417              	# 84 "src/../h/kern_reg_util.h" 1
 418              		csrw sepc, a5
GAS LISTING /tmp/ccZZyjj7.s 			page 15


 419              	# 0 "" 2
 420              	.LVL30:
 421              	#NO_APP
 422              	.LBE103:
 423              	.LBE102:
  94:src/kern_interrupts.c ****                 break;
 424              		.loc 1 94 17
  94:src/kern_interrupts.c ****                 break;
 425              		.loc 1 94 50 is_stmt 0
 426 0188 17070000 		ld	a4,running
 426      03370700 
 427 0190 83360703 		ld	a3,48(a4)
  94:src/kern_interrupts.c ****                 break;
 428              		.loc 1 94 41
 429 0194 97070000 		lw	a5,time
 429      83A70700 
 430 019c B387D700 		add	a5,a5,a3
  94:src/kern_interrupts.c ****                 break;
 431              		.loc 1 94 34
 432 01a0 233CF702 		sd	a5,56(a4)
  95:src/kern_interrupts.c ****             }
 433              		.loc 1 95 17 is_stmt 1
 434 01a4 6FF01FF0 		j	.L5
 435              	.LVL31:
 436              	.L13:
 437              	.LBE95:
 438              	.LBB104:
  99:src/kern_interrupts.c ****                 uint64 volatile sstatus = r_sstatus();
 439              		.loc 1 99 17
 100:src/kern_interrupts.c ****                 uint64 volatile v_sepc = r_sepc();
 440              		.loc 1 100 17
 441              	.LBB105:
 442              	.LBB106:
 145:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sstatus], sstatus" : [sstatus] "=r"(sstatus));
 443              		.loc 2 145 5
 146:src/../h/kern_reg_util.h ****     return sstatus;
 444              		.loc 2 146 5
 445              	#APP
 446              	# 146 "src/../h/kern_reg_util.h" 1
 447              		csrr a5, sstatus
 448              	# 0 "" 2
 449              	#NO_APP
 450 01ac 2334F4FC 		sd	a5,-56(s0)
 147:src/../h/kern_reg_util.h **** }
 451              		.loc 2 147 5
 147:src/../h/kern_reg_util.h **** }
 452              		.loc 2 147 12 is_stmt 0
 453 01b0 833784FC 		ld	a5,-56(s0)
 454              	.LBE106:
 455              	.LBE105:
 100:src/kern_interrupts.c ****                 uint64 volatile v_sepc = r_sepc();
 456              		.loc 1 100 33
 457 01b4 2330F4F8 		sd	a5,-128(s0)
 101:src/kern_interrupts.c ****                 kern_thread_join(handle);
 458              		.loc 1 101 17 is_stmt 1
 459              	.LBB107:
 460              	.LBB108:
GAS LISTING /tmp/ccZZyjj7.s 			page 16


  77:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sepc], sepc" : [sepc] "=r"(sepc));
 461              		.loc 2 77 5
  78:src/../h/kern_reg_util.h ****     return sepc;
 462              		.loc 2 78 5
 463              	#APP
 464              	# 78 "src/../h/kern_reg_util.h" 1
 465              		csrr a5, sepc
 466              	# 0 "" 2
 467              	#NO_APP
 468 01bc 2330F4FC 		sd	a5,-64(s0)
  79:src/../h/kern_reg_util.h **** }
 469              		.loc 2 79 5
  79:src/../h/kern_reg_util.h **** }
 470              		.loc 2 79 12 is_stmt 0
 471 01c0 833704FC 		ld	a5,-64(s0)
 472              	.LBE108:
 473              	.LBE107:
 101:src/kern_interrupts.c ****                 kern_thread_join(handle);
 474              		.loc 1 101 33
 475 01c4 2334F4F8 		sd	a5,-120(s0)
 102:src/kern_interrupts.c ****                 w_sstatus(sstatus);
 476              		.loc 1 102 17 is_stmt 1
 477 01c8 13850500 		mv	a0,a1
 478 01cc 97000000 		call	kern_thread_join
 478      E7800000 
 479              	.LVL32:
 103:src/kern_interrupts.c ****                 w_sepc(v_sepc);
 480              		.loc 1 103 17
 481 01d4 833704F8 		ld	a5,-128(s0)
 482              	.LVL33:
 483              	.LBB109:
 484              	.LBB110:
 152:src/../h/kern_reg_util.h **** }
 485              		.loc 2 152 5
 486              	#APP
 487              	# 152 "src/../h/kern_reg_util.h" 1
 488              		csrw sstatus, a5
 489              	# 0 "" 2
 490              	.LVL34:
 491              	#NO_APP
 492              	.LBE110:
 493              	.LBE109:
 104:src/kern_interrupts.c ****                 running->endTime = time + running->timeslice;
 494              		.loc 1 104 17
 495 01dc 833784F8 		ld	a5,-120(s0)
 496              	.LVL35:
 497              	.LBB111:
 498              	.LBB112:
  84:src/../h/kern_reg_util.h **** }
 499              		.loc 2 84 5
 500              	#APP
 501              	# 84 "src/../h/kern_reg_util.h" 1
 502              		csrw sepc, a5
 503              	# 0 "" 2
 504              	.LVL36:
 505              	#NO_APP
 506              	.LBE112:
GAS LISTING /tmp/ccZZyjj7.s 			page 17


 507              	.LBE111:
 105:src/kern_interrupts.c ****                 break;
 508              		.loc 1 105 17
 105:src/kern_interrupts.c ****                 break;
 509              		.loc 1 105 50 is_stmt 0
 510 01e4 17070000 		ld	a4,running
 510      03370700 
 511 01ec 83360703 		ld	a3,48(a4)
 105:src/kern_interrupts.c ****                 break;
 512              		.loc 1 105 41
 513 01f0 97070000 		lw	a5,time
 513      83A70700 
 514 01f8 B387D700 		add	a5,a5,a3
 105:src/kern_interrupts.c ****                 break;
 515              		.loc 1 105 34
 516 01fc 233CF702 		sd	a5,56(a4)
 106:src/kern_interrupts.c ****             }
 517              		.loc 1 106 17 is_stmt 1
 518 0200 6FF05FEA 		j	.L5
 519              	.LVL37:
 520              	.L15:
 521              	.LBE104:
 110:src/kern_interrupts.c ****             }
 522              		.loc 1 110 17
 523 0204 97000000 		call	kern_thread_end_running
 523      E7800000 
 524              	.LVL38:
 525              	.L12:
 526              	.LBB113:
 114:src/kern_interrupts.c ****                 uint64 init = a2;
 527              		.loc 1 114 17
 115:src/kern_interrupts.c ****                 retval = kern_sem_open(handle, init);
 528              		.loc 1 115 17
 116:src/kern_interrupts.c ****                 w_a0(retval);
 529              		.loc 1 116 17
 116:src/kern_interrupts.c ****                 w_a0(retval);
 530              		.loc 1 116 26 is_stmt 0
 531 020c 9B050900 		sext.w	a1,s2
 532 0210 13850400 		mv	a0,s1
 533 0214 97000000 		call	kern_sem_open
 533      E7800000 
 534              	.LVL39:
 117:src/kern_interrupts.c ****                 break;
 535              		.loc 1 117 17 is_stmt 1
 536              	.LBB114:
 537              	.LBB115:
  32:src/../h/kern_reg_util.h **** }
 538              		.loc 2 32 5
 539              	#APP
 540              	# 32 "src/../h/kern_reg_util.h" 1
  33:src/../h/kern_reg_util.h **** 
 541              		mv a0, a0
 542              	# 0 "" 2
 543              		.loc 2 33 1 is_stmt 0
 544              	#NO_APP
 545 0220 6FF05FE8 		j	.L5
 546              	.LVL40:
GAS LISTING /tmp/ccZZyjj7.s 			page 18


 547              	.L11:
 548              	.LBE115:
 549              	.LBE114:
 550              	.LBE113:
 551              	.LBB116:
 122:src/kern_interrupts.c ****                 retval = kern_sem_close(handle);
 552              		.loc 1 122 17 is_stmt 1
 123:src/kern_interrupts.c ****                 w_a0(retval);
 553              		.loc 1 123 17
 123:src/kern_interrupts.c ****                 w_a0(retval);
 554              		.loc 1 123 26 is_stmt 0
 555 0224 13850500 		mv	a0,a1
 556 0228 97000000 		call	kern_sem_close
 556      E7800000 
 557              	.LVL41:
 124:src/kern_interrupts.c ****                 break;
 558              		.loc 1 124 17 is_stmt 1
 559              	.LBB117:
 560              	.LBB118:
  32:src/../h/kern_reg_util.h **** }
 561              		.loc 2 32 5
 562              	#APP
 563              	# 32 "src/../h/kern_reg_util.h" 1
  33:src/../h/kern_reg_util.h **** 
 564              		mv a0, a0
 565              	# 0 "" 2
 566              		.loc 2 33 1 is_stmt 0
 567              	#NO_APP
 568 0234 6FF01FE7 		j	.L5
 569              	.LVL42:
 570              	.L9:
 571              	.LBE118:
 572              	.LBE117:
 573              	.LBE116:
 574              	.LBB119:
 129:src/kern_interrupts.c ****                 kern_sem_signal(handle);
 575              		.loc 1 129 17 is_stmt 1
 130:src/kern_interrupts.c ****                 retval = 0;
 576              		.loc 1 130 17
 577 0238 13850500 		mv	a0,a1
 578 023c 97000000 		call	kern_sem_signal
 578      E7800000 
 579              	.LVL43:
 131:src/kern_interrupts.c ****                 w_a0(retval);
 580              		.loc 1 131 17
 132:src/kern_interrupts.c ****                 break;
 581              		.loc 1 132 17
 582              	.LBB120:
 583              	.LBB121:
  32:src/../h/kern_reg_util.h **** }
 584              		.loc 2 32 5
 585 0244 93070000 		li	a5,0
 586              	#APP
 587              	# 32 "src/../h/kern_reg_util.h" 1
  33:src/../h/kern_reg_util.h **** 
 588              		mv a0, a5
 589              	# 0 "" 2
GAS LISTING /tmp/ccZZyjj7.s 			page 19


 590              		.loc 2 33 1 is_stmt 0
 591              	#NO_APP
 592 024c 6FF09FE5 		j	.L5
 593              	.LVL44:
 594              	.L10:
 595              	.LBE121:
 596              	.LBE120:
 597              	.LBE119:
 598              	.LBB122:
 137:src/kern_interrupts.c ****                 retval = kern_sem_wait(handle);
 599              		.loc 1 137 17 is_stmt 1
 138:src/kern_interrupts.c ****                 if (retval == 1) { //nije promenjen kontekst
 600              		.loc 1 138 17
 138:src/kern_interrupts.c ****                 if (retval == 1) { //nije promenjen kontekst
 601              		.loc 1 138 26 is_stmt 0
 602 0250 13850500 		mv	a0,a1
 603 0254 97000000 		call	kern_sem_wait
 603      E7800000 
 604              	.LVL45:
 139:src/kern_interrupts.c ****                     retval = 0;
 605              		.loc 1 139 17 is_stmt 1
 139:src/kern_interrupts.c ****                     retval = 0;
 606              		.loc 1 139 20 is_stmt 0
 607 025c 93071000 		li	a5,1
 608 0260 6304F502 		beq	a0,a5,.L20
 143:src/kern_interrupts.c ****                 }
 609              		.loc 1 143 21 is_stmt 1
 143:src/kern_interrupts.c ****                 }
 610              		.loc 1 143 54 is_stmt 0
 611 0264 17070000 		ld	a4,running
 611      03370700 
 612 026c 83360703 		ld	a3,48(a4)
 143:src/kern_interrupts.c ****                 }
 613              		.loc 1 143 45
 614 0270 97070000 		lw	a5,time
 614      83A70700 
 615 0278 B387D700 		add	a5,a5,a3
 143:src/kern_interrupts.c ****                 }
 616              		.loc 1 143 38
 617 027c 233CF702 		sd	a5,56(a4)
 618              	.LVL46:
 619              	.L19:
 145:src/kern_interrupts.c ****                 break;
 620              		.loc 1 145 17 is_stmt 1
 621              	.LBB123:
 622              	.LBB124:
  32:src/../h/kern_reg_util.h **** }
 623              		.loc 2 32 5
 624              	#APP
 625              	# 32 "src/../h/kern_reg_util.h" 1
  33:src/../h/kern_reg_util.h **** 
 626              		mv a0, a0
 627              	# 0 "" 2
 628              		.loc 2 33 1 is_stmt 0
 629              	#NO_APP
 630 0284 6FF01FE2 		j	.L5
 631              	.LVL47:
GAS LISTING /tmp/ccZZyjj7.s 			page 20


 632              	.L20:
 633              	.LBE124:
 634              	.LBE123:
 140:src/kern_interrupts.c ****                 }
 635              		.loc 1 140 28
 636 0288 13050000 		li	a0,0
 637              	.LVL48:
 638 028c 6FF05FFF 		j	.L19
 639              	.LVL49:
 640              	.L7:
 641              	.LBE122:
 642              	.LBB125:
 150:src/kern_interrupts.c ****                 running->status = SLEEPING;
 643              		.loc 1 150 17 is_stmt 1
 151:src/kern_interrupts.c ****                 running->endTime = SYSTEM_TIME + period;
 644              		.loc 1 151 17
 151:src/kern_interrupts.c ****                 running->endTime = SYSTEM_TIME + period;
 645              		.loc 1 151 24 is_stmt 0
 646 0290 17090000 		lla	s2,running
 646      13090900 
 647              	.LVL50:
 648 0298 83370900 		ld	a5,0(s2)
 151:src/kern_interrupts.c ****                 running->endTime = SYSTEM_TIME + period;
 649              		.loc 1 151 33
 650 029c 13075000 		li	a4,5
 651              	.LVL51:
 652 02a0 23A8E704 		sw	a4,80(a5)
 152:src/kern_interrupts.c ****                 uint64 volatile sstatus = r_sstatus();
 653              		.loc 1 152 17 is_stmt 1
 152:src/kern_interrupts.c ****                 uint64 volatile sstatus = r_sstatus();
 654              		.loc 1 152 48 is_stmt 0
 655 02a4 17070000 		ld	a4,SYSTEM_TIME
 655      03370700 
 656 02ac B384E500 		add	s1,a1,a4
 657              	.LVL52:
 152:src/kern_interrupts.c ****                 uint64 volatile sstatus = r_sstatus();
 658              		.loc 1 152 34
 659 02b0 23BC9702 		sd	s1,56(a5)
 153:src/kern_interrupts.c ****                 uint64 volatile v_sepc = r_sepc();
 660              		.loc 1 153 17 is_stmt 1
 661              	.LBB126:
 662              	.LBB127:
 145:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sstatus], sstatus" : [sstatus] "=r"(sstatus));
 663              		.loc 2 145 5
 146:src/../h/kern_reg_util.h ****     return sstatus;
 664              		.loc 2 146 5
 665              	#APP
 666              	# 146 "src/../h/kern_reg_util.h" 1
 667              		csrr a5, sstatus
 668              	# 0 "" 2
 669              	#NO_APP
 670 02b8 233CF4FC 		sd	a5,-40(s0)
 147:src/../h/kern_reg_util.h **** }
 671              		.loc 2 147 5
 147:src/../h/kern_reg_util.h **** }
 672              		.loc 2 147 12 is_stmt 0
 673 02bc 833784FD 		ld	a5,-40(s0)
GAS LISTING /tmp/ccZZyjj7.s 			page 21


 674              	.LBE127:
 675              	.LBE126:
 153:src/kern_interrupts.c ****                 uint64 volatile v_sepc = r_sepc();
 676              		.loc 1 153 33
 677 02c0 2338F4F8 		sd	a5,-112(s0)
 154:src/kern_interrupts.c ****                 kern_thread_dispatch();
 678              		.loc 1 154 17 is_stmt 1
 679              	.LBB128:
 680              	.LBB129:
  77:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sepc], sepc" : [sepc] "=r"(sepc));
 681              		.loc 2 77 5
  78:src/../h/kern_reg_util.h ****     return sepc;
 682              		.loc 2 78 5
 683              	#APP
 684              	# 78 "src/../h/kern_reg_util.h" 1
 685              		csrr a5, sepc
 686              	# 0 "" 2
 687              	#NO_APP
 688 02c8 2338F4FC 		sd	a5,-48(s0)
  79:src/../h/kern_reg_util.h **** }
 689              		.loc 2 79 5
  79:src/../h/kern_reg_util.h **** }
 690              		.loc 2 79 12 is_stmt 0
 691 02cc 833704FD 		ld	a5,-48(s0)
 692              	.LBE129:
 693              	.LBE128:
 154:src/kern_interrupts.c ****                 kern_thread_dispatch();
 694              		.loc 1 154 33
 695 02d0 233CF4F8 		sd	a5,-104(s0)
 155:src/kern_interrupts.c ****                 w_sstatus(sstatus);
 696              		.loc 1 155 17 is_stmt 1
 697 02d4 97000000 		call	kern_thread_dispatch
 697      E7800000 
 698              	.LVL53:
 156:src/kern_interrupts.c ****                 w_sepc(v_sepc);
 699              		.loc 1 156 17
 700 02dc 833704F9 		ld	a5,-112(s0)
 701              	.LVL54:
 702              	.LBB130:
 703              	.LBB131:
 152:src/../h/kern_reg_util.h **** }
 704              		.loc 2 152 5
 705              	#APP
 706              	# 152 "src/../h/kern_reg_util.h" 1
 707              		csrw sstatus, a5
 708              	# 0 "" 2
 709              	.LVL55:
 710              	#NO_APP
 711              	.LBE131:
 712              	.LBE130:
 157:src/kern_interrupts.c ****                 running->endTime = time + running->timeslice;
 713              		.loc 1 157 17
 714 02e4 833784F9 		ld	a5,-104(s0)
 715              	.LVL56:
 716              	.LBB132:
 717              	.LBB133:
  84:src/../h/kern_reg_util.h **** }
GAS LISTING /tmp/ccZZyjj7.s 			page 22


 718              		.loc 2 84 5
 719              	#APP
 720              	# 84 "src/../h/kern_reg_util.h" 1
 721              		csrw sepc, a5
 722              	# 0 "" 2
 723              	.LVL57:
 724              	#NO_APP
 725              	.LBE133:
 726              	.LBE132:
 158:src/kern_interrupts.c ****             }
 727              		.loc 1 158 17
 158:src/kern_interrupts.c ****             }
 728              		.loc 1 158 50 is_stmt 0
 729 02ec 03370900 		ld	a4,0(s2)
 730 02f0 83360703 		ld	a3,48(a4)
 158:src/kern_interrupts.c ****             }
 731              		.loc 1 158 41
 732 02f4 97070000 		lw	a5,time
 732      83A70700 
 733 02fc B387D700 		add	a5,a5,a3
 158:src/kern_interrupts.c ****             }
 734              		.loc 1 158 34
 735 0300 233CF702 		sd	a5,56(a4)
 736              	.LBE125:
 737              	.LBE81:
 738              		.loc 1 172 1
 739 0304 6FF01FDA 		j	.L5
 740              		.cfi_endproc
 741              	.LFE24:
 743              		.align	2
 744              		.globl	handleInterrupt
 746              	handleInterrupt:
 747              	.LFB25:
 173:src/kern_interrupts.c **** 
 174:src/kern_interrupts.c **** void handleInterrupt()
 175:src/kern_interrupts.c **** {
 748              		.loc 1 175 1 is_stmt 1
 749              		.cfi_startproc
 750 0308 130101FB 		addi	sp,sp,-80
 751              		.cfi_def_cfa_offset 80
 752 030c 23341104 		sd	ra,72(sp)
 753 0310 23308104 		sd	s0,64(sp)
 754 0314 233C9102 		sd	s1,56(sp)
 755              		.cfi_offset 1, -8
 756              		.cfi_offset 8, -16
 757              		.cfi_offset 9, -24
 758 0318 13040105 		addi	s0,sp,80
 759              		.cfi_def_cfa 8, 0
 176:src/kern_interrupts.c ****     uint64 scause = r_scause();
 760              		.loc 1 176 5
 761              	.LBB134:
 762              	.LBB135:
  65:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[scause], scause" : [scause] "=r"(scause));
 763              		.loc 2 65 5
  66:src/../h/kern_reg_util.h ****     return scause;
 764              		.loc 2 66 5
 765              	#APP
GAS LISTING /tmp/ccZZyjj7.s 			page 23


 766              	# 66 "src/../h/kern_reg_util.h" 1
 767              		csrr a5, scause
 768              	# 0 "" 2
 769              	#NO_APP
 770 0320 2334F4FC 		sd	a5,-56(s0)
  67:src/../h/kern_reg_util.h **** }
 771              		.loc 2 67 5
  67:src/../h/kern_reg_util.h **** }
 772              		.loc 2 67 12 is_stmt 0
 773 0324 033784FC 		ld	a4,-56(s0)
 774              	.LVL58:
 775              	.LBE135:
 776              	.LBE134:
 177:src/kern_interrupts.c ****     if (scause == INTR_TIMER)
 777              		.loc 1 177 5 is_stmt 1
 778              		.loc 1 177 8 is_stmt 0
 779 0328 9307F0FF 		li	a5,-1
 780 032c 9397F703 		slli	a5,a5,63
 781 0330 93871700 		addi	a5,a5,1
 782 0334 6304F702 		beq	a4,a5,.L28
 178:src/kern_interrupts.c ****     {
 179:src/kern_interrupts.c ****         SYSTEM_TIME++;
 180:src/kern_interrupts.c ****         mc_sip(SIP_SSIP);
 181:src/kern_interrupts.c **** 
 182:src/kern_interrupts.c **** 
 183:src/kern_interrupts.c ****         kern_thread_wakeup(SYSTEM_TIME);
 184:src/kern_interrupts.c **** 
 185:src/kern_interrupts.c ****         if(SYSTEM_TIME>=running->endTime){
 186:src/kern_interrupts.c ****             //__putc('(');
 187:src/kern_interrupts.c ****             //__putc('0'+running->id);
 188:src/kern_interrupts.c ****             //__putc('-');
 189:src/kern_interrupts.c ****             //__putc('>');
 190:src/kern_interrupts.c ****             uint64 volatile sstatus = r_sstatus();
 191:src/kern_interrupts.c ****             uint64 volatile v_sepc = r_sepc();
 192:src/kern_interrupts.c ****             kern_thread_dispatch();
 193:src/kern_interrupts.c ****             w_sstatus(sstatus);
 194:src/kern_interrupts.c ****             w_sepc(v_sepc);
 195:src/kern_interrupts.c ****             running->endTime=SYSTEM_TIME+running->timeslice;
 196:src/kern_interrupts.c ****             //__putc('0'+running->id);
 197:src/kern_interrupts.c ****             //__putc(')');
 198:src/kern_interrupts.c ****         }
 199:src/kern_interrupts.c **** 
 200:src/kern_interrupts.c ****     }
 201:src/kern_interrupts.c ****     else if (scause == INTR_CONSOLE)
 783              		.loc 1 201 10 is_stmt 1
 784              		.loc 1 201 13 is_stmt 0
 785 0338 9307F0FF 		li	a5,-1
 786 033c 9397F703 		slli	a5,a5,63
 787 0340 93879700 		addi	a5,a5,9
 788 0344 6304F70A 		beq	a4,a5,.L29
 789              	.LVL59:
 790              	.L23:
 202:src/kern_interrupts.c ****     {
 203:src/kern_interrupts.c ****         // interrupt: yes; cause code: supervisor external interrupt (PLIC; could be keyboard)
 204:src/kern_interrupts.c ****         int i = plic_claim();
 205:src/kern_interrupts.c ****         if(i==10){
 206:src/kern_interrupts.c ****             plic_complete(i);
GAS LISTING /tmp/ccZZyjj7.s 			page 24


 207:src/kern_interrupts.c ****             i--;
 208:src/kern_interrupts.c ****         }
 209:src/kern_interrupts.c ****         else {
 210:src/kern_interrupts.c ****             i++;
 211:src/kern_interrupts.c ****         }
 212:src/kern_interrupts.c ****         console_handler();
 213:src/kern_interrupts.c ****     }
 214:src/kern_interrupts.c ****     else if(scause == INTR_ILLEGAL_INSTRUCTION)
 215:src/kern_interrupts.c ****     {
 216:src/kern_interrupts.c ****         // unexpected trap cause
 217:src/kern_interrupts.c ****     }
 218:src/kern_interrupts.c ****     else if(scause == INTR_ILLEGAL_ADDR_RD)
 219:src/kern_interrupts.c ****     {
 220:src/kern_interrupts.c **** 
 221:src/kern_interrupts.c ****     }
 222:src/kern_interrupts.c ****     else if(scause==INTR_ILLEGAL_ADDR_WR){
 223:src/kern_interrupts.c **** 
 224:src/kern_interrupts.c ****     }
 225:src/kern_interrupts.c **** }
 791              		.loc 1 225 1
 792 0348 83308104 		ld	ra,72(sp)
 793              		.cfi_remember_state
 794              		.cfi_restore 1
 795 034c 03340104 		ld	s0,64(sp)
 796              		.cfi_restore 8
 797              		.cfi_def_cfa 2, 80
 798 0350 83348103 		ld	s1,56(sp)
 799              		.cfi_restore 9
 800 0354 13010105 		addi	sp,sp,80
 801              		.cfi_def_cfa_offset 0
 802 0358 67800000 		jr	ra
 803              	.LVL60:
 804              	.L28:
 805              		.cfi_restore_state
 179:src/kern_interrupts.c ****         mc_sip(SIP_SSIP);
 806              		.loc 1 179 9 is_stmt 1
 179:src/kern_interrupts.c ****         mc_sip(SIP_SSIP);
 807              		.loc 1 179 20 is_stmt 0
 808 035c 97040000 		lla	s1,SYSTEM_TIME
 808      93840400 
 809 0364 03B50400 		ld	a0,0(s1)
 810 0368 13051500 		addi	a0,a0,1
 811 036c 23B0A400 		sd	a0,0(s1)
 180:src/kern_interrupts.c **** 
 812              		.loc 1 180 9 is_stmt 1
 813              	.LVL61:
 814              	.LBB136:
 815              	.LBB137:
 118:src/../h/kern_reg_util.h **** }
 816              		.loc 2 118 5
 817 0370 93072000 		li	a5,2
 818              	#APP
 819              	# 118 "src/../h/kern_reg_util.h" 1
 820              		csrc sip, a5
 821              	# 0 "" 2
 822              	.LVL62:
 823              	#NO_APP
GAS LISTING /tmp/ccZZyjj7.s 			page 25


 824              	.LBE137:
 825              	.LBE136:
 183:src/kern_interrupts.c **** 
 826              		.loc 1 183 9
 827 0378 97000000 		call	kern_thread_wakeup
 827      E7800000 
 828              	.LVL63:
 185:src/kern_interrupts.c ****             //__putc('(');
 829              		.loc 1 185 9
 185:src/kern_interrupts.c ****             //__putc('(');
 830              		.loc 1 185 32 is_stmt 0
 831 0380 97070000 		ld	a5,running
 831      83B70700 
 832 0388 03B78703 		ld	a4,56(a5)
 185:src/kern_interrupts.c ****             //__putc('(');
 833              		.loc 1 185 23
 834 038c 83B70400 		ld	a5,0(s1)
 185:src/kern_interrupts.c ****             //__putc('(');
 835              		.loc 1 185 11
 836 0390 E3ECE7FA 		bgtu	a4,a5,.L23
 837              	.LBB138:
 190:src/kern_interrupts.c ****             uint64 volatile v_sepc = r_sepc();
 838              		.loc 1 190 13 is_stmt 1
 839              	.LBB139:
 840              	.LBB140:
 145:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sstatus], sstatus" : [sstatus] "=r"(sstatus));
 841              		.loc 2 145 5
 146:src/../h/kern_reg_util.h ****     return sstatus;
 842              		.loc 2 146 5
 843              	#APP
 844              	# 146 "src/../h/kern_reg_util.h" 1
 845              		csrr a5, sstatus
 846              	# 0 "" 2
 847              	#NO_APP
 848 0398 233CF4FC 		sd	a5,-40(s0)
 147:src/../h/kern_reg_util.h **** }
 849              		.loc 2 147 5
 147:src/../h/kern_reg_util.h **** }
 850              		.loc 2 147 12 is_stmt 0
 851 039c 833784FD 		ld	a5,-40(s0)
 852              	.LBE140:
 853              	.LBE139:
 190:src/kern_interrupts.c ****             uint64 volatile v_sepc = r_sepc();
 854              		.loc 1 190 29
 855 03a0 233CF4FA 		sd	a5,-72(s0)
 191:src/kern_interrupts.c ****             kern_thread_dispatch();
 856              		.loc 1 191 13 is_stmt 1
 857              	.LBB141:
 858              	.LBB142:
  77:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sepc], sepc" : [sepc] "=r"(sepc));
 859              		.loc 2 77 5
  78:src/../h/kern_reg_util.h ****     return sepc;
 860              		.loc 2 78 5
 861              	#APP
 862              	# 78 "src/../h/kern_reg_util.h" 1
 863              		csrr a5, sepc
 864              	# 0 "" 2
GAS LISTING /tmp/ccZZyjj7.s 			page 26


 865              	#NO_APP
 866 03a8 2338F4FC 		sd	a5,-48(s0)
  79:src/../h/kern_reg_util.h **** }
 867              		.loc 2 79 5
  79:src/../h/kern_reg_util.h **** }
 868              		.loc 2 79 12 is_stmt 0
 869 03ac 833704FD 		ld	a5,-48(s0)
 870              	.LBE142:
 871              	.LBE141:
 191:src/kern_interrupts.c ****             kern_thread_dispatch();
 872              		.loc 1 191 29
 873 03b0 2330F4FC 		sd	a5,-64(s0)
 192:src/kern_interrupts.c ****             w_sstatus(sstatus);
 874              		.loc 1 192 13 is_stmt 1
 875 03b4 97000000 		call	kern_thread_dispatch
 875      E7800000 
 876              	.LVL64:
 193:src/kern_interrupts.c ****             w_sepc(v_sepc);
 877              		.loc 1 193 13
 878 03bc 833784FB 		ld	a5,-72(s0)
 879              	.LVL65:
 880              	.LBB143:
 881              	.LBB144:
 152:src/../h/kern_reg_util.h **** }
 882              		.loc 2 152 5
 883              	#APP
 884              	# 152 "src/../h/kern_reg_util.h" 1
 885              		csrw sstatus, a5
 886              	# 0 "" 2
 887              	.LVL66:
 888              	#NO_APP
 889              	.LBE144:
 890              	.LBE143:
 194:src/kern_interrupts.c ****             running->endTime=SYSTEM_TIME+running->timeslice;
 891              		.loc 1 194 13
 892 03c4 833704FC 		ld	a5,-64(s0)
 893              	.LVL67:
 894              	.LBB145:
 895              	.LBB146:
  84:src/../h/kern_reg_util.h **** }
 896              		.loc 2 84 5
 897              	#APP
 898              	# 84 "src/../h/kern_reg_util.h" 1
 899              		csrw sepc, a5
 900              	# 0 "" 2
 901              	.LVL68:
 902              	#NO_APP
 903              	.LBE146:
 904              	.LBE145:
 195:src/kern_interrupts.c ****             //__putc('0'+running->id);
 905              		.loc 1 195 13
 195:src/kern_interrupts.c ****             //__putc('0'+running->id);
 906              		.loc 1 195 49 is_stmt 0
 907 03cc 17070000 		ld	a4,running
 907      03370700 
 908 03d4 83370703 		ld	a5,48(a4)
 195:src/kern_interrupts.c ****             //__putc('0'+running->id);
GAS LISTING /tmp/ccZZyjj7.s 			page 27


 909              		.loc 1 195 41
 910 03d8 97060000 		ld	a3,SYSTEM_TIME
 910      83B60600 
 911 03e0 B387D700 		add	a5,a5,a3
 195:src/kern_interrupts.c ****             //__putc('0'+running->id);
 912              		.loc 1 195 29
 913 03e4 233CF702 		sd	a5,56(a4)
 914 03e8 6FF01FF6 		j	.L23
 915              	.LVL69:
 916              	.L29:
 917              	.LBE138:
 918              	.LBB147:
 204:src/kern_interrupts.c ****         if(i==10){
 919              		.loc 1 204 9 is_stmt 1
 204:src/kern_interrupts.c ****         if(i==10){
 920              		.loc 1 204 17 is_stmt 0
 921 03ec 97000000 		call	plic_claim
 921      E7800000 
 922              	.LVL70:
 205:src/kern_interrupts.c ****             plic_complete(i);
 923              		.loc 1 205 9 is_stmt 1
 205:src/kern_interrupts.c ****             plic_complete(i);
 924              		.loc 1 205 11 is_stmt 0
 925 03f4 9307A000 		li	a5,10
 926 03f8 6308F500 		beq	a0,a5,.L30
 927              	.L26:
 212:src/kern_interrupts.c ****     }
 928              		.loc 1 212 9 is_stmt 1
 929 03fc 97000000 		call	console_handler
 929      E7800000 
 930              	.LVL71:
 931              	.LBE147:
 224:src/kern_interrupts.c **** }
 932              		.loc 1 224 5
 933              		.loc 1 225 1 is_stmt 0
 934 0404 6FF05FF4 		j	.L23
 935              	.L30:
 936              	.LBB148:
 206:src/kern_interrupts.c ****             i--;
 937              		.loc 1 206 13 is_stmt 1
 938 0408 97000000 		call	plic_complete
 938      E7800000 
 939              	.LVL72:
 207:src/kern_interrupts.c ****         }
 940              		.loc 1 207 13
 941 0410 6FF0DFFE 		j	.L26
 942              	.LBE148:
 943              		.cfi_endproc
 944              	.LFE25:
 946              		.globl	time
 947              		.globl	SYSTEM_TIME
 948              		.section	.sbss,"aw",@nobits
 949              		.align	3
 952              	time:
 953 0000 00000000 		.zero	4
 954 0004 00000000 		.zero	4
 957              	SYSTEM_TIME:
GAS LISTING /tmp/ccZZyjj7.s 			page 28


 958 0008 00000000 		.zero	8
 958      00000000 
 959              		.text
 960              	.Letext0:
 961              		.file 3 "src/../lib/hw.h"
 962              		.file 4 "src/../h/kern_interrupts.h"
 963              		.file 5 "src/../h/kern_threads.h"
 964              		.file 6 "src/../h/syscall_c.h"
 965              		.file 7 "src/../h/kern_semaphore.h"
 966              		.file 8 "src/../lib/console.h"
 967              		.file 9 "src/../h/kern_memory.h"
GAS LISTING /tmp/ccZZyjj7.s 			page 29


DEFINED SYMBOLS
                            *ABS*:0000000000000000 kern_interrupts.c
     /tmp/ccZZyjj7.s:10     .text:0000000000000000 kern_syscall
     /tmp/ccZZyjj7.s:14     .text:0000000000000000 .L0 
     /tmp/ccZZyjj7.s:16     .text:0000000000000000 .L0 
     /tmp/ccZZyjj7.s:17     .text:0000000000000004 .L0 
     /tmp/ccZZyjj7.s:19     .text:0000000000000008 .L0 
     /tmp/ccZZyjj7.s:21     .text:000000000000000c .L0 
src/kern_interrupts.c:31     .text:0000000000000028 .L0 
     /tmp/ccZZyjj7.s:35     .text:000000000000002c .L0 
     /tmp/ccZZyjj7.s:37     .text:000000000000002c .L0 
     /tmp/ccZZyjj7.s:38     .text:0000000000000030 .L0 
     /tmp/ccZZyjj7.s:39     .text:0000000000000030 .L0 
     /tmp/ccZZyjj7.s:41     .text:0000000000000034 .L0 
     /tmp/ccZZyjj7.s:43     .text:0000000000000038 .L0 
     /tmp/ccZZyjj7.s:49     .text:0000000000000038 kern_interrupt_init
     /tmp/ccZZyjj7.s:52     .text:0000000000000038 .L0 
     /tmp/ccZZyjj7.s:53     .text:0000000000000038 .L0 
     /tmp/ccZZyjj7.s:54     .text:000000000000003c .L0 
     /tmp/ccZZyjj7.s:56     .text:0000000000000040 .L0 
     /tmp/ccZZyjj7.s:58     .text:0000000000000044 .L0 
     /tmp/ccZZyjj7.s:60     .text:0000000000000044 .L0 
     /tmp/ccZZyjj7.s:957    .sbss:0000000000000008 SYSTEM_TIME
     /tmp/ccZZyjj7.s:61     .text:0000000000000044 .L0 
     /tmp/ccZZyjj7.s:63     .text:000000000000004c .L0 
src/../h/kern_reg_util.h:96     .text:0000000000000054 .L0 
     /tmp/ccZZyjj7.s:80     .text:0000000000000058 .L0 
     /tmp/ccZZyjj7.s:81     .text:0000000000000058 .L0 
     /tmp/ccZZyjj7.s:91     .text:0000000000000060 .L0 
     /tmp/ccZZyjj7.s:92     .text:0000000000000064 .L0 
     /tmp/ccZZyjj7.s:93     .text:0000000000000064 .L0 
     /tmp/ccZZyjj7.s:95     .text:0000000000000068 .L0 
     /tmp/ccZZyjj7.s:97     .text:000000000000006c .L0 
     /tmp/ccZZyjj7.s:103    .text:000000000000006c handleEcall
     /tmp/ccZZyjj7.s:106    .text:000000000000006c .L0 
     /tmp/ccZZyjj7.s:108    .text:000000000000006c .L0 
     /tmp/ccZZyjj7.s:109    .text:0000000000000070 .L0 
     /tmp/ccZZyjj7.s:114    .text:0000000000000080 .L0 
     /tmp/ccZZyjj7.s:115    .text:0000000000000080 .L0 
     /tmp/ccZZyjj7.s:116    .text:0000000000000080 .L0 
     /tmp/ccZZyjj7.s:117    .text:0000000000000080 .L0 
     /tmp/ccZZyjj7.s:119    .text:0000000000000084 .L0 
     /tmp/ccZZyjj7.s:126    .text:000000000000008c .L0 
     /tmp/ccZZyjj7.s:127    .text:000000000000008c .L0 
src/../h/kern_reg_util.h:66     .text:000000000000008c .L0 
     /tmp/ccZZyjj7.s:135    .text:0000000000000094 .L0 
     /tmp/ccZZyjj7.s:136    .text:0000000000000094 .L0 
     /tmp/ccZZyjj7.s:141    .text:0000000000000098 .L0 
     /tmp/ccZZyjj7.s:142    .text:0000000000000098 .L0 
     /tmp/ccZZyjj7.s:145    .text:000000000000009c .L0 
     /tmp/ccZZyjj7.s:151    .text:00000000000000a4 .L0 
     /tmp/ccZZyjj7.s:152    .text:00000000000000a8 .L0 
     /tmp/ccZZyjj7.s:153    .text:00000000000000a8 .L0 
     /tmp/ccZZyjj7.s:155    .text:00000000000000ac .L0 
     /tmp/ccZZyjj7.s:156    .text:00000000000000ac .L0 
     /tmp/ccZZyjj7.s:158    .text:00000000000000b0 .L0 
     /tmp/ccZZyjj7.s:160    .text:00000000000000b4 .L0 
GAS LISTING /tmp/ccZZyjj7.s 			page 30


     /tmp/ccZZyjj7.s:162    .text:00000000000000b8 .L0 
     /tmp/ccZZyjj7.s:166    .text:00000000000000bc .L0 
     /tmp/ccZZyjj7.s:170    .text:00000000000000c0 .L0 
     /tmp/ccZZyjj7.s:172    .text:00000000000000c0 .L0 
     /tmp/ccZZyjj7.s:175    .text:00000000000000c0 .L0 
     /tmp/ccZZyjj7.s:176    .text:00000000000000c0 .L0 
src/../h/kern_reg_util.h:78     .text:00000000000000c0 .L0 
     /tmp/ccZZyjj7.s:185    .text:00000000000000c8 .L0 
     /tmp/ccZZyjj7.s:186    .text:00000000000000c8 .L0 
     /tmp/ccZZyjj7.s:190    .text:00000000000000cc .L0 
     /tmp/ccZZyjj7.s:195    .text:00000000000000d0 .L0 
src/../h/kern_reg_util.h:84     .text:00000000000000d0 .L0 
     /tmp/ccZZyjj7.s:205    .text:00000000000000d4 .L0 
     /tmp/ccZZyjj7.s:275    .text:00000000000000f8 .L0 
     /tmp/ccZZyjj7.s:276    .text:00000000000000f8 .L0 
     /tmp/ccZZyjj7.s:277    .text:00000000000000f8 .L0 
     /tmp/ccZZyjj7.s:283    .text:0000000000000104 .L0 
src/../h/kern_reg_util.h:32     .text:0000000000000104 .L0 
     /tmp/ccZZyjj7.s:290    .text:0000000000000108 .L0 
     /tmp/ccZZyjj7.s:298    .text:000000000000010c .L0 
     /tmp/ccZZyjj7.s:299    .text:000000000000010c .L0 
     /tmp/ccZZyjj7.s:300    .text:000000000000010c .L0 
     /tmp/ccZZyjj7.s:306    .text:0000000000000118 .L0 
src/../h/kern_reg_util.h:32     .text:0000000000000118 .L0 
     /tmp/ccZZyjj7.s:313    .text:000000000000011c .L0 
     /tmp/ccZZyjj7.s:321    .text:0000000000000120 .L0 
     /tmp/ccZZyjj7.s:322    .text:0000000000000120 .L0 
     /tmp/ccZZyjj7.s:323    .text:0000000000000120 .L0 
     /tmp/ccZZyjj7.s:324    .text:0000000000000120 .L0 
     /tmp/ccZZyjj7.s:325    .text:0000000000000120 .L0 
     /tmp/ccZZyjj7.s:326    .text:0000000000000120 .L0 
     /tmp/ccZZyjj7.s:332    .text:0000000000000134 .L0 
     /tmp/ccZZyjj7.s:333    .text:0000000000000134 .L0 
     /tmp/ccZZyjj7.s:335    .text:0000000000000138 .L0 
     /tmp/ccZZyjj7.s:338    .text:0000000000000144 .L0 
     /tmp/ccZZyjj7.s:343    .text:0000000000000148 .L0 
src/../h/kern_reg_util.h:32     .text:0000000000000148 .L0 
     /tmp/ccZZyjj7.s:350    .text:000000000000014c .L0 
     /tmp/ccZZyjj7.s:360    .text:0000000000000150 .L0 
     /tmp/ccZZyjj7.s:361    .text:0000000000000150 .L0 
src/../h/kern_reg_util.h:146    .text:0000000000000150 .L0 
     /tmp/ccZZyjj7.s:369    .text:0000000000000158 .L0 
     /tmp/ccZZyjj7.s:370    .text:0000000000000158 .L0 
     /tmp/ccZZyjj7.s:374    .text:000000000000015c .L0 
     /tmp/ccZZyjj7.s:378    .text:0000000000000160 .L0 
     /tmp/ccZZyjj7.s:379    .text:0000000000000160 .L0 
src/../h/kern_reg_util.h:78     .text:0000000000000160 .L0 
     /tmp/ccZZyjj7.s:387    .text:0000000000000168 .L0 
     /tmp/ccZZyjj7.s:388    .text:0000000000000168 .L0 
     /tmp/ccZZyjj7.s:392    .text:000000000000016c .L0 
     /tmp/ccZZyjj7.s:394    .text:0000000000000170 .L0 
     /tmp/ccZZyjj7.s:397    .text:0000000000000178 .L0 
src/../h/kern_reg_util.h:152    .text:000000000000017c .L0 
     /tmp/ccZZyjj7.s:411    .text:0000000000000180 .L0 
src/../h/kern_reg_util.h:84     .text:0000000000000184 .L0 
     /tmp/ccZZyjj7.s:425    .text:0000000000000188 .L0 
     /tmp/ccZZyjj7.s:426    .text:0000000000000188 .L0 
GAS LISTING /tmp/ccZZyjj7.s 			page 31


     /tmp/ccZZyjj7.s:952    .sbss:0000000000000000 time
     /tmp/ccZZyjj7.s:429    .text:0000000000000194 .L0 
     /tmp/ccZZyjj7.s:432    .text:00000000000001a0 .L0 
     /tmp/ccZZyjj7.s:434    .text:00000000000001a4 .L0 
     /tmp/ccZZyjj7.s:440    .text:00000000000001a8 .L0 
     /tmp/ccZZyjj7.s:443    .text:00000000000001a8 .L0 
     /tmp/ccZZyjj7.s:444    .text:00000000000001a8 .L0 
src/../h/kern_reg_util.h:146    .text:00000000000001a8 .L0 
     /tmp/ccZZyjj7.s:452    .text:00000000000001b0 .L0 
     /tmp/ccZZyjj7.s:453    .text:00000000000001b0 .L0 
     /tmp/ccZZyjj7.s:457    .text:00000000000001b4 .L0 
     /tmp/ccZZyjj7.s:461    .text:00000000000001b8 .L0 
     /tmp/ccZZyjj7.s:462    .text:00000000000001b8 .L0 
src/../h/kern_reg_util.h:78     .text:00000000000001b8 .L0 
     /tmp/ccZZyjj7.s:470    .text:00000000000001c0 .L0 
     /tmp/ccZZyjj7.s:471    .text:00000000000001c0 .L0 
     /tmp/ccZZyjj7.s:475    .text:00000000000001c4 .L0 
     /tmp/ccZZyjj7.s:477    .text:00000000000001c8 .L0 
     /tmp/ccZZyjj7.s:481    .text:00000000000001d4 .L0 
src/../h/kern_reg_util.h:152    .text:00000000000001d8 .L0 
     /tmp/ccZZyjj7.s:495    .text:00000000000001dc .L0 
src/../h/kern_reg_util.h:84     .text:00000000000001e0 .L0 
     /tmp/ccZZyjj7.s:509    .text:00000000000001e4 .L0 
     /tmp/ccZZyjj7.s:510    .text:00000000000001e4 .L0 
     /tmp/ccZZyjj7.s:513    .text:00000000000001f0 .L0 
     /tmp/ccZZyjj7.s:516    .text:00000000000001fc .L0 
     /tmp/ccZZyjj7.s:518    .text:0000000000000200 .L0 
     /tmp/ccZZyjj7.s:523    .text:0000000000000204 .L0 
     /tmp/ccZZyjj7.s:528    .text:000000000000020c .L0 
     /tmp/ccZZyjj7.s:529    .text:000000000000020c .L0 
     /tmp/ccZZyjj7.s:530    .text:000000000000020c .L0 
     /tmp/ccZZyjj7.s:531    .text:000000000000020c .L0 
     /tmp/ccZZyjj7.s:538    .text:000000000000021c .L0 
src/../h/kern_reg_util.h:32     .text:000000000000021c .L0 
     /tmp/ccZZyjj7.s:545    .text:0000000000000220 .L0 
     /tmp/ccZZyjj7.s:553    .text:0000000000000224 .L0 
     /tmp/ccZZyjj7.s:554    .text:0000000000000224 .L0 
     /tmp/ccZZyjj7.s:555    .text:0000000000000224 .L0 
     /tmp/ccZZyjj7.s:561    .text:0000000000000230 .L0 
src/../h/kern_reg_util.h:32     .text:0000000000000230 .L0 
     /tmp/ccZZyjj7.s:568    .text:0000000000000234 .L0 
     /tmp/ccZZyjj7.s:576    .text:0000000000000238 .L0 
     /tmp/ccZZyjj7.s:577    .text:0000000000000238 .L0 
     /tmp/ccZZyjj7.s:581    .text:0000000000000244 .L0 
     /tmp/ccZZyjj7.s:584    .text:0000000000000244 .L0 
     /tmp/ccZZyjj7.s:585    .text:0000000000000244 .L0 
     /tmp/ccZZyjj7.s:592    .text:000000000000024c .L0 
     /tmp/ccZZyjj7.s:600    .text:0000000000000250 .L0 
     /tmp/ccZZyjj7.s:601    .text:0000000000000250 .L0 
     /tmp/ccZZyjj7.s:602    .text:0000000000000250 .L0 
     /tmp/ccZZyjj7.s:606    .text:000000000000025c .L0 
     /tmp/ccZZyjj7.s:607    .text:000000000000025c .L0 
     /tmp/ccZZyjj7.s:610    .text:0000000000000264 .L0 
     /tmp/ccZZyjj7.s:611    .text:0000000000000264 .L0 
     /tmp/ccZZyjj7.s:614    .text:0000000000000270 .L0 
     /tmp/ccZZyjj7.s:617    .text:000000000000027c .L0 
     /tmp/ccZZyjj7.s:623    .text:0000000000000280 .L0 
GAS LISTING /tmp/ccZZyjj7.s 			page 32


src/../h/kern_reg_util.h:32     .text:0000000000000280 .L0 
     /tmp/ccZZyjj7.s:630    .text:0000000000000284 .L0 
     /tmp/ccZZyjj7.s:636    .text:0000000000000288 .L0 
     /tmp/ccZZyjj7.s:644    .text:0000000000000290 .L0 
     /tmp/ccZZyjj7.s:645    .text:0000000000000290 .L0 
     /tmp/ccZZyjj7.s:646    .text:0000000000000290 .L0 
     /tmp/ccZZyjj7.s:650    .text:000000000000029c .L0 
     /tmp/ccZZyjj7.s:654    .text:00000000000002a4 .L0 
     /tmp/ccZZyjj7.s:655    .text:00000000000002a4 .L0 
     /tmp/ccZZyjj7.s:659    .text:00000000000002b0 .L0 
     /tmp/ccZZyjj7.s:663    .text:00000000000002b4 .L0 
     /tmp/ccZZyjj7.s:664    .text:00000000000002b4 .L0 
src/../h/kern_reg_util.h:146    .text:00000000000002b4 .L0 
     /tmp/ccZZyjj7.s:672    .text:00000000000002bc .L0 
     /tmp/ccZZyjj7.s:673    .text:00000000000002bc .L0 
     /tmp/ccZZyjj7.s:677    .text:00000000000002c0 .L0 
     /tmp/ccZZyjj7.s:681    .text:00000000000002c4 .L0 
     /tmp/ccZZyjj7.s:682    .text:00000000000002c4 .L0 
src/../h/kern_reg_util.h:78     .text:00000000000002c4 .L0 
     /tmp/ccZZyjj7.s:690    .text:00000000000002cc .L0 
     /tmp/ccZZyjj7.s:691    .text:00000000000002cc .L0 
     /tmp/ccZZyjj7.s:695    .text:00000000000002d0 .L0 
     /tmp/ccZZyjj7.s:697    .text:00000000000002d4 .L0 
     /tmp/ccZZyjj7.s:700    .text:00000000000002dc .L0 
src/../h/kern_reg_util.h:152    .text:00000000000002e0 .L0 
     /tmp/ccZZyjj7.s:714    .text:00000000000002e4 .L0 
src/../h/kern_reg_util.h:84     .text:00000000000002e8 .L0 
     /tmp/ccZZyjj7.s:728    .text:00000000000002ec .L0 
     /tmp/ccZZyjj7.s:729    .text:00000000000002ec .L0 
     /tmp/ccZZyjj7.s:732    .text:00000000000002f4 .L0 
     /tmp/ccZZyjj7.s:735    .text:0000000000000300 .L0 
     /tmp/ccZZyjj7.s:739    .text:0000000000000304 .L0 
     /tmp/ccZZyjj7.s:740    .text:0000000000000308 .L0 
     /tmp/ccZZyjj7.s:746    .text:0000000000000308 handleInterrupt
     /tmp/ccZZyjj7.s:749    .text:0000000000000308 .L0 
     /tmp/ccZZyjj7.s:750    .text:0000000000000308 .L0 
     /tmp/ccZZyjj7.s:751    .text:000000000000030c .L0 
     /tmp/ccZZyjj7.s:755    .text:0000000000000318 .L0 
     /tmp/ccZZyjj7.s:756    .text:0000000000000318 .L0 
     /tmp/ccZZyjj7.s:757    .text:0000000000000318 .L0 
     /tmp/ccZZyjj7.s:759    .text:000000000000031c .L0 
     /tmp/ccZZyjj7.s:763    .text:000000000000031c .L0 
     /tmp/ccZZyjj7.s:764    .text:000000000000031c .L0 
src/../h/kern_reg_util.h:66     .text:000000000000031c .L0 
     /tmp/ccZZyjj7.s:772    .text:0000000000000324 .L0 
     /tmp/ccZZyjj7.s:773    .text:0000000000000324 .L0 
     /tmp/ccZZyjj7.s:778    .text:0000000000000328 .L0 
     /tmp/ccZZyjj7.s:779    .text:0000000000000328 .L0 
     /tmp/ccZZyjj7.s:784    .text:0000000000000338 .L0 
     /tmp/ccZZyjj7.s:785    .text:0000000000000338 .L0 
     /tmp/ccZZyjj7.s:792    .text:0000000000000348 .L0 
     /tmp/ccZZyjj7.s:793    .text:000000000000034c .L0 
     /tmp/ccZZyjj7.s:794    .text:000000000000034c .L0 
     /tmp/ccZZyjj7.s:796    .text:0000000000000350 .L0 
     /tmp/ccZZyjj7.s:797    .text:0000000000000350 .L0 
     /tmp/ccZZyjj7.s:799    .text:0000000000000354 .L0 
     /tmp/ccZZyjj7.s:801    .text:0000000000000358 .L0 
GAS LISTING /tmp/ccZZyjj7.s 			page 33


     /tmp/ccZZyjj7.s:805    .text:000000000000035c .L0 
     /tmp/ccZZyjj7.s:807    .text:000000000000035c .L0 
     /tmp/ccZZyjj7.s:808    .text:000000000000035c .L0 
     /tmp/ccZZyjj7.s:816    .text:0000000000000370 .L0 
     /tmp/ccZZyjj7.s:817    .text:0000000000000370 .L0 
     /tmp/ccZZyjj7.s:827    .text:0000000000000378 .L0 
     /tmp/ccZZyjj7.s:830    .text:0000000000000380 .L0 
     /tmp/ccZZyjj7.s:831    .text:0000000000000380 .L0 
     /tmp/ccZZyjj7.s:834    .text:000000000000038c .L0 
     /tmp/ccZZyjj7.s:836    .text:0000000000000390 .L0 
     /tmp/ccZZyjj7.s:841    .text:0000000000000394 .L0 
     /tmp/ccZZyjj7.s:842    .text:0000000000000394 .L0 
src/../h/kern_reg_util.h:146    .text:0000000000000394 .L0 
     /tmp/ccZZyjj7.s:850    .text:000000000000039c .L0 
     /tmp/ccZZyjj7.s:851    .text:000000000000039c .L0 
     /tmp/ccZZyjj7.s:855    .text:00000000000003a0 .L0 
     /tmp/ccZZyjj7.s:859    .text:00000000000003a4 .L0 
     /tmp/ccZZyjj7.s:860    .text:00000000000003a4 .L0 
src/../h/kern_reg_util.h:78     .text:00000000000003a4 .L0 
     /tmp/ccZZyjj7.s:868    .text:00000000000003ac .L0 
     /tmp/ccZZyjj7.s:869    .text:00000000000003ac .L0 
     /tmp/ccZZyjj7.s:873    .text:00000000000003b0 .L0 
     /tmp/ccZZyjj7.s:875    .text:00000000000003b4 .L0 
     /tmp/ccZZyjj7.s:878    .text:00000000000003bc .L0 
src/../h/kern_reg_util.h:152    .text:00000000000003c0 .L0 
     /tmp/ccZZyjj7.s:892    .text:00000000000003c4 .L0 
src/../h/kern_reg_util.h:84     .text:00000000000003c8 .L0 
     /tmp/ccZZyjj7.s:906    .text:00000000000003cc .L0 
     /tmp/ccZZyjj7.s:907    .text:00000000000003cc .L0 
     /tmp/ccZZyjj7.s:910    .text:00000000000003d8 .L0 
     /tmp/ccZZyjj7.s:913    .text:00000000000003e4 .L0 
     /tmp/ccZZyjj7.s:920    .text:00000000000003ec .L0 
     /tmp/ccZZyjj7.s:921    .text:00000000000003ec .L0 
     /tmp/ccZZyjj7.s:924    .text:00000000000003f4 .L0 
     /tmp/ccZZyjj7.s:925    .text:00000000000003f4 .L0 
     /tmp/ccZZyjj7.s:929    .text:00000000000003fc .L0 
     /tmp/ccZZyjj7.s:933    .text:0000000000000404 .L0 
     /tmp/ccZZyjj7.s:934    .text:0000000000000404 .L0 
     /tmp/ccZZyjj7.s:938    .text:0000000000000408 .L0 
     /tmp/ccZZyjj7.s:941    .text:0000000000000410 .L0 
     /tmp/ccZZyjj7.s:943    .text:0000000000000414 .L0 
     /tmp/ccZZyjj7.s:968    .text:0000000000000414 .L0 
                     .debug_frame:0000000000000000 .L0 
     /tmp/ccZZyjj7.s:61     .text:0000000000000044 .L0 
     /tmp/ccZZyjj7.s:63     .text:000000000000004c .L0 
     /tmp/ccZZyjj7.s:219    .rodata:0000000000000000 .L8
     /tmp/ccZZyjj7.s:211    .text:00000000000000e0 .L0 
     /tmp/ccZZyjj7.s:335    .text:0000000000000138 .L0 
     /tmp/ccZZyjj7.s:426    .text:0000000000000188 .L0 
     /tmp/ccZZyjj7.s:429    .text:0000000000000194 .L0 
     /tmp/ccZZyjj7.s:510    .text:00000000000001e4 .L0 
     /tmp/ccZZyjj7.s:513    .text:00000000000001f0 .L0 
     /tmp/ccZZyjj7.s:611    .text:0000000000000264 .L0 
     /tmp/ccZZyjj7.s:614    .text:0000000000000270 .L0 
     /tmp/ccZZyjj7.s:646    .text:0000000000000290 .L0 
     /tmp/ccZZyjj7.s:655    .text:00000000000002a4 .L0 
     /tmp/ccZZyjj7.s:732    .text:00000000000002f4 .L0 
GAS LISTING /tmp/ccZZyjj7.s 			page 34


     /tmp/ccZZyjj7.s:808    .text:000000000000035c .L0 
     /tmp/ccZZyjj7.s:831    .text:0000000000000380 .L0 
     /tmp/ccZZyjj7.s:907    .text:00000000000003cc .L0 
     /tmp/ccZZyjj7.s:910    .text:00000000000003d8 .L0 
     /tmp/ccZZyjj7.s:165    .text:00000000000000bc .L22
     /tmp/ccZZyjj7.s:149    .text:00000000000000a4 .L5
     /tmp/ccZZyjj7.s:632    .text:0000000000000288 .L20
     /tmp/ccZZyjj7.s:619    .text:0000000000000280 .L19
     /tmp/ccZZyjj7.s:804    .text:000000000000035c .L28
     /tmp/ccZZyjj7.s:916    .text:00000000000003ec .L29
     /tmp/ccZZyjj7.s:790    .text:0000000000000348 .L23
     /tmp/ccZZyjj7.s:935    .text:0000000000000408 .L30
     /tmp/ccZZyjj7.s:927    .text:00000000000003fc .L26
     /tmp/ccZZyjj7.s:271    .text:00000000000000f8 .L18
     /tmp/ccZZyjj7.s:292    .text:000000000000010c .L17
     /tmp/ccZZyjj7.s:315    .text:0000000000000120 .L16
     /tmp/ccZZyjj7.s:520    .text:0000000000000204 .L15
     /tmp/ccZZyjj7.s:352    .text:0000000000000150 .L14
     /tmp/ccZZyjj7.s:436    .text:00000000000001a8 .L13
     /tmp/ccZZyjj7.s:525    .text:000000000000020c .L12
     /tmp/ccZZyjj7.s:547    .text:0000000000000224 .L11
     /tmp/ccZZyjj7.s:594    .text:0000000000000250 .L10
     /tmp/ccZZyjj7.s:570    .text:0000000000000238 .L9
     /tmp/ccZZyjj7.s:640    .text:0000000000000290 .L7
     /tmp/ccZZyjj7.s:2487   .debug_abbrev:0000000000000000 .Ldebug_abbrev0
     /tmp/ccZZyjj7.s:3826   .debug_str:0000000000000009 .LASF109
     /tmp/ccZZyjj7.s:3950   .debug_str:000000000000035c .LASF110
     /tmp/ccZZyjj7.s:4016   .debug_str:00000000000004ce .LASF111
     /tmp/ccZZyjj7.s:5      .text:0000000000000000 .Ltext0
     /tmp/ccZZyjj7.s:960    .text:0000000000000414 .Letext0
     /tmp/ccZZyjj7.s:3822   .debug_line:0000000000000000 .Ldebug_line0
     /tmp/ccZZyjj7.s:3942   .debug_str:0000000000000320 .LASF0
     /tmp/ccZZyjj7.s:3960   .debug_str:0000000000000393 .LASF1
     /tmp/ccZZyjj7.s:3928   .debug_str:00000000000002cb .LASF2
     /tmp/ccZZyjj7.s:3906   .debug_str:000000000000025b .LASF4
     /tmp/ccZZyjj7.s:3998   .debug_str:000000000000046b .LASF3
     /tmp/ccZZyjj7.s:3844   .debug_str:00000000000000f2 .LASF5
     /tmp/ccZZyjj7.s:3966   .debug_str:00000000000003bd .LASF6
     /tmp/ccZZyjj7.s:3940   .debug_str:000000000000030d .LASF7
     /tmp/ccZZyjj7.s:4026   .debug_str:0000000000000516 .LASF8
     /tmp/ccZZyjj7.s:3898   .debug_str:0000000000000238 .LASF9
     /tmp/ccZZyjj7.s:3976   .debug_str:00000000000003f1 .LASF10
     /tmp/ccZZyjj7.s:4020   .debug_str:00000000000004f3 .LASF11
     /tmp/ccZZyjj7.s:3850   .debug_str:000000000000010b .LASF12
     /tmp/ccZZyjj7.s:3828   .debug_str:00000000000000a7 .LASF13
     /tmp/ccZZyjj7.s:3860   .debug_str:0000000000000153 .LASF14
     /tmp/ccZZyjj7.s:3992   .debug_str:0000000000000445 .LASF15
     /tmp/ccZZyjj7.s:3870   .debug_str:000000000000019e .LASF16
     /tmp/ccZZyjj7.s:3956   .debug_str:000000000000037c .LASF30
     /tmp/ccZZyjj7.s:4004   .debug_str:000000000000049a .LASF17
     /tmp/ccZZyjj7.s:3986   .debug_str:0000000000000426 .LASF18
     /tmp/ccZZyjj7.s:3918   .debug_str:0000000000000292 .LASF19
     /tmp/ccZZyjj7.s:3884   .debug_str:00000000000001ee .LASF20
     /tmp/ccZZyjj7.s:3864   .debug_str:000000000000016d .LASF21
     /tmp/ccZZyjj7.s:3946   .debug_str:0000000000000338 .LASF22
     /tmp/ccZZyjj7.s:4024   .debug_str:000000000000050d .LASF23
     /tmp/ccZZyjj7.s:3914   .debug_str:000000000000027d .LASF24
GAS LISTING /tmp/ccZZyjj7.s 			page 35


     /tmp/ccZZyjj7.s:4002   .debug_str:0000000000000491 .LASF25
     /tmp/ccZZyjj7.s:3852   .debug_str:000000000000011b .LASF26
     /tmp/ccZZyjj7.s:3910   .debug_str:0000000000000269 .LASF27
     /tmp/ccZZyjj7.s:3842   .debug_str:00000000000000ed .LASF28
     /tmp/ccZZyjj7.s:4042   .debug_str:0000000000000571 .LASF29
     /tmp/ccZZyjj7.s:3874   .debug_str:00000000000001ba .LASF31
     /tmp/ccZZyjj7.s:3868   .debug_str:0000000000000192 .LASF32
     /tmp/ccZZyjj7.s:3920   .debug_str:00000000000002a0 .LASF33
     /tmp/ccZZyjj7.s:3846   .debug_str:00000000000000f9 .LASF34
     /tmp/ccZZyjj7.s:3916   .debug_str:0000000000000287 .LASF35
     /tmp/ccZZyjj7.s:4008   .debug_str:00000000000004b4 .LASF36
     /tmp/ccZZyjj7.s:3958   .debug_str:000000000000038a .LASF37
     /tmp/ccZZyjj7.s:3912   .debug_str:0000000000000274 .LASF38
     /tmp/ccZZyjj7.s:3856   .debug_str:0000000000000139 .LASF39
     /tmp/ccZZyjj7.s:4040   .debug_str:000000000000056a .LASF40
     /tmp/ccZZyjj7.s:3970   .debug_str:00000000000003d5 .LASF41
     /tmp/ccZZyjj7.s:3974   .debug_str:00000000000003eb .LASF42
     /tmp/ccZZyjj7.s:3934   .debug_str:00000000000002f2 .LASF43
     /tmp/ccZZyjj7.s:3876   .debug_str:00000000000001c9 .LASF44
     /tmp/ccZZyjj7.s:3834   .debug_str:00000000000000c9 .LASF45
     /tmp/ccZZyjj7.s:4046   .debug_str:0000000000000582 .LASF58
     /tmp/ccZZyjj7.s:3888   .debug_str:0000000000000200 .LASF46
     /tmp/ccZZyjj7.s:3944   .debug_str:000000000000032d .LASF47
     /tmp/ccZZyjj7.s:3896   .debug_str:000000000000022e .LASF48
     /tmp/ccZZyjj7.s:3996   .debug_str:0000000000000463 .LASF49
     /tmp/ccZZyjj7.s:4044   .debug_str:0000000000000576 .LASF50
     /tmp/ccZZyjj7.s:3836   .debug_str:00000000000000d2 .LASF51
     /tmp/ccZZyjj7.s:3964   .debug_str:00000000000003b6 .LASF52
     /tmp/ccZZyjj7.s:4036   .debug_str:000000000000055a .LASF53
     /tmp/ccZZyjj7.s:3824   .debug_str:0000000000000000 .LASF54
     /tmp/ccZZyjj7.s:3890   .debug_str:0000000000000205 .LASF55
     /tmp/ccZZyjj7.s:4028   .debug_str:0000000000000526 .LASF56
     /tmp/ccZZyjj7.s:3848   .debug_str:0000000000000105 .LASF57
     /tmp/ccZZyjj7.s:3886   .debug_str:00000000000001fa .LASF59
     /tmp/ccZZyjj7.s:4030   .debug_str:000000000000052e .LASF60
     /tmp/ccZZyjj7.s:4022   .debug_str:0000000000000502 .LASF61
     /tmp/ccZZyjj7.s:3832   .debug_str:00000000000000c0 .LASF62
     /tmp/ccZZyjj7.s:3922   .debug_str:00000000000002ad .LASF63
     /tmp/ccZZyjj7.s:3924   .debug_str:00000000000002b8 .LASF64
     /tmp/ccZZyjj7.s:3954   .debug_str:0000000000000377 .LASF65
     /tmp/ccZZyjj7.s:3962   .debug_str:00000000000003a6 .LASF79
     /tmp/ccZZyjj7.s:747    .text:0000000000000308 .LFB25
     /tmp/ccZZyjj7.s:944    .text:0000000000000414 .LFE25
     /tmp/ccZZyjj7.s:4038   .debug_str:0000000000000563 .LASF66
     /tmp/ccZZyjj7.s:3130   .debug_loc:0000000000000000 .LLST37
     /tmp/ccZZyjj7.s:837    .text:0000000000000394 .LBB138
     /tmp/ccZZyjj7.s:917    .text:00000000000003ec .LBE138
     /tmp/ccZZyjj7.s:3984   .debug_str:000000000000041e .LASF67
     /tmp/ccZZyjj7.s:3878   .debug_str:00000000000001d0 .LASF68
     /tmp/ccZZyjj7.s:839    .text:0000000000000394 .LBB139
     /tmp/ccZZyjj7.s:853    .text:00000000000003a0 .LBE139
     /tmp/ccZZyjj7.s:857    .text:00000000000003a4 .LBB141
     /tmp/ccZZyjj7.s:871    .text:00000000000003b0 .LBE141
     /tmp/ccZZyjj7.s:880    .text:00000000000003c0 .LBB143
     /tmp/ccZZyjj7.s:890    .text:00000000000003c4 .LBE143
     /tmp/ccZZyjj7.s:3145   .debug_loc:0000000000000049 .LLST39
     /tmp/ccZZyjj7.s:894    .text:00000000000003c8 .LBB145
GAS LISTING /tmp/ccZZyjj7.s 			page 36


     /tmp/ccZZyjj7.s:904    .text:00000000000003cc .LBE145
     /tmp/ccZZyjj7.s:3152   .debug_loc:000000000000006c .LLST40
     /tmp/ccZZyjj7.s:876    .text:00000000000003bc .LVL64
     /tmp/ccZZyjj7.s:3814   .debug_ranges:0000000000000000 .Ldebug_ranges0
     /tmp/ccZZyjj7.s:922    .text:00000000000003f4 .LVL70
     /tmp/ccZZyjj7.s:930    .text:0000000000000404 .LVL71
     /tmp/ccZZyjj7.s:939    .text:0000000000000410 .LVL72
     /tmp/ccZZyjj7.s:761    .text:000000000000031c .LBB134
     /tmp/ccZZyjj7.s:776    .text:0000000000000328 .LBE134
     /tmp/ccZZyjj7.s:814    .text:0000000000000370 .LBB136
     /tmp/ccZZyjj7.s:825    .text:0000000000000378 .LBE136
     /tmp/ccZZyjj7.s:3159   .debug_loc:000000000000008f .LLST38
     /tmp/ccZZyjj7.s:828    .text:0000000000000380 .LVL63
     /tmp/ccZZyjj7.s:3838   .debug_str:00000000000000da .LASF81
     /tmp/ccZZyjj7.s:104    .text:000000000000006c .LFB24
     /tmp/ccZZyjj7.s:741    .text:0000000000000308 .LFE24
     /tmp/ccZZyjj7.s:3167   .debug_loc:00000000000000b3 .LLST1
     /tmp/ccZZyjj7.s:3192   .debug_loc:0000000000000115 .LLST2
     /tmp/ccZZyjj7.s:3225   .debug_loc:000000000000019d .LLST3
     /tmp/ccZZyjj7.s:3254   .debug_loc:0000000000000212 .LLST4
     /tmp/ccZZyjj7.s:3382   .debug_loc:00000000000003f8 .LLST5
     /tmp/ccZZyjj7.s:3506   .debug_loc:00000000000005cb .LLST6
     /tmp/ccZZyjj7.s:168    .text:00000000000000c0 .LBB81
     /tmp/ccZZyjj7.s:737    .text:0000000000000304 .LBE81
     /tmp/ccZZyjj7.s:3926   .debug_str:00000000000002c4 .LASF69
     /tmp/ccZZyjj7.s:3525   .debug_loc:0000000000000618 .LLST7
     /tmp/ccZZyjj7.s:4032   .debug_str:000000000000053d .LASF70
     /tmp/ccZZyjj7.s:3557   .debug_loc:00000000000006ae .LLST8
     /tmp/ccZZyjj7.s:3952   .debug_str:0000000000000372 .LASF71
     /tmp/ccZZyjj7.s:3571   .debug_loc:00000000000006e7 .LLST9
     /tmp/ccZZyjj7.s:272    .text:00000000000000f8 .LBB86
     /tmp/ccZZyjj7.s:295    .text:000000000000010c .LBE86
     /tmp/ccZZyjj7.s:4012   .debug_str:00000000000004c4 .LASF72
     /tmp/ccZZyjj7.s:3578   .debug_loc:000000000000070a .LLST11
     /tmp/ccZZyjj7.s:281    .text:0000000000000104 .LBB87
     /tmp/ccZZyjj7.s:294    .text:000000000000010c .LBE87
     /tmp/ccZZyjj7.s:3585   .debug_loc:000000000000072d .LLST12
     /tmp/ccZZyjj7.s:279    .text:0000000000000104 .LVL19
     /tmp/ccZZyjj7.s:296    .text:000000000000010c .LBB89
     /tmp/ccZZyjj7.s:318    .text:0000000000000120 .LBE89
     /tmp/ccZZyjj7.s:3978   .debug_str:0000000000000400 .LASF73
     /tmp/ccZZyjj7.s:3592   .debug_loc:0000000000000750 .LLST13
     /tmp/ccZZyjj7.s:304    .text:0000000000000118 .LBB90
     /tmp/ccZZyjj7.s:317    .text:0000000000000120 .LBE90
     /tmp/ccZZyjj7.s:3599   .debug_loc:0000000000000773 .LLST14
     /tmp/ccZZyjj7.s:302    .text:0000000000000118 .LVL21
     /tmp/ccZZyjj7.s:319    .text:0000000000000120 .LBB92
     /tmp/ccZZyjj7.s:355    .text:0000000000000150 .LBE92
     /tmp/ccZZyjj7.s:4010   .debug_str:00000000000004bd .LASF74
     /tmp/ccZZyjj7.s:3606   .debug_loc:0000000000000796 .LLST15
     /tmp/ccZZyjj7.s:3894   .debug_str:0000000000000220 .LASF75
     /tmp/ccZZyjj7.s:3613   .debug_loc:00000000000007b9 .LLST16
     /tmp/ccZZyjj7.s:3620   .debug_loc:00000000000007dc .LLST17
     /tmp/ccZZyjj7.s:3904   .debug_str:0000000000000255 .LASF76
     /tmp/ccZZyjj7.s:3634   .debug_loc:0000000000000815 .LLST18
     /tmp/ccZZyjj7.s:341    .text:0000000000000148 .LBB93
     /tmp/ccZZyjj7.s:354    .text:0000000000000150 .LBE93
GAS LISTING /tmp/ccZZyjj7.s 			page 37


     /tmp/ccZZyjj7.s:3648   .debug_loc:000000000000084e .LLST19
     /tmp/ccZZyjj7.s:330    .text:0000000000000134 .LVL23
     /tmp/ccZZyjj7.s:356    .text:0000000000000150 .LBB95
     /tmp/ccZZyjj7.s:437    .text:00000000000001a8 .LBE95
     /tmp/ccZZyjj7.s:358    .text:0000000000000150 .LBB96
     /tmp/ccZZyjj7.s:372    .text:000000000000015c .LBE96
     /tmp/ccZZyjj7.s:376    .text:0000000000000160 .LBB98
     /tmp/ccZZyjj7.s:390    .text:000000000000016c .LBE98
     /tmp/ccZZyjj7.s:399    .text:000000000000017c .LBB100
     /tmp/ccZZyjj7.s:409    .text:0000000000000180 .LBE100
     /tmp/ccZZyjj7.s:3655   .debug_loc:0000000000000871 .LLST20
     /tmp/ccZZyjj7.s:413    .text:0000000000000184 .LBB102
     /tmp/ccZZyjj7.s:423    .text:0000000000000188 .LBE102
     /tmp/ccZZyjj7.s:3662   .debug_loc:0000000000000894 .LLST21
     /tmp/ccZZyjj7.s:395    .text:0000000000000178 .LVL26
     /tmp/ccZZyjj7.s:438    .text:00000000000001a8 .LBB104
     /tmp/ccZZyjj7.s:521    .text:0000000000000204 .LBE104
     /tmp/ccZZyjj7.s:3669   .debug_loc:00000000000008b7 .LLST22
     /tmp/ccZZyjj7.s:441    .text:00000000000001a8 .LBB105
     /tmp/ccZZyjj7.s:455    .text:00000000000001b4 .LBE105
     /tmp/ccZZyjj7.s:459    .text:00000000000001b8 .LBB107
     /tmp/ccZZyjj7.s:473    .text:00000000000001c4 .LBE107
     /tmp/ccZZyjj7.s:483    .text:00000000000001d8 .LBB109
     /tmp/ccZZyjj7.s:493    .text:00000000000001dc .LBE109
     /tmp/ccZZyjj7.s:3676   .debug_loc:00000000000008da .LLST23
     /tmp/ccZZyjj7.s:497    .text:00000000000001e0 .LBB111
     /tmp/ccZZyjj7.s:507    .text:00000000000001e4 .LBE111
     /tmp/ccZZyjj7.s:3683   .debug_loc:00000000000008fd .LLST24
     /tmp/ccZZyjj7.s:479    .text:00000000000001d4 .LVL32
     /tmp/ccZZyjj7.s:526    .text:000000000000020c .LBB113
     /tmp/ccZZyjj7.s:550    .text:0000000000000224 .LBE113
     /tmp/ccZZyjj7.s:3690   .debug_loc:0000000000000920 .LLST25
     /tmp/ccZZyjj7.s:3968   .debug_str:00000000000003d0 .LASF77
     /tmp/ccZZyjj7.s:3697   .debug_loc:0000000000000943 .LLST26
     /tmp/ccZZyjj7.s:536    .text:000000000000021c .LBB114
     /tmp/ccZZyjj7.s:549    .text:0000000000000224 .LBE114
     /tmp/ccZZyjj7.s:3704   .debug_loc:0000000000000966 .LLST27
     /tmp/ccZZyjj7.s:534    .text:000000000000021c .LVL39
     /tmp/ccZZyjj7.s:551    .text:0000000000000224 .LBB116
     /tmp/ccZZyjj7.s:573    .text:0000000000000238 .LBE116
     /tmp/ccZZyjj7.s:3711   .debug_loc:0000000000000989 .LLST28
     /tmp/ccZZyjj7.s:559    .text:0000000000000230 .LBB117
     /tmp/ccZZyjj7.s:572    .text:0000000000000238 .LBE117
     /tmp/ccZZyjj7.s:3718   .debug_loc:00000000000009ac .LLST29
     /tmp/ccZZyjj7.s:557    .text:0000000000000230 .LVL41
     /tmp/ccZZyjj7.s:574    .text:0000000000000238 .LBB119
     /tmp/ccZZyjj7.s:597    .text:0000000000000250 .LBE119
     /tmp/ccZZyjj7.s:3725   .debug_loc:00000000000009cf .LLST30
     /tmp/ccZZyjj7.s:582    .text:0000000000000244 .LBB120
     /tmp/ccZZyjj7.s:596    .text:0000000000000250 .LBE120
     /tmp/ccZZyjj7.s:3732   .debug_loc:00000000000009f2 .LLST31
     /tmp/ccZZyjj7.s:579    .text:0000000000000244 .LVL43
     /tmp/ccZZyjj7.s:598    .text:0000000000000250 .LBB122
     /tmp/ccZZyjj7.s:641    .text:0000000000000290 .LBE122
     /tmp/ccZZyjj7.s:3740   .debug_loc:0000000000000a16 .LLST32
     /tmp/ccZZyjj7.s:621    .text:0000000000000280 .LBB123
     /tmp/ccZZyjj7.s:634    .text:0000000000000288 .LBE123
GAS LISTING /tmp/ccZZyjj7.s 			page 38


     /tmp/ccZZyjj7.s:3747   .debug_loc:0000000000000a39 .LLST33
     /tmp/ccZZyjj7.s:604    .text:000000000000025c .LVL45
     /tmp/ccZZyjj7.s:642    .text:0000000000000290 .LBB125
     /tmp/ccZZyjj7.s:736    .text:0000000000000304 .LBE125
     /tmp/ccZZyjj7.s:3908   .debug_str:0000000000000262 .LASF78
     /tmp/ccZZyjj7.s:3754   .debug_loc:0000000000000a5c .LLST34
     /tmp/ccZZyjj7.s:661    .text:00000000000002b4 .LBB126
     /tmp/ccZZyjj7.s:675    .text:00000000000002c0 .LBE126
     /tmp/ccZZyjj7.s:679    .text:00000000000002c4 .LBB128
     /tmp/ccZZyjj7.s:693    .text:00000000000002d0 .LBE128
     /tmp/ccZZyjj7.s:702    .text:00000000000002e0 .LBB130
     /tmp/ccZZyjj7.s:712    .text:00000000000002e4 .LBE130
     /tmp/ccZZyjj7.s:3772   .debug_loc:0000000000000aa8 .LLST35
     /tmp/ccZZyjj7.s:716    .text:00000000000002e8 .LBB132
     /tmp/ccZZyjj7.s:726    .text:00000000000002ec .LBE132
     /tmp/ccZZyjj7.s:3779   .debug_loc:0000000000000acb .LLST36
     /tmp/ccZZyjj7.s:698    .text:00000000000002dc .LVL53
     /tmp/ccZZyjj7.s:173    .text:00000000000000c0 .LBB82
     /tmp/ccZZyjj7.s:188    .text:00000000000000cc .LBE82
     /tmp/ccZZyjj7.s:193    .text:00000000000000d0 .LBB84
     /tmp/ccZZyjj7.s:203    .text:00000000000000d4 .LBE84
     /tmp/ccZZyjj7.s:3786   .debug_loc:0000000000000aee .LLST10
     /tmp/ccZZyjj7.s:524    .text:000000000000020c .LVL38
     /tmp/ccZZyjj7.s:124    .text:000000000000008c .LBB79
     /tmp/ccZZyjj7.s:139    .text:0000000000000098 .LBE79
     /tmp/ccZZyjj7.s:4000   .debug_str:000000000000047d .LASF80
     /tmp/ccZZyjj7.s:50     .text:0000000000000038 .LFB23
     /tmp/ccZZyjj7.s:98     .text:000000000000006c .LFE23
     /tmp/ccZZyjj7.s:65     .text:0000000000000054 .LBB75
     /tmp/ccZZyjj7.s:76     .text:0000000000000058 .LBE75
     /tmp/ccZZyjj7.s:78     .text:0000000000000058 .LBB77
     /tmp/ccZZyjj7.s:89     .text:0000000000000060 .LBE77
     /tmp/ccZZyjj7.s:3793   .debug_loc:0000000000000b11 .LLST0
     /tmp/ccZZyjj7.s:3858   .debug_str:0000000000000146 .LASF82
     /tmp/ccZZyjj7.s:11     .text:0000000000000000 .LFB22
     /tmp/ccZZyjj7.s:44     .text:0000000000000038 .LFE22
     /tmp/ccZZyjj7.s:3932   .debug_str:00000000000002e8 .LASF83
     /tmp/ccZZyjj7.s:3902   .debug_str:000000000000024b .LASF84
     /tmp/ccZZyjj7.s:3938   .debug_str:0000000000000302 .LASF85
     /tmp/ccZZyjj7.s:4014   .debug_str:00000000000004c9 .LASF86
     /tmp/ccZZyjj7.s:3840   .debug_str:00000000000000e6 .LASF87
     /tmp/ccZZyjj7.s:3994   .debug_str:000000000000045b .LASF88
     /tmp/ccZZyjj7.s:3936   .debug_str:00000000000002fc .LASF89
     /tmp/ccZZyjj7.s:3990   .debug_str:000000000000043e .LASF90
     /tmp/ccZZyjj7.s:3882   .debug_str:00000000000001e7 .LASF91
     /tmp/ccZZyjj7.s:3830   .debug_str:00000000000000b7 .LASF92
     /tmp/ccZZyjj7.s:3900   .debug_str:0000000000000246 .LASF93
     /tmp/ccZZyjj7.s:3872   .debug_str:00000000000001b4 .LASF94
     /tmp/ccZZyjj7.s:3866   .debug_str:000000000000017d .LASF95
     /tmp/ccZZyjj7.s:3980   .debug_str:0000000000000405 .LASF96
     /tmp/ccZZyjj7.s:3880   .debug_str:00000000000001d7 .LASF97
     /tmp/ccZZyjj7.s:3982   .debug_str:0000000000000410 .LASF98
     /tmp/ccZZyjj7.s:3892   .debug_str:000000000000020d .LASF99
     /tmp/ccZZyjj7.s:3930   .debug_str:00000000000002d9 .LASF100
     /tmp/ccZZyjj7.s:3972   .debug_str:00000000000003dd .LASF101
     /tmp/ccZZyjj7.s:3854   .debug_str:0000000000000126 .LASF102
     /tmp/ccZZyjj7.s:4034   .debug_str:0000000000000549 .LASF103
GAS LISTING /tmp/ccZZyjj7.s 			page 39


     /tmp/ccZZyjj7.s:4018   .debug_str:00000000000004e5 .LASF104
     /tmp/ccZZyjj7.s:3988   .debug_str:000000000000042f .LASF105
     /tmp/ccZZyjj7.s:4006   .debug_str:00000000000004a4 .LASF106
     /tmp/ccZZyjj7.s:3862   .debug_str:000000000000015f .LASF107
     /tmp/ccZZyjj7.s:3948   .debug_str:0000000000000344 .LASF108
     /tmp/ccZZyjj7.s:774    .text:0000000000000328 .LVL58
     /tmp/ccZZyjj7.s:789    .text:0000000000000348 .LVL59
     /tmp/ccZZyjj7.s:803    .text:000000000000035c .LVL60
     /tmp/ccZZyjj7.s:915    .text:00000000000003ec .LVL69
     /tmp/ccZZyjj7.s:879    .text:00000000000003c0 .LVL65
     /tmp/ccZZyjj7.s:887    .text:00000000000003c4 .LVL66
     /tmp/ccZZyjj7.s:893    .text:00000000000003c8 .LVL67
     /tmp/ccZZyjj7.s:901    .text:00000000000003cc .LVL68
     /tmp/ccZZyjj7.s:813    .text:0000000000000370 .LVL61
     /tmp/ccZZyjj7.s:822    .text:0000000000000378 .LVL62
     /tmp/ccZZyjj7.s:107    .text:000000000000006c .LVL4
     /tmp/ccZZyjj7.s:148    .text:00000000000000a4 .LVL9
     /tmp/ccZZyjj7.s:164    .text:00000000000000bc .LVL10
     /tmp/ccZZyjj7.s:210    .text:00000000000000e0 .LVL17
     /tmp/ccZZyjj7.s:208    .text:00000000000000dc .LVL16
     /tmp/ccZZyjj7.s:657    .text:00000000000002b0 .LVL52
     /tmp/ccZZyjj7.s:122    .text:000000000000008c .LVL5
     /tmp/ccZZyjj7.s:647    .text:0000000000000298 .LVL50
     /tmp/ccZZyjj7.s:146    .text:00000000000000a0 .LVL8
     /tmp/ccZZyjj7.s:291    .text:000000000000010c .LVL20
     /tmp/ccZZyjj7.s:314    .text:0000000000000120 .LVL22
     /tmp/ccZZyjj7.s:351    .text:0000000000000150 .LVL25
     /tmp/ccZZyjj7.s:435    .text:00000000000001a8 .LVL31
     /tmp/ccZZyjj7.s:519    .text:0000000000000204 .LVL37
     /tmp/ccZZyjj7.s:546    .text:0000000000000224 .LVL40
     /tmp/ccZZyjj7.s:569    .text:0000000000000238 .LVL42
     /tmp/ccZZyjj7.s:593    .text:0000000000000250 .LVL44
     /tmp/ccZZyjj7.s:639    .text:0000000000000290 .LVL49
     /tmp/ccZZyjj7.s:651    .text:00000000000002a0 .LVL51
     /tmp/ccZZyjj7.s:137    .text:0000000000000098 .LVL6
     /tmp/ccZZyjj7.s:143    .text:000000000000009c .LVL7
     /tmp/ccZZyjj7.s:181    .text:00000000000000c4 .LVL12
     /tmp/ccZZyjj7.s:637    .text:000000000000028c .LVL48
     /tmp/ccZZyjj7.s:171    .text:00000000000000c0 .LVL11
     /tmp/ccZZyjj7.s:191    .text:00000000000000d0 .LVL13
     /tmp/ccZZyjj7.s:206    .text:00000000000000d8 .LVL15
     /tmp/ccZZyjj7.s:274    .text:00000000000000f8 .LVL18
     /tmp/ccZZyjj7.s:340    .text:0000000000000148 .LVL24
     /tmp/ccZZyjj7.s:398    .text:000000000000017c .LVL27
     /tmp/ccZZyjj7.s:406    .text:0000000000000180 .LVL28
     /tmp/ccZZyjj7.s:412    .text:0000000000000184 .LVL29
     /tmp/ccZZyjj7.s:420    .text:0000000000000188 .LVL30
     /tmp/ccZZyjj7.s:482    .text:00000000000001d8 .LVL33
     /tmp/ccZZyjj7.s:490    .text:00000000000001dc .LVL34
     /tmp/ccZZyjj7.s:496    .text:00000000000001e0 .LVL35
     /tmp/ccZZyjj7.s:504    .text:00000000000001e4 .LVL36
     /tmp/ccZZyjj7.s:618    .text:0000000000000280 .LVL46
     /tmp/ccZZyjj7.s:631    .text:0000000000000288 .LVL47
     /tmp/ccZZyjj7.s:701    .text:00000000000002e0 .LVL54
     /tmp/ccZZyjj7.s:709    .text:00000000000002e4 .LVL55
     /tmp/ccZZyjj7.s:715    .text:00000000000002e8 .LVL56
     /tmp/ccZZyjj7.s:723    .text:00000000000002ec .LVL57
GAS LISTING /tmp/ccZZyjj7.s 			page 40


     /tmp/ccZZyjj7.s:200    .text:00000000000000d4 .LVL14
     /tmp/ccZZyjj7.s:73     .text:0000000000000058 .LVL2
     /tmp/ccZZyjj7.s:86     .text:0000000000000060 .LVL3
     /tmp/ccZZyjj7.s:969    .debug_info:0000000000000000 .Ldebug_info0
     /tmp/ccZZyjj7.s:918    .text:00000000000003ec .LBB147
     /tmp/ccZZyjj7.s:931    .text:0000000000000404 .LBE147
     /tmp/ccZZyjj7.s:936    .text:0000000000000408 .LBB148
     /tmp/ccZZyjj7.s:942    .text:0000000000000414 .LBE148

UNDEFINED SYMBOLS
supervisorTrap
kern_mem_alloc
kern_mem_free
kern_thread_create
kern_thread_dispatch
running
kern_thread_join
kern_thread_end_running
kern_sem_open
kern_sem_close
kern_sem_signal
kern_sem_wait
kern_thread_wakeup
plic_claim
console_handler
plic_complete
