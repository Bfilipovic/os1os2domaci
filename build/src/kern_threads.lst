GAS LISTING /tmp/cceXlvIx.s 			page 1


   1              		.file	"kern_threads.cpp"
   2              		.option pic
   3              		.option norelax
   4              		.text
   5              	.Ltext0:
   6              		.align	2
   7              		.globl	_Z16kern_thread_initv
   9              	_Z16kern_thread_initv:
  10              	.LFB22:
  11              		.file 1 "src/kern_threads.cpp"
   1:src/kern_threads.cpp **** //
   2:src/kern_threads.cpp **** // Created by os on 5/22/23.
   3:src/kern_threads.cpp **** //
   4:src/kern_threads.cpp **** 
   5:src/kern_threads.cpp **** #include "../h/kern_threads.hpp"
   6:src/kern_threads.cpp **** #include "../h/kern_interrupts.hpp"
   7:src/kern_threads.cpp **** #include "../lib/hw.h"
   8:src/kern_threads.cpp **** #include "../h/kern_memory.hpp"
   9:src/kern_threads.cpp **** #include "../h/syscall_c.h"
  10:src/kern_threads.cpp **** #include "../h/kern_reg_util.h"
  11:src/kern_threads.cpp **** 
  12:src/kern_threads.cpp **** #define MAX_THREADS 64
  13:src/kern_threads.cpp **** 
  14:src/kern_threads.cpp **** typedef struct thread_s* thread_t;
  15:src/kern_threads.cpp **** 
  16:src/kern_threads.cpp **** struct thread_s kthreads[MAX_THREADS];
  17:src/kern_threads.cpp **** static int id;
  18:src/kern_threads.cpp **** struct thread_s* running;
  19:src/kern_threads.cpp **** struct {
  20:src/kern_threads.cpp ****     thread_t ready_head;
  21:src/kern_threads.cpp ****     thread_t ready_tail;
  22:src/kern_threads.cpp ****     thread_t joined_head;
  23:src/kern_threads.cpp ****     thread_t sleeping_head;
  24:src/kern_threads.cpp **** } scheduler;
  25:src/kern_threads.cpp **** 
  26:src/kern_threads.cpp **** void kern_thread_yield();
  27:src/kern_threads.cpp **** 
  28:src/kern_threads.cpp **** void kern_thread_init()
  29:src/kern_threads.cpp **** {
  12              		.loc 1 29 1
  13              		.cfi_startproc
  14 0000 130101FF 		addi	sp,sp,-16
  15              		.cfi_def_cfa_offset 16
  16 0004 23348100 		sd	s0,8(sp)
  17              		.cfi_offset 8, -8
  18 0008 13040101 		addi	s0,sp,16
  19              		.cfi_def_cfa 8, 0
  30:src/kern_threads.cpp ****     id=0;
  20              		.loc 1 30 5
  21              		.loc 1 30 7 is_stmt 0
  22 000c 97070000 		sw	zero,.LANCHOR0,a5
  22      23A00700 
  31:src/kern_threads.cpp ****     for (int i=0;i<MAX_THREADS;i++){
  23              		.loc 1 31 5 is_stmt 1
  24              	.LVL0:
  25              	.LBB26:
  26              		.loc 1 31 14 is_stmt 0
GAS LISTING /tmp/cceXlvIx.s 			page 2


  27 0014 93070000 		li	a5,0
  28              	.LVL1:
  29              	.L3:
  30              		.loc 1 31 19 is_stmt 1 discriminator 3
  31 0018 1307F003 		li	a4,63
  32 001c 6342F702 		bgt	a5,a4,.L2
  32:src/kern_threads.cpp ****         kthreads[i].status=UNUSED;
  33              		.loc 1 32 9 discriminator 2
  34              		.loc 1 32 27 is_stmt 0 discriminator 2
  35 0020 13078006 		li	a4,104
  36 0024 B386E702 		mul	a3,a5,a4
  37 0028 17070000 		lla	a4,kthreads
  37      13070700 
  38 0030 3307D700 		add	a4,a4,a3
  39 0034 23280704 		sw	zero,80(a4)
  31:src/kern_threads.cpp ****     for (int i=0;i<MAX_THREADS;i++){
  40              		.loc 1 31 5 is_stmt 1 discriminator 2
  41 0038 9B871700 		addiw	a5,a5,1
  42              	.LVL2:
  43 003c 6FF0DFFD 		j	.L3
  44              	.LVL3:
  45              	.L2:
  46              	.LBE26:
  33:src/kern_threads.cpp ****     }
  34:src/kern_threads.cpp **** 
  35:src/kern_threads.cpp ****     //set kthreads[0] as main thread
  36:src/kern_threads.cpp ****     kthreads[0].status=RUNNING;
  47              		.loc 1 36 5
  48              		.loc 1 36 23 is_stmt 0
  49 0040 97070000 		lla	a5,kthreads
  49      93870700 
  50              	.LVL4:
  51 0048 13071000 		li	a4,1
  52 004c 23A8E704 		sw	a4,80(a5)
  37:src/kern_threads.cpp ****     kthreads[0].id=0;
  53              		.loc 1 37 5 is_stmt 1
  54              		.loc 1 37 19 is_stmt 0
  55 0050 23B80700 		sd	zero,16(a5)
  38:src/kern_threads.cpp ****     kthreads[0].timeslice=DEFAULT_TIME_SLICE+2;
  56              		.loc 1 38 5 is_stmt 1
  57              		.loc 1 38 26 is_stmt 0
  58 0054 13074000 		li	a4,4
  59 0058 23B8E702 		sd	a4,48(a5)
  39:src/kern_threads.cpp ****     kthreads[0].endTime=0;
  60              		.loc 1 39 5 is_stmt 1
  61              		.loc 1 39 24 is_stmt 0
  62 005c 23BC0702 		sd	zero,56(a5)
  40:src/kern_threads.cpp ****     kthreads[0].next_thread=0;
  63              		.loc 1 40 5 is_stmt 1
  64              		.loc 1 40 28 is_stmt 0
  65 0060 23B00706 		sd	zero,96(a5)
  41:src/kern_threads.cpp ****     running=&kthreads[0];
  66              		.loc 1 41 5 is_stmt 1
  67              		.loc 1 41 12 is_stmt 0
  68 0064 17070000 		lla	a4,.LANCHOR0
  68      13070700 
  69 006c 2334F700 		sd	a5,8(a4)
GAS LISTING /tmp/cceXlvIx.s 			page 3


  42:src/kern_threads.cpp ****     scheduler.ready_head=0;
  70              		.loc 1 42 5 is_stmt 1
  71              		.loc 1 42 25 is_stmt 0
  72 0070 23380700 		sd	zero,16(a4)
  43:src/kern_threads.cpp ****     scheduler.ready_tail=0;
  73              		.loc 1 43 5 is_stmt 1
  74              		.loc 1 43 25 is_stmt 0
  75 0074 233C0700 		sd	zero,24(a4)
  44:src/kern_threads.cpp ****     scheduler.joined_head=0;
  76              		.loc 1 44 5 is_stmt 1
  77              		.loc 1 44 26 is_stmt 0
  78 0078 23300702 		sd	zero,32(a4)
  45:src/kern_threads.cpp ****     scheduler.sleeping_head=0;
  79              		.loc 1 45 5 is_stmt 1
  80              		.loc 1 45 28 is_stmt 0
  81 007c 23340702 		sd	zero,40(a4)
  46:src/kern_threads.cpp **** }
  82              		.loc 1 46 1
  83 0080 03348100 		ld	s0,8(sp)
  84              		.cfi_restore 8
  85              		.cfi_def_cfa 2, 16
  86 0084 13010101 		addi	sp,sp,16
  87              		.cfi_def_cfa_offset 0
  88 0088 67800000 		jr	ra
  89              		.cfi_endproc
  90              	.LFE22:
  92              		.align	2
  93              		.globl	_Z18kern_scheduler_putP8thread_s
  95              	_Z18kern_scheduler_putP8thread_s:
  96              	.LFB23:
  47:src/kern_threads.cpp **** 
  48:src/kern_threads.cpp **** void kern_scheduler_put(thread_t t)
  49:src/kern_threads.cpp **** {
  97              		.loc 1 49 1 is_stmt 1
  98              		.cfi_startproc
  99              	.LVL5:
 100 008c 130101FF 		addi	sp,sp,-16
 101              		.cfi_def_cfa_offset 16
 102 0090 23348100 		sd	s0,8(sp)
 103              		.cfi_offset 8, -8
 104 0094 13040101 		addi	s0,sp,16
 105              		.cfi_def_cfa 8, 0
  50:src/kern_threads.cpp ****     t->status=READY;
 106              		.loc 1 50 5
 107              		.loc 1 50 14 is_stmt 0
 108 0098 93072000 		li	a5,2
 109 009c 2328F504 		sw	a5,80(a0)
  51:src/kern_threads.cpp ****     if(scheduler.ready_tail==0){
 110              		.loc 1 51 5 is_stmt 1
 111              		.loc 1 51 18 is_stmt 0
 112 00a0 97070000 		ld	a5,.LANCHOR0+24
 112      83B70700 
 113              		.loc 1 51 5
 114 00a8 63800702 		beqz	a5,.L9
  52:src/kern_threads.cpp ****         scheduler.ready_tail=t;
  53:src/kern_threads.cpp ****         scheduler.ready_head=t;
  54:src/kern_threads.cpp ****     } else{
GAS LISTING /tmp/cceXlvIx.s 			page 4


  55:src/kern_threads.cpp ****         scheduler.ready_tail->next_thread=t;
 115              		.loc 1 55 9 is_stmt 1
 116              		.loc 1 55 42 is_stmt 0
 117 00ac 23B0A706 		sd	a0,96(a5)
  56:src/kern_threads.cpp ****         scheduler.ready_tail=t;
 118              		.loc 1 56 9 is_stmt 1
 119              		.loc 1 56 29 is_stmt 0
 120 00b0 97070000 		sd	a0,.LANCHOR0+24,a5
 120      23B0A700 
 121              	.L7:
  57:src/kern_threads.cpp ****     }
  58:src/kern_threads.cpp ****     t->next_thread=0;
 122              		.loc 1 58 5 is_stmt 1
 123              		.loc 1 58 19 is_stmt 0
 124 00b8 23300506 		sd	zero,96(a0)
  59:src/kern_threads.cpp **** }
 125              		.loc 1 59 1
 126 00bc 03348100 		ld	s0,8(sp)
 127              		.cfi_remember_state
 128              		.cfi_restore 8
 129              		.cfi_def_cfa 2, 16
 130 00c0 13010101 		addi	sp,sp,16
 131              		.cfi_def_cfa_offset 0
 132 00c4 67800000 		jr	ra
 133              	.L9:
 134              		.cfi_restore_state
  52:src/kern_threads.cpp ****         scheduler.ready_head=t;
 135              		.loc 1 52 9 is_stmt 1
  52:src/kern_threads.cpp ****         scheduler.ready_head=t;
 136              		.loc 1 52 29 is_stmt 0
 137 00c8 97070000 		lla	a5,.LANCHOR0
 137      93870700 
 138 00d0 23BCA700 		sd	a0,24(a5)
  53:src/kern_threads.cpp ****     } else{
 139              		.loc 1 53 9 is_stmt 1
  53:src/kern_threads.cpp ****     } else{
 140              		.loc 1 53 29 is_stmt 0
 141 00d4 23B8A700 		sd	a0,16(a5)
 142 00d8 6FF01FFE 		j	.L7
 143              		.cfi_endproc
 144              	.LFE23:
 146              		.align	2
 147              		.globl	_Z18kern_scheduler_getv
 149              	_Z18kern_scheduler_getv:
 150              	.LFB24:
  60:src/kern_threads.cpp **** 
  61:src/kern_threads.cpp **** 
  62:src/kern_threads.cpp **** thread_t kern_scheduler_get()
  63:src/kern_threads.cpp **** {
 151              		.loc 1 63 1 is_stmt 1
 152              		.cfi_startproc
 153 00dc 130101FF 		addi	sp,sp,-16
 154              		.cfi_def_cfa_offset 16
 155 00e0 23348100 		sd	s0,8(sp)
 156              		.cfi_offset 8, -8
 157 00e4 13040101 		addi	s0,sp,16
 158              		.cfi_def_cfa 8, 0
GAS LISTING /tmp/cceXlvIx.s 			page 5


  64:src/kern_threads.cpp ****     if(scheduler.ready_head==0) return 0;
 159              		.loc 1 64 5
 160              		.loc 1 64 18 is_stmt 0
 161 00e8 17050000 		ld	a0,.LANCHOR0+16
 161      03350500 
 162              		.loc 1 64 5
 163 00f0 63000502 		beqz	a0,.L10
  65:src/kern_threads.cpp ****     thread_t t = scheduler.ready_head;
 164              		.loc 1 65 5 is_stmt 1
 165              	.LVL6:
  66:src/kern_threads.cpp ****     scheduler.ready_head=scheduler.ready_head->next_thread;
 166              		.loc 1 66 5
 167              		.loc 1 66 48 is_stmt 0
 168 00f4 03370506 		ld	a4,96(a0)
 169              		.loc 1 66 25
 170 00f8 97070000 		lla	a5,.LANCHOR0
 170      93870700 
 171 0100 23B8E700 		sd	a4,16(a5)
  67:src/kern_threads.cpp ****     if(scheduler.ready_tail==t) scheduler.ready_tail=0;
 172              		.loc 1 67 5 is_stmt 1
 173              		.loc 1 67 18 is_stmt 0
 174 0104 83B78701 		ld	a5,24(a5)
 175              		.loc 1 67 5
 176 0108 630AF500 		beq	a0,a5,.L14
 177              	.L12:
  68:src/kern_threads.cpp ****     t->next_thread=0;
 178              		.loc 1 68 5 is_stmt 1
 179              		.loc 1 68 19 is_stmt 0
 180 010c 23300506 		sd	zero,96(a0)
  69:src/kern_threads.cpp ****     return t;
 181              		.loc 1 69 5 is_stmt 1
 182              	.LVL7:
 183              	.L10:
  70:src/kern_threads.cpp **** }
 184              		.loc 1 70 1 is_stmt 0
 185 0110 03348100 		ld	s0,8(sp)
 186              		.cfi_remember_state
 187              		.cfi_restore 8
 188              		.cfi_def_cfa 2, 16
 189 0114 13010101 		addi	sp,sp,16
 190              		.cfi_def_cfa_offset 0
 191 0118 67800000 		jr	ra
 192              	.LVL8:
 193              	.L14:
 194              		.cfi_restore_state
  67:src/kern_threads.cpp ****     t->next_thread=0;
 195              		.loc 1 67 33 is_stmt 1 discriminator 1
  67:src/kern_threads.cpp ****     t->next_thread=0;
 196              		.loc 1 67 53 is_stmt 0 discriminator 1
 197 011c 97070000 		sd	zero,.LANCHOR0+24,a5
 197      23B00700 
 198 0124 6FF09FFE 		j	.L12
 199              		.cfi_endproc
 200              	.LFE24:
 202              		.align	2
 203              		.globl	_Z10popSppSpiev
 205              	_Z10popSppSpiev:
GAS LISTING /tmp/cceXlvIx.s 			page 6


 206              	.LFB26:
  71:src/kern_threads.cpp **** 
  72:src/kern_threads.cpp **** void kern_thread_dispatch()
  73:src/kern_threads.cpp **** {
  74:src/kern_threads.cpp ****     kern_scheduler_put(running);
  75:src/kern_threads.cpp ****     uint64 volatile sstatus = r_sstatus();
  76:src/kern_threads.cpp ****     uint64 volatile v_sepc = r_sepc();
  77:src/kern_threads.cpp ****     kern_thread_yield();
  78:src/kern_threads.cpp ****     w_sstatus(sstatus);
  79:src/kern_threads.cpp ****     w_sepc(v_sepc);
  80:src/kern_threads.cpp **** }
  81:src/kern_threads.cpp **** 
  82:src/kern_threads.cpp **** //samo izlazi iz kernela i vraca se odakle je pozvana
  83:src/kern_threads.cpp **** void popSppSpie()
  84:src/kern_threads.cpp **** {
 207              		.loc 1 84 1 is_stmt 1
 208              		.cfi_startproc
 209 0128 130101FF 		addi	sp,sp,-16
 210              		.cfi_def_cfa_offset 16
 211 012c 23348100 		sd	s0,8(sp)
 212              		.cfi_offset 8, -8
 213 0130 13040101 		addi	s0,sp,16
 214              		.cfi_def_cfa 8, 0
  85:src/kern_threads.cpp ****     __asm__ volatile("csrw sepc, ra"); //ovde dodaj izlazak iz privilegovanog moda
 215              		.loc 1 85 5
 216              		.loc 1 85 38 is_stmt 0
 217              	#APP
 218              	# 85 "src/kern_threads.cpp" 1
  86              	    __asm__ volatile("csrc sstatus, %[mask]" : : [mask] "r"(1 << 8));
 219              		csrw sepc, ra
 220              	# 0 "" 2
 221              		.loc 1 86 5 is_stmt 1
 222              		.loc 1 86 69 is_stmt 0
 223              	#NO_APP
 224 0138 93070010 		li	a5,256
 225              	#APP
 226              	# 86 "src/kern_threads.cpp" 1
  87              	    __asm__ volatile("sret");
 227              		csrc sstatus, a5
 228              	# 0 "" 2
 229              		.loc 1 87 5 is_stmt 1
 230              		.loc 1 87 29 is_stmt 0
 231              	# 87 "src/kern_threads.cpp" 1
  88              	}
 232              		sret
 233              	# 0 "" 2
 234              		.loc 1 88 1
 235              	#NO_APP
 236 0144 03348100 		ld	s0,8(sp)
 237              		.cfi_restore 8
 238              		.cfi_def_cfa 2, 16
 239 0148 13010101 		addi	sp,sp,16
 240              		.cfi_def_cfa_offset 0
 241 014c 67800000 		jr	ra
 242              		.cfi_endproc
 243              	.LFE26:
 245              		.align	2
GAS LISTING /tmp/cceXlvIx.s 			page 7


 246              		.globl	_Z19kern_thread_wrapperv
 248              	_Z19kern_thread_wrapperv:
 249              	.LFB29:
  89:src/kern_threads.cpp **** 
  90:src/kern_threads.cpp **** #ifdef __cplusplus
  91:src/kern_threads.cpp **** extern "C" {
  92:src/kern_threads.cpp **** #endif
  93:src/kern_threads.cpp **** void contextSwitch(thread_t oldT, thread_t newT);
  94:src/kern_threads.cpp **** #ifdef __cplusplus
  95:src/kern_threads.cpp **** }
  96:src/kern_threads.cpp **** #endif
  97:src/kern_threads.cpp **** 
  98:src/kern_threads.cpp **** void kern_thread_yield()
  99:src/kern_threads.cpp **** {
 100:src/kern_threads.cpp ****     thread_t old = running;
 101:src/kern_threads.cpp ****     running=kern_scheduler_get();
 102:src/kern_threads.cpp ****     if(old!=running){
 103:src/kern_threads.cpp ****         running->status=RUNNING;
 104:src/kern_threads.cpp ****         if(old->status==RUNNING) old->status=READY;
 105:src/kern_threads.cpp ****         contextSwitch(old,running);
 106:src/kern_threads.cpp ****     }
 107:src/kern_threads.cpp ****     else {
 108:src/kern_threads.cpp ****         old->status=RUNNING;
 109:src/kern_threads.cpp ****     }
 110:src/kern_threads.cpp **** }
 111:src/kern_threads.cpp **** 
 112:src/kern_threads.cpp **** void kern_thread_end_running()
 113:src/kern_threads.cpp **** {
 114:src/kern_threads.cpp ****     thread_t old = running;
 115:src/kern_threads.cpp ****     old->status=UNUSED;
 116:src/kern_threads.cpp ****     for(int i=0;i<MAX_THREADS;i++){
 117:src/kern_threads.cpp ****         if(kthreads[i].status==JOINED && kthreads[i].joined_tid==old->id) {
 118:src/kern_threads.cpp ****             kthreads[i].status=READY;
 119:src/kern_threads.cpp ****             kern_scheduler_put(&kthreads[i]);
 120:src/kern_threads.cpp ****         }
 121:src/kern_threads.cpp ****     }
 122:src/kern_threads.cpp ****     running=kern_scheduler_get();
 123:src/kern_threads.cpp ****     if(old->stack_space!=0) kern_mem_free((void*)old->stack_space);
 124:src/kern_threads.cpp ****     if(old!=running){
 125:src/kern_threads.cpp ****         contextSwitch(old,running);
 126:src/kern_threads.cpp ****     }
 127:src/kern_threads.cpp **** }
 128:src/kern_threads.cpp **** 
 129:src/kern_threads.cpp **** void kern_thread_wrapper()
 130:src/kern_threads.cpp **** {
 250              		.loc 1 130 1 is_stmt 1
 251              		.cfi_startproc
 252 0150 130101FF 		addi	sp,sp,-16
 253              		.cfi_def_cfa_offset 16
 254 0154 23341100 		sd	ra,8(sp)
 255 0158 23308100 		sd	s0,0(sp)
 256              		.cfi_offset 1, -8
 257              		.cfi_offset 8, -16
 258 015c 13040101 		addi	s0,sp,16
 259              		.cfi_def_cfa 8, 0
 131:src/kern_threads.cpp ****     popSppSpie();
 260              		.loc 1 131 5
GAS LISTING /tmp/cceXlvIx.s 			page 8


 261              		.loc 1 131 15 is_stmt 0
 262 0160 97000000 		call	_Z10popSppSpiev
 262      E7800000 
 263              	.LVL9:
 132:src/kern_threads.cpp ****     running->body(running->arg);
 264              		.loc 1 132 5 is_stmt 1
 265              		.loc 1 132 14 is_stmt 0
 266 0168 97070000 		ld	a5,.LANCHOR0+8
 266      83B70700 
 267 0170 03B78701 		ld	a4,24(a5)
 268              		.loc 1 132 18
 269 0174 03B50702 		ld	a0,32(a5)
 270 0178 E7000700 		jalr	a4
 271              	.LVL10:
 133:src/kern_threads.cpp ****     /*
 134:src/kern_threads.cpp ****     running->status=UNUSED;
 135:src/kern_threads.cpp ****     running->sem_next=0;
 136:src/kern_threads.cpp ****     running->joined_tid=-1;
 137:src/kern_threads.cpp ****     for(int i=0;i<MAX_THREADS;i++){
 138:src/kern_threads.cpp ****         if(kthreads[i].status==JOINED && kthreads[i].joined_tid==running->id) kthreads[i].status=RE
 139:src/kern_threads.cpp ****     }
 140:src/kern_threads.cpp **** */
 141:src/kern_threads.cpp ****     thread_exit();
 272              		.loc 1 141 5 is_stmt 1
 273              		.loc 1 141 16 is_stmt 0
 274 017c 97000000 		call	_Z11thread_exitv@plt
 274      E7800000 
 275              	.LVL11:
 142:src/kern_threads.cpp **** }
 276              		.loc 1 142 1
 277 0184 83308100 		ld	ra,8(sp)
 278              		.cfi_restore 1
 279 0188 03340100 		ld	s0,0(sp)
 280              		.cfi_restore 8
 281              		.cfi_def_cfa 2, 16
 282 018c 13010101 		addi	sp,sp,16
 283              		.cfi_def_cfa_offset 0
 284 0190 67800000 		jr	ra
 285              		.cfi_endproc
 286              	.LFE29:
 288              		.align	2
 289              		.globl	_Z17kern_thread_yieldv
 291              	_Z17kern_thread_yieldv:
 292              	.LFB27:
  99:src/kern_threads.cpp ****     thread_t old = running;
 293              		.loc 1 99 1 is_stmt 1
 294              		.cfi_startproc
 295 0194 130101FE 		addi	sp,sp,-32
 296              		.cfi_def_cfa_offset 32
 297 0198 233C1100 		sd	ra,24(sp)
 298 019c 23388100 		sd	s0,16(sp)
 299 01a0 23349100 		sd	s1,8(sp)
 300 01a4 23302101 		sd	s2,0(sp)
 301              		.cfi_offset 1, -8
 302              		.cfi_offset 8, -16
 303              		.cfi_offset 9, -24
 304              		.cfi_offset 18, -32
GAS LISTING /tmp/cceXlvIx.s 			page 9


 305 01a8 13040102 		addi	s0,sp,32
 306              		.cfi_def_cfa 8, 0
 100:src/kern_threads.cpp ****     running=kern_scheduler_get();
 307              		.loc 1 100 5
 100:src/kern_threads.cpp ****     running=kern_scheduler_get();
 308              		.loc 1 100 14 is_stmt 0
 309 01ac 17090000 		lla	s2,.LANCHOR0
 309      13090900 
 310 01b4 83348900 		ld	s1,8(s2)
 311              	.LVL12:
 101:src/kern_threads.cpp ****     if(old!=running){
 312              		.loc 1 101 5 is_stmt 1
 101:src/kern_threads.cpp ****     if(old!=running){
 313              		.loc 1 101 31 is_stmt 0
 314 01b8 97000000 		call	_Z18kern_scheduler_getv
 314      E7800000 
 315              	.LVL13:
 101:src/kern_threads.cpp ****     if(old!=running){
 316              		.loc 1 101 12
 317 01c0 2334A900 		sd	a0,8(s2)
 102:src/kern_threads.cpp ****         running->status=RUNNING;
 318              		.loc 1 102 5 is_stmt 1
 319 01c4 63069504 		beq	a0,s1,.L20
 320 01c8 93050500 		mv	a1,a0
 103:src/kern_threads.cpp ****         if(old->status==RUNNING) old->status=READY;
 321              		.loc 1 103 9
 103:src/kern_threads.cpp ****         if(old->status==RUNNING) old->status=READY;
 322              		.loc 1 103 24 is_stmt 0
 323 01cc 93071000 		li	a5,1
 324 01d0 2328F504 		sw	a5,80(a0)
 104:src/kern_threads.cpp ****         contextSwitch(old,running);
 325              		.loc 1 104 9 is_stmt 1
 104:src/kern_threads.cpp ****         contextSwitch(old,running);
 326              		.loc 1 104 17 is_stmt 0
 327 01d4 03A70405 		lw	a4,80(s1)
 104:src/kern_threads.cpp ****         contextSwitch(old,running);
 328              		.loc 1 104 9
 329 01d8 93071000 		li	a5,1
 330 01dc 6304F702 		beq	a4,a5,.L24
 331              	.L21:
 105:src/kern_threads.cpp ****     }
 332              		.loc 1 105 9 is_stmt 1
 105:src/kern_threads.cpp ****     }
 333              		.loc 1 105 22 is_stmt 0
 334 01e0 13850400 		mv	a0,s1
 335 01e4 97000000 		call	contextSwitch@plt
 335      E7800000 
 336              	.LVL14:
 337              	.L19:
 110:src/kern_threads.cpp **** 
 338              		.loc 1 110 1
 339 01ec 83308101 		ld	ra,24(sp)
 340              		.cfi_remember_state
 341              		.cfi_restore 1
 342 01f0 03340101 		ld	s0,16(sp)
 343              		.cfi_restore 8
 344              		.cfi_def_cfa 2, 32
GAS LISTING /tmp/cceXlvIx.s 			page 10


 345 01f4 83348100 		ld	s1,8(sp)
 346              		.cfi_restore 9
 347              	.LVL15:
 348 01f8 03390100 		ld	s2,0(sp)
 349              		.cfi_restore 18
 350 01fc 13010102 		addi	sp,sp,32
 351              		.cfi_def_cfa_offset 0
 352 0200 67800000 		jr	ra
 353              	.LVL16:
 354              	.L24:
 355              		.cfi_restore_state
 104:src/kern_threads.cpp ****         contextSwitch(old,running);
 356              		.loc 1 104 34 is_stmt 1 discriminator 1
 104:src/kern_threads.cpp ****         contextSwitch(old,running);
 357              		.loc 1 104 45 is_stmt 0 discriminator 1
 358 0204 93072000 		li	a5,2
 359 0208 23A8F404 		sw	a5,80(s1)
 360 020c 6FF05FFD 		j	.L21
 361              	.L20:
 108:src/kern_threads.cpp ****     }
 362              		.loc 1 108 9 is_stmt 1
 108:src/kern_threads.cpp ****     }
 363              		.loc 1 108 20 is_stmt 0
 364 0210 93071000 		li	a5,1
 365 0214 23A8F404 		sw	a5,80(s1)
 110:src/kern_threads.cpp **** 
 366              		.loc 1 110 1
 367 0218 6FF05FFD 		j	.L19
 368              		.cfi_endproc
 369              	.LFE27:
 371              		.align	2
 372              		.globl	_Z20kern_thread_dispatchv
 374              	_Z20kern_thread_dispatchv:
 375              	.LFB25:
  73:src/kern_threads.cpp ****     kern_scheduler_put(running);
 376              		.loc 1 73 1 is_stmt 1
 377              		.cfi_startproc
 378 021c 130101FD 		addi	sp,sp,-48
 379              		.cfi_def_cfa_offset 48
 380 0220 23341102 		sd	ra,40(sp)
 381 0224 23308102 		sd	s0,32(sp)
 382              		.cfi_offset 1, -8
 383              		.cfi_offset 8, -16
 384 0228 13040103 		addi	s0,sp,48
 385              		.cfi_def_cfa 8, 0
  74:src/kern_threads.cpp ****     uint64 volatile sstatus = r_sstatus();
 386              		.loc 1 74 5
  74:src/kern_threads.cpp ****     uint64 volatile sstatus = r_sstatus();
 387              		.loc 1 74 23 is_stmt 0
 388 022c 17050000 		ld	a0,.LANCHOR0+8
 388      03350500 
 389 0234 97000000 		call	_Z18kern_scheduler_putP8thread_s
 389      E7800000 
 390              	.LVL17:
  75:src/kern_threads.cpp ****     uint64 volatile v_sepc = r_sepc();
 391              		.loc 1 75 5 is_stmt 1
 392              	.LBB27:
GAS LISTING /tmp/cceXlvIx.s 			page 11


 393              	.LBB28:
 394              		.file 2 "src/../h/kern_reg_util.h"
   1:src/../h/kern_reg_util.h **** //
   2:src/../h/kern_reg_util.h **** // Created by os on 5/23/23.
   3:src/../h/kern_reg_util.h **** //
   4:src/../h/kern_reg_util.h **** 
   5:src/../h/kern_reg_util.h **** #ifndef OS1_KERN_REG_UTIL_H
   6:src/../h/kern_reg_util.h **** #define OS1_KERN_REG_UTIL_H
   7:src/../h/kern_reg_util.h **** 
   8:src/../h/kern_reg_util.h **** #include "../lib/hw.h"
   9:src/../h/kern_reg_util.h **** 
  10:src/../h/kern_reg_util.h **** enum BitMaskSstatus
  11:src/../h/kern_reg_util.h **** {
  12:src/../h/kern_reg_util.h ****     SSTATUS_SIE = (1 << 1),
  13:src/../h/kern_reg_util.h ****     SSTATUS_SPIE = (1 << 5),
  14:src/../h/kern_reg_util.h ****     SSTATUS_SPP = (1 << 8),
  15:src/../h/kern_reg_util.h **** };
  16:src/../h/kern_reg_util.h **** 
  17:src/../h/kern_reg_util.h **** enum BitMaskSip
  18:src/../h/kern_reg_util.h **** {
  19:src/../h/kern_reg_util.h ****     SIP_SSIP = (1 << 1),
  20:src/../h/kern_reg_util.h ****     SIP_STIP = (1 << 5),
  21:src/../h/kern_reg_util.h ****     SIP_SEIP = (1 << 9),
  22:src/../h/kern_reg_util.h **** };
  23:src/../h/kern_reg_util.h **** 
  24:src/../h/kern_reg_util.h **** inline uint64 r_a0()
  25:src/../h/kern_reg_util.h **** {
  26:src/../h/kern_reg_util.h ****     uint64 volatile a0;
  27:src/../h/kern_reg_util.h ****     __asm__ volatile ("mv %[a0], a0" : [a0] "=r"(a0));
  28:src/../h/kern_reg_util.h ****     return a0;
  29:src/../h/kern_reg_util.h **** }
  30:src/../h/kern_reg_util.h **** inline void w_a0(uint64 value)
  31:src/../h/kern_reg_util.h **** {
  32:src/../h/kern_reg_util.h ****     __asm__ volatile ("mv a0, %[value]" :: [value] "r"(value));
  33:src/../h/kern_reg_util.h **** }
  34:src/../h/kern_reg_util.h **** 
  35:src/../h/kern_reg_util.h **** inline uint64 r_a1()
  36:src/../h/kern_reg_util.h **** {
  37:src/../h/kern_reg_util.h ****     uint64 volatile a1;
  38:src/../h/kern_reg_util.h ****     __asm__ volatile ("mv %[a1], a1" : [a1] "=r"(a1));
  39:src/../h/kern_reg_util.h ****     return a1;
  40:src/../h/kern_reg_util.h **** }
  41:src/../h/kern_reg_util.h **** 
  42:src/../h/kern_reg_util.h **** inline uint64 r_a2()
  43:src/../h/kern_reg_util.h **** {
  44:src/../h/kern_reg_util.h ****     uint64 volatile a2;
  45:src/../h/kern_reg_util.h ****     __asm__ volatile ("mv %[a2], a2" : [a2] "=r"(a2));
  46:src/../h/kern_reg_util.h ****     return a2;
  47:src/../h/kern_reg_util.h **** }
  48:src/../h/kern_reg_util.h **** 
  49:src/../h/kern_reg_util.h **** inline uint64 r_a3()
  50:src/../h/kern_reg_util.h **** {
  51:src/../h/kern_reg_util.h ****     uint64 volatile a3;
  52:src/../h/kern_reg_util.h ****     __asm__ volatile ("mv %[a3], a3" : [a3] "=r"(a3));
  53:src/../h/kern_reg_util.h ****     return a3;
  54:src/../h/kern_reg_util.h **** }
  55:src/../h/kern_reg_util.h **** 
GAS LISTING /tmp/cceXlvIx.s 			page 12


  56:src/../h/kern_reg_util.h **** inline uint64 r_a4()
  57:src/../h/kern_reg_util.h **** {
  58:src/../h/kern_reg_util.h ****     uint64 volatile a4;
  59:src/../h/kern_reg_util.h ****     __asm__ volatile ("mv %[a4], a4" : [a4] "=r"(a4));
  60:src/../h/kern_reg_util.h ****     return a4;
  61:src/../h/kern_reg_util.h **** }
  62:src/../h/kern_reg_util.h **** 
  63:src/../h/kern_reg_util.h **** inline uint64 r_scause()
  64:src/../h/kern_reg_util.h **** {
  65:src/../h/kern_reg_util.h ****     uint64 volatile scause;
  66:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[scause], scause" : [scause] "=r"(scause));
  67:src/../h/kern_reg_util.h ****     return scause;
  68:src/../h/kern_reg_util.h **** }
  69:src/../h/kern_reg_util.h **** 
  70:src/../h/kern_reg_util.h **** inline void w_scause(uint64 scause)
  71:src/../h/kern_reg_util.h **** {
  72:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrw scause, %[scause]" : : [scause] "r"(scause));
  73:src/../h/kern_reg_util.h **** }
  74:src/../h/kern_reg_util.h **** 
  75:src/../h/kern_reg_util.h **** inline uint64 r_sepc()
  76:src/../h/kern_reg_util.h **** {
  77:src/../h/kern_reg_util.h ****     uint64 volatile sepc;
  78:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sepc], sepc" : [sepc] "=r"(sepc));
  79:src/../h/kern_reg_util.h ****     return sepc;
  80:src/../h/kern_reg_util.h **** }
  81:src/../h/kern_reg_util.h **** 
  82:src/../h/kern_reg_util.h **** inline void w_sepc(uint64 sepc)
  83:src/../h/kern_reg_util.h **** {
  84:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrw sepc, %[sepc]" : : [sepc] "r"(sepc));
  85:src/../h/kern_reg_util.h **** }
  86:src/../h/kern_reg_util.h **** 
  87:src/../h/kern_reg_util.h **** inline uint64 r_stvec()
  88:src/../h/kern_reg_util.h **** {
  89:src/../h/kern_reg_util.h ****     uint64 volatile stvec;
  90:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[stvec], stvec" : [stvec] "=r"(stvec));
  91:src/../h/kern_reg_util.h ****     return stvec;
  92:src/../h/kern_reg_util.h **** }
  93:src/../h/kern_reg_util.h **** 
  94:src/../h/kern_reg_util.h **** inline void w_stvec(uint64 stvec)
  95:src/../h/kern_reg_util.h **** {
  96:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrw stvec, %[stvec]" : : [stvec] "r"(stvec));
  97:src/../h/kern_reg_util.h **** }
  98:src/../h/kern_reg_util.h **** 
  99:src/../h/kern_reg_util.h **** inline uint64 r_stval()
 100:src/../h/kern_reg_util.h **** {
 101:src/../h/kern_reg_util.h ****     uint64 volatile stval;
 102:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[stval], stval" : [stval] "=r"(stval));
 103:src/../h/kern_reg_util.h ****     return stval;
 104:src/../h/kern_reg_util.h **** }
 105:src/../h/kern_reg_util.h **** 
 106:src/../h/kern_reg_util.h **** inline void w_stval(uint64 stval)
 107:src/../h/kern_reg_util.h **** {
 108:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrw stval, %[stval]" : : [stval] "r"(stval));
 109:src/../h/kern_reg_util.h **** }
 110:src/../h/kern_reg_util.h **** 
 111:src/../h/kern_reg_util.h **** inline void ms_sip(uint64 mask)
 112:src/../h/kern_reg_util.h **** {
GAS LISTING /tmp/cceXlvIx.s 			page 13


 113:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrs sip, %[mask]" : : [mask] "r"(mask));
 114:src/../h/kern_reg_util.h **** }
 115:src/../h/kern_reg_util.h **** 
 116:src/../h/kern_reg_util.h **** inline void mc_sip(uint64 mask)
 117:src/../h/kern_reg_util.h **** {
 118:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrc sip, %[mask]" : : [mask] "r"(mask));
 119:src/../h/kern_reg_util.h **** }
 120:src/../h/kern_reg_util.h **** 
 121:src/../h/kern_reg_util.h **** inline uint64 r_sip()
 122:src/../h/kern_reg_util.h **** {
 123:src/../h/kern_reg_util.h ****     uint64 volatile sip;
 124:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sip], sip" : [sip] "=r"(sip));
 125:src/../h/kern_reg_util.h ****     return sip;
 126:src/../h/kern_reg_util.h **** }
 127:src/../h/kern_reg_util.h **** 
 128:src/../h/kern_reg_util.h **** inline void w_sip(uint64 sip)
 129:src/../h/kern_reg_util.h **** {
 130:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrw sip, %[sip]" : : [sip] "r"(sip));
 131:src/../h/kern_reg_util.h **** }
 132:src/../h/kern_reg_util.h **** 
 133:src/../h/kern_reg_util.h **** inline void ms_sstatus(uint64 mask)
 134:src/../h/kern_reg_util.h **** {
 135:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrs sstatus, %[mask]" : : [mask] "r"(mask));
 136:src/../h/kern_reg_util.h **** }
 137:src/../h/kern_reg_util.h **** 
 138:src/../h/kern_reg_util.h **** inline void mc_sstatus(uint64 mask)
 139:src/../h/kern_reg_util.h **** {
 140:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrc sstatus, %[mask]" : : [mask] "r"(mask));
 141:src/../h/kern_reg_util.h **** }
 142:src/../h/kern_reg_util.h **** 
 143:src/../h/kern_reg_util.h **** inline uint64 r_sstatus()
 144:src/../h/kern_reg_util.h **** {
 145:src/../h/kern_reg_util.h ****     uint64 volatile sstatus;
 395              		.loc 2 145 5
 146:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sstatus], sstatus" : [sstatus] "=r"(sstatus));
 396              		.loc 2 146 5
 397              		.loc 2 146 76 is_stmt 0
 398              	#APP
 399              	# 146 "src/../h/kern_reg_util.h" 1
 147              	    return sstatus;
 400              		csrr a5, sstatus
 401              	# 0 "" 2
 402              	#NO_APP
 403 0240 233CF4FC 		sd	a5,-40(s0)
 404              		.loc 2 147 5 is_stmt 1
 405              		.loc 2 147 12 is_stmt 0
 406 0244 833784FD 		ld	a5,-40(s0)
 407              	.LBE28:
 408              	.LBE27:
  75:src/kern_threads.cpp ****     uint64 volatile v_sepc = r_sepc();
 409              		.loc 1 75 41
 410 0248 2334F4FE 		sd	a5,-24(s0)
  76:src/kern_threads.cpp ****     kern_thread_yield();
 411              		.loc 1 76 5 is_stmt 1
 412              	.LBB29:
 413              	.LBB30:
  77:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sepc], sepc" : [sepc] "=r"(sepc));
GAS LISTING /tmp/cceXlvIx.s 			page 14


 414              		.loc 2 77 5
  78:src/../h/kern_reg_util.h ****     return sepc;
 415              		.loc 2 78 5
  78:src/../h/kern_reg_util.h ****     return sepc;
 416              		.loc 2 78 64 is_stmt 0
 417              	#APP
 418              	# 78 "src/../h/kern_reg_util.h" 1
 419              		csrr a5, sepc
 420              	# 0 "" 2
 421              	#NO_APP
 422 0250 2338F4FC 		sd	a5,-48(s0)
  79:src/../h/kern_reg_util.h **** }
 423              		.loc 2 79 5 is_stmt 1
  79:src/../h/kern_reg_util.h **** }
 424              		.loc 2 79 12 is_stmt 0
 425 0254 833704FD 		ld	a5,-48(s0)
 426              	.LBE30:
 427              	.LBE29:
  76:src/kern_threads.cpp ****     kern_thread_yield();
 428              		.loc 1 76 37
 429 0258 2330F4FE 		sd	a5,-32(s0)
  77:src/kern_threads.cpp ****     w_sstatus(sstatus);
 430              		.loc 1 77 5 is_stmt 1
  77:src/kern_threads.cpp ****     w_sstatus(sstatus);
 431              		.loc 1 77 22 is_stmt 0
 432 025c 97000000 		call	_Z17kern_thread_yieldv
 432      E7800000 
 433              	.LVL18:
  78:src/kern_threads.cpp ****     w_sepc(v_sepc);
 434              		.loc 1 78 5 is_stmt 1
  78:src/kern_threads.cpp ****     w_sepc(v_sepc);
 435              		.loc 1 78 14 is_stmt 0
 436 0264 833784FE 		ld	a5,-24(s0)
 437              	.LVL19:
 438              	.LBB31:
 439              	.LBB32:
 148:src/../h/kern_reg_util.h **** }
 149:src/../h/kern_reg_util.h **** 
 150:src/../h/kern_reg_util.h **** inline void w_sstatus(uint64 sstatus)
 151:src/../h/kern_reg_util.h **** {
 152:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrw sstatus, %[sstatus]" : : [sstatus] "r"(sstatus));
 440              		.loc 2 152 5 is_stmt 1
 441              		.loc 2 152 77 is_stmt 0
 442              	#APP
 443              	# 152 "src/../h/kern_reg_util.h" 1
 153              	}
 444              		csrw sstatus, a5
 445              	# 0 "" 2
 446              	.LVL20:
 447              	#NO_APP
 448              	.LBE32:
 449              	.LBE31:
  79:src/kern_threads.cpp **** }
 450              		.loc 1 79 5 is_stmt 1
  79:src/kern_threads.cpp **** }
 451              		.loc 1 79 11 is_stmt 0
 452 026c 833704FE 		ld	a5,-32(s0)
GAS LISTING /tmp/cceXlvIx.s 			page 15


 453              	.LVL21:
 454              	.LBB33:
 455              	.LBB34:
  84:src/../h/kern_reg_util.h **** }
 456              		.loc 2 84 5 is_stmt 1
  84:src/../h/kern_reg_util.h **** }
 457              		.loc 2 84 65 is_stmt 0
 458              	#APP
 459              	# 84 "src/../h/kern_reg_util.h" 1
 460              		csrw sepc, a5
 461              	# 0 "" 2
 462              	.LVL22:
 463              	#NO_APP
 464              	.LBE34:
 465              	.LBE33:
  80:src/kern_threads.cpp **** 
 466              		.loc 1 80 1
 467 0274 83308102 		ld	ra,40(sp)
 468              		.cfi_restore 1
 469 0278 03340102 		ld	s0,32(sp)
 470              		.cfi_restore 8
 471              		.cfi_def_cfa 2, 48
 472 027c 13010103 		addi	sp,sp,48
 473              		.cfi_def_cfa_offset 0
 474 0280 67800000 		jr	ra
 475              		.cfi_endproc
 476              	.LFE25:
 478              		.align	2
 479              		.globl	_Z23kern_thread_end_runningv
 481              	_Z23kern_thread_end_runningv:
 482              	.LFB28:
 113:src/kern_threads.cpp ****     thread_t old = running;
 483              		.loc 1 113 1 is_stmt 1
 484              		.cfi_startproc
 485 0284 130101FE 		addi	sp,sp,-32
 486              		.cfi_def_cfa_offset 32
 487 0288 233C1100 		sd	ra,24(sp)
 488 028c 23388100 		sd	s0,16(sp)
 489 0290 23349100 		sd	s1,8(sp)
 490 0294 23302101 		sd	s2,0(sp)
 491              		.cfi_offset 1, -8
 492              		.cfi_offset 8, -16
 493              		.cfi_offset 9, -24
 494              		.cfi_offset 18, -32
 495 0298 13040102 		addi	s0,sp,32
 496              		.cfi_def_cfa 8, 0
 114:src/kern_threads.cpp ****     old->status=UNUSED;
 497              		.loc 1 114 5
 114:src/kern_threads.cpp ****     old->status=UNUSED;
 498              		.loc 1 114 14 is_stmt 0
 499 029c 17090000 		ld	s2,.LANCHOR0+8
 499      03390900 
 500              	.LVL23:
 115:src/kern_threads.cpp ****     for(int i=0;i<MAX_THREADS;i++){
 501              		.loc 1 115 5 is_stmt 1
 115:src/kern_threads.cpp ****     for(int i=0;i<MAX_THREADS;i++){
 502              		.loc 1 115 16 is_stmt 0
GAS LISTING /tmp/cceXlvIx.s 			page 16


 503 02a4 23280904 		sw	zero,80(s2)
 116:src/kern_threads.cpp ****         if(kthreads[i].status==JOINED && kthreads[i].joined_tid==old->id) {
 504              		.loc 1 116 5 is_stmt 1
 505              	.LVL24:
 506              	.LBB35:
 116:src/kern_threads.cpp ****         if(kthreads[i].status==JOINED && kthreads[i].joined_tid==old->id) {
 507              		.loc 1 116 13 is_stmt 0
 508 02a8 93040000 		li	s1,0
 509 02ac 6F00C002 		j	.L30
 510              	.LVL25:
 511              	.L34:
 118:src/kern_threads.cpp ****             kern_scheduler_put(&kthreads[i]);
 512              		.loc 1 118 13 is_stmt 1
 118:src/kern_threads.cpp ****             kern_scheduler_put(&kthreads[i]);
 513              		.loc 1 118 31 is_stmt 0
 514 02b0 13058006 		li	a0,104
 515 02b4 B387A402 		mul	a5,s1,a0
 516 02b8 17050000 		lla	a0,kthreads
 516      13050500 
 517 02c0 3305F500 		add	a0,a0,a5
 518 02c4 93072000 		li	a5,2
 519 02c8 2328F504 		sw	a5,80(a0)
 119:src/kern_threads.cpp ****         }
 520              		.loc 1 119 13 is_stmt 1
 119:src/kern_threads.cpp ****         }
 521              		.loc 1 119 31 is_stmt 0
 522 02cc 97000000 		call	_Z18kern_scheduler_putP8thread_s
 522      E7800000 
 523              	.LVL26:
 524              	.L29:
 116:src/kern_threads.cpp ****         if(kthreads[i].status==JOINED && kthreads[i].joined_tid==old->id) {
 525              		.loc 1 116 5 is_stmt 1 discriminator 2
 526 02d4 9B841400 		addiw	s1,s1,1
 527              	.LVL27:
 528              	.L30:
 116:src/kern_threads.cpp ****         if(kthreads[i].status==JOINED && kthreads[i].joined_tid==old->id) {
 529              		.loc 1 116 18 discriminator 1
 530 02d8 9307F003 		li	a5,63
 531 02dc 63C49704 		bgt	s1,a5,.L28
 117:src/kern_threads.cpp ****             kthreads[i].status=READY;
 532              		.loc 1 117 9
 117:src/kern_threads.cpp ****             kthreads[i].status=READY;
 533              		.loc 1 117 24 is_stmt 0
 534 02e0 93078006 		li	a5,104
 535 02e4 3387F402 		mul	a4,s1,a5
 536 02e8 97070000 		lla	a5,kthreads
 536      93870700 
 537 02f0 B387E700 		add	a5,a5,a4
 538 02f4 03A70705 		lw	a4,80(a5)
 117:src/kern_threads.cpp ****             kthreads[i].status=READY;
 539              		.loc 1 117 9
 540 02f8 93074000 		li	a5,4
 541 02fc E31CF7FC 		bne	a4,a5,.L29
 117:src/kern_threads.cpp ****             kthreads[i].status=READY;
 542              		.loc 1 117 54 discriminator 1
 543 0300 93078006 		li	a5,104
 544 0304 3387F402 		mul	a4,s1,a5
GAS LISTING /tmp/cceXlvIx.s 			page 17


 545 0308 97070000 		lla	a5,kthreads
 545      93870700 
 546 0310 B387E700 		add	a5,a5,a4
 547 0314 03B78702 		ld	a4,40(a5)
 117:src/kern_threads.cpp ****             kthreads[i].status=READY;
 548              		.loc 1 117 71 discriminator 1
 549 0318 83370901 		ld	a5,16(s2)
 117:src/kern_threads.cpp ****             kthreads[i].status=READY;
 550              		.loc 1 117 39 discriminator 1
 551 031c E31CF7FA 		bne	a4,a5,.L29
 552 0320 6FF01FF9 		j	.L34
 553              	.L28:
 554              	.LBE35:
 122:src/kern_threads.cpp ****     if(old->stack_space!=0) kern_mem_free((void*)old->stack_space);
 555              		.loc 1 122 5 is_stmt 1
 122:src/kern_threads.cpp ****     if(old->stack_space!=0) kern_mem_free((void*)old->stack_space);
 556              		.loc 1 122 31 is_stmt 0
 557 0324 97000000 		call	_Z18kern_scheduler_getv
 557      E7800000 
 558              	.LVL28:
 122:src/kern_threads.cpp ****     if(old->stack_space!=0) kern_mem_free((void*)old->stack_space);
 559              		.loc 1 122 12
 560 032c 97070000 		sd	a0,.LANCHOR0+8,a5
 560      23B0A700 
 123:src/kern_threads.cpp ****     if(old!=running){
 561              		.loc 1 123 5 is_stmt 1
 123:src/kern_threads.cpp ****     if(old!=running){
 562              		.loc 1 123 13 is_stmt 0
 563 0334 03350904 		ld	a0,64(s2)
 123:src/kern_threads.cpp ****     if(old!=running){
 564              		.loc 1 123 5
 565 0338 631A0502 		bnez	a0,.L35
 566              	.L31:
 124:src/kern_threads.cpp ****         contextSwitch(old,running);
 567              		.loc 1 124 5 is_stmt 1
 124:src/kern_threads.cpp ****         contextSwitch(old,running);
 568              		.loc 1 124 11 is_stmt 0
 569 033c 97050000 		ld	a1,.LANCHOR0+8
 569      83B50500 
 124:src/kern_threads.cpp ****         contextSwitch(old,running);
 570              		.loc 1 124 5
 571 0344 63882501 		beq	a1,s2,.L27
 125:src/kern_threads.cpp ****     }
 572              		.loc 1 125 9 is_stmt 1
 125:src/kern_threads.cpp ****     }
 573              		.loc 1 125 22 is_stmt 0
 574 0348 13050900 		mv	a0,s2
 575 034c 97000000 		call	contextSwitch@plt
 575      E7800000 
 576              	.LVL29:
 577              	.L27:
 127:src/kern_threads.cpp **** 
 578              		.loc 1 127 1
 579 0354 83308101 		ld	ra,24(sp)
 580              		.cfi_remember_state
 581              		.cfi_restore 1
 582 0358 03340101 		ld	s0,16(sp)
GAS LISTING /tmp/cceXlvIx.s 			page 18


 583              		.cfi_restore 8
 584              		.cfi_def_cfa 2, 32
 585 035c 83348100 		ld	s1,8(sp)
 586              		.cfi_restore 9
 587              	.LVL30:
 588 0360 03390100 		ld	s2,0(sp)
 589              		.cfi_restore 18
 590              	.LVL31:
 591 0364 13010102 		addi	sp,sp,32
 592              		.cfi_def_cfa_offset 0
 593 0368 67800000 		jr	ra
 594              	.LVL32:
 595              	.L35:
 596              		.cfi_restore_state
 123:src/kern_threads.cpp ****     if(old!=running){
 597              		.loc 1 123 29 is_stmt 1 discriminator 1
 123:src/kern_threads.cpp ****     if(old!=running){
 598              		.loc 1 123 42 is_stmt 0 discriminator 1
 599 036c 97000000 		call	_Z13kern_mem_freePv@plt
 599      E7800000 
 600              	.LVL33:
 601 0374 6FF09FFC 		j	.L31
 602              		.cfi_endproc
 603              	.LFE28:
 605              		.align	2
 606              		.globl	_Z18kern_thread_createPP8thread_sPFvPvES2_S2_
 608              	_Z18kern_thread_createPP8thread_sPFvPvES2_S2_:
 609              	.LFB30:
 143:src/kern_threads.cpp **** 
 144:src/kern_threads.cpp **** int kern_thread_create(thread_t* handle, void(*start_routine)(void*), void* arg, void* stack_space)
 145:src/kern_threads.cpp **** {
 610              		.loc 1 145 1 is_stmt 1
 611              		.cfi_startproc
 612              	.LVL34:
 613 0378 93080500 		mv	a7,a0
 146:src/kern_threads.cpp ****     *handle=0;
 614              		.loc 1 146 5
 615              		.loc 1 146 12 is_stmt 0
 616 037c 23300500 		sd	zero,0(a0)
 147:src/kern_threads.cpp ****     thread_t t=&kthreads[0]; //dodela da bismo sklonili upozorenje
 617              		.loc 1 147 5 is_stmt 1
 618              	.LVL35:
 148:src/kern_threads.cpp ****     for(int i=0;i<MAX_THREADS;i++){
 619              		.loc 1 148 5
 620              	.LBB36:
 621              		.loc 1 148 13 is_stmt 0
 622 0380 93070000 		li	a5,0
 623              	.LVL36:
 624              	.L39:
 625              		.loc 1 148 18 is_stmt 1 discriminator 1
 626 0384 1307F003 		li	a4,63
 627 0388 6348F70C 		bgt	a5,a4,.L41
 149:src/kern_threads.cpp ****         if(kthreads[i].status==UNUSED){
 628              		.loc 1 149 9
 629              		.loc 1 149 24 is_stmt 0
 630 038c 13078006 		li	a4,104
 631 0390 3388E702 		mul	a6,a5,a4
GAS LISTING /tmp/cceXlvIx.s 			page 19


 632 0394 17070000 		lla	a4,kthreads
 632      13070700 
 633 039c 33070701 		add	a4,a4,a6
 634 03a0 03270705 		lw	a4,80(a4)
 635              		.loc 1 149 9
 636 03a4 63060700 		beqz	a4,.L47
 148:src/kern_threads.cpp ****     for(int i=0;i<MAX_THREADS;i++){
 637              		.loc 1 148 5 is_stmt 1 discriminator 2
 638 03a8 9B871700 		addiw	a5,a5,1
 639              	.LVL37:
 640 03ac 6FF09FFD 		j	.L39
 641              	.LVL38:
 642              	.L47:
 150:src/kern_threads.cpp ****             *handle=&kthreads[i];
 643              		.loc 1 150 13
 644              		.loc 1 150 21 is_stmt 0
 645 03b0 17050000 		lla	a0,kthreads
 645      13050500 
 646              	.LVL39:
 647 03b8 3305A800 		add	a0,a6,a0
 648              		.loc 1 150 20
 649 03bc 23B0A800 		sd	a0,0(a7)
 151:src/kern_threads.cpp ****             t=&kthreads[i];
 650              		.loc 1 151 13 is_stmt 1
 651              	.LVL40:
 152:src/kern_threads.cpp ****             break;
 652              		.loc 1 152 13
 653              	.L37:
 654              	.LBE36:
 153:src/kern_threads.cpp ****         }
 154:src/kern_threads.cpp ****     }
 155:src/kern_threads.cpp ****     if(*handle==0) return -1;
 655              		.loc 1 155 5
 656              		.loc 1 155 8 is_stmt 0
 657 03c0 83B70800 		ld	a5,0(a7)
 658              	.LVL41:
 659              		.loc 1 155 5
 660 03c4 6380070A 		beqz	a5,.L42
 145:src/kern_threads.cpp ****     *handle=0;
 661              		.loc 1 145 1
 662 03c8 130101FF 		addi	sp,sp,-16
 663              		.cfi_def_cfa_offset 16
 664 03cc 23341100 		sd	ra,8(sp)
 665 03d0 23308100 		sd	s0,0(sp)
 666              		.cfi_offset 1, -8
 667              		.cfi_offset 8, -16
 668 03d4 13040101 		addi	s0,sp,16
 669              		.cfi_def_cfa 8, 0
 156:src/kern_threads.cpp **** 
 157:src/kern_threads.cpp ****     t->id=++id;
 670              		.loc 1 157 5 is_stmt 1
 671              		.loc 1 157 11 is_stmt 0
 672 03d8 17070000 		lla	a4,.LANCHOR0
 672      13070700 
 673 03e0 83270700 		lw	a5,0(a4)
 674 03e4 9B871700 		addiw	a5,a5,1
 675 03e8 1B880700 		sext.w	a6,a5
GAS LISTING /tmp/cceXlvIx.s 			page 20


 676              		.loc 1 157 10
 677 03ec 2320F700 		sw	a5,0(a4)
 678 03f0 23380501 		sd	a6,16(a0)
 158:src/kern_threads.cpp ****     t->status=READY;
 679              		.loc 1 158 5 is_stmt 1
 680              		.loc 1 158 14 is_stmt 0
 681 03f4 93072000 		li	a5,2
 682 03f8 2328F504 		sw	a5,80(a0)
 159:src/kern_threads.cpp ****     t->arg=arg;
 683              		.loc 1 159 5 is_stmt 1
 684              		.loc 1 159 11 is_stmt 0
 685 03fc 2330C502 		sd	a2,32(a0)
 160:src/kern_threads.cpp ****     t->joined_tid=-1;
 686              		.loc 1 160 5 is_stmt 1
 687              		.loc 1 160 18 is_stmt 0
 688 0400 9307F0FF 		li	a5,-1
 689 0404 2334F502 		sd	a5,40(a0)
 161:src/kern_threads.cpp ****     t->timeslice=DEFAULT_TIME_SLICE;
 690              		.loc 1 161 5 is_stmt 1
 691              		.loc 1 161 17 is_stmt 0
 692 0408 93072000 		li	a5,2
 693 040c 2338F502 		sd	a5,48(a0)
 162:src/kern_threads.cpp ****     t->body=start_routine;
 694              		.loc 1 162 5 is_stmt 1
 695              		.loc 1 162 12 is_stmt 0
 696 0410 233CB500 		sd	a1,24(a0)
 163:src/kern_threads.cpp ****     t->stack_space = ((uint64)stack_space);
 697              		.loc 1 163 5 is_stmt 1
 698              		.loc 1 163 20 is_stmt 0
 699 0414 2330D504 		sd	a3,64(a0)
 164:src/kern_threads.cpp ****     t->sp = t->stack_space+(DEFAULT_STACK_SIZE);
 700              		.loc 1 164 5 is_stmt 1
 701              		.loc 1 164 27 is_stmt 0
 702 0418 B7170000 		li	a5,4096
 703 041c B386F600 		add	a3,a3,a5
 704              	.LVL42:
 705              		.loc 1 164 11
 706 0420 2334D500 		sd	a3,8(a0)
 165:src/kern_threads.cpp ****     t->ra=(uint64) &kern_thread_wrapper;
 707              		.loc 1 165 5 is_stmt 1
 708              		.loc 1 165 10 is_stmt 0
 709 0424 97070000 		lla	a5,_Z19kern_thread_wrapperv
 709      93870700 
 710 042c 2330F500 		sd	a5,0(a0)
 166:src/kern_threads.cpp ****     t->sem_next=0;
 711              		.loc 1 166 5 is_stmt 1
 712              		.loc 1 166 16 is_stmt 0
 713 0430 233C0504 		sd	zero,88(a0)
 167:src/kern_threads.cpp ****     t->next_thread=0;
 714              		.loc 1 167 5 is_stmt 1
 715              		.loc 1 167 19 is_stmt 0
 716 0434 23300506 		sd	zero,96(a0)
 168:src/kern_threads.cpp ****     t->mailbox=0;
 717              		.loc 1 168 5 is_stmt 1
 718              		.loc 1 168 15 is_stmt 0
 719 0438 23340504 		sd	zero,72(a0)
 169:src/kern_threads.cpp ****     kern_scheduler_put(t);
GAS LISTING /tmp/cceXlvIx.s 			page 21


 720              		.loc 1 169 5 is_stmt 1
 721              		.loc 1 169 23 is_stmt 0
 722 043c 97000000 		call	_Z18kern_scheduler_putP8thread_s
 722      E7800000 
 723              	.LVL43:
 170:src/kern_threads.cpp **** 
 171:src/kern_threads.cpp ****     return 0;
 724              		.loc 1 171 5 is_stmt 1
 725              		.loc 1 171 12 is_stmt 0
 726 0444 13050000 		li	a0,0
 172:src/kern_threads.cpp **** }
 727              		.loc 1 172 1
 728 0448 83308100 		ld	ra,8(sp)
 729              		.cfi_restore 1
 730 044c 03340100 		ld	s0,0(sp)
 731              		.cfi_restore 8
 732              		.cfi_def_cfa 2, 16
 733 0450 13010101 		addi	sp,sp,16
 734              		.cfi_def_cfa_offset 0
 735 0454 67800000 		jr	ra
 736              	.LVL44:
 737              	.L41:
 147:src/kern_threads.cpp ****     for(int i=0;i<MAX_THREADS;i++){
 738              		.loc 1 147 14
 739 0458 17050000 		lla	a0,kthreads
 739      13050500 
 740              	.LVL45:
 741 0460 6FF01FF6 		j	.L37
 742              	.LVL46:
 743              	.L42:
 155:src/kern_threads.cpp **** 
 744              		.loc 1 155 28
 745 0464 1305F0FF 		li	a0,-1
 746              	.LVL47:
 747              		.loc 1 172 1
 748 0468 67800000 		ret
 749              		.cfi_endproc
 750              	.LFE30:
 752              		.align	2
 753              		.globl	_Z16kern_thread_joinP8thread_s
 755              	_Z16kern_thread_joinP8thread_s:
 756              	.LFB31:
 173:src/kern_threads.cpp **** 
 174:src/kern_threads.cpp **** void kern_thread_join(thread_t handle)
 175:src/kern_threads.cpp **** {
 757              		.loc 1 175 1 is_stmt 1
 758              		.cfi_startproc
 759              	.LVL48:
 176:src/kern_threads.cpp ****     if(handle->status==UNUSED) return;
 760              		.loc 1 176 5
 761              		.loc 1 176 16 is_stmt 0
 762 046c 83270505 		lw	a5,80(a0)
 763              		.loc 1 176 5
 764 0470 63940700 		bnez	a5,.L54
 765 0474 67800000 		ret
 766              	.L54:
 175:src/kern_threads.cpp ****     if(handle->status==UNUSED) return;
GAS LISTING /tmp/cceXlvIx.s 			page 22


 767              		.loc 1 175 1
 768 0478 130101FD 		addi	sp,sp,-48
 769              		.cfi_def_cfa_offset 48
 770 047c 23341102 		sd	ra,40(sp)
 771 0480 23308102 		sd	s0,32(sp)
 772              		.cfi_offset 1, -8
 773              		.cfi_offset 8, -16
 774 0484 13040103 		addi	s0,sp,48
 775              		.cfi_def_cfa 8, 0
 177:src/kern_threads.cpp ****     running->joined_tid=handle->id;
 776              		.loc 1 177 5 is_stmt 1
 777              		.loc 1 177 14 is_stmt 0
 778 0488 17070000 		lla	a4,.LANCHOR0
 778      13070700 
 779 0490 83378700 		ld	a5,8(a4)
 780              		.loc 1 177 33
 781 0494 83360501 		ld	a3,16(a0)
 782              		.loc 1 177 24
 783 0498 23B4D702 		sd	a3,40(a5)
 178:src/kern_threads.cpp ****     running->status=JOINED;
 784              		.loc 1 178 5 is_stmt 1
 785              		.loc 1 178 20 is_stmt 0
 786 049c 93064000 		li	a3,4
 787 04a0 23A8D704 		sw	a3,80(a5)
 179:src/kern_threads.cpp ****     running->next_thread=scheduler.joined_head;
 788              		.loc 1 179 5 is_stmt 1
 789              		.loc 1 179 36 is_stmt 0
 790 04a4 83360702 		ld	a3,32(a4)
 791              		.loc 1 179 25
 792 04a8 23B0D706 		sd	a3,96(a5)
 180:src/kern_threads.cpp ****     scheduler.joined_head=running;
 793              		.loc 1 180 5 is_stmt 1
 794              		.loc 1 180 26 is_stmt 0
 795 04ac 2330F702 		sd	a5,32(a4)
 181:src/kern_threads.cpp ****     uint64 volatile sstatus = r_sstatus();
 796              		.loc 1 181 5 is_stmt 1
 797              	.LBB37:
 798              	.LBB38:
 145:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sstatus], sstatus" : [sstatus] "=r"(sstatus));
 799              		.loc 2 145 5
 146:src/../h/kern_reg_util.h ****     return sstatus;
 800              		.loc 2 146 5
 146:src/../h/kern_reg_util.h ****     return sstatus;
 801              		.loc 2 146 76 is_stmt 0
 802              	#APP
 803              	# 146 "src/../h/kern_reg_util.h" 1
 804              		csrr a5, sstatus
 805              	# 0 "" 2
 806              	#NO_APP
 807 04b4 233CF4FC 		sd	a5,-40(s0)
 147:src/../h/kern_reg_util.h **** }
 808              		.loc 2 147 5 is_stmt 1
 147:src/../h/kern_reg_util.h **** }
 809              		.loc 2 147 12 is_stmt 0
 810 04b8 833784FD 		ld	a5,-40(s0)
 811              	.LBE38:
 812              	.LBE37:
GAS LISTING /tmp/cceXlvIx.s 			page 23


 813              		.loc 1 181 41
 814 04bc 2334F4FE 		sd	a5,-24(s0)
 182:src/kern_threads.cpp ****     uint64 volatile v_sepc = r_sepc();
 815              		.loc 1 182 5 is_stmt 1
 816              	.LBB39:
 817              	.LBB40:
  77:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sepc], sepc" : [sepc] "=r"(sepc));
 818              		.loc 2 77 5
  78:src/../h/kern_reg_util.h ****     return sepc;
 819              		.loc 2 78 5
  78:src/../h/kern_reg_util.h ****     return sepc;
 820              		.loc 2 78 64 is_stmt 0
 821              	#APP
 822              	# 78 "src/../h/kern_reg_util.h" 1
 823              		csrr a5, sepc
 824              	# 0 "" 2
 825              	#NO_APP
 826 04c4 2338F4FC 		sd	a5,-48(s0)
  79:src/../h/kern_reg_util.h **** }
 827              		.loc 2 79 5 is_stmt 1
  79:src/../h/kern_reg_util.h **** }
 828              		.loc 2 79 12 is_stmt 0
 829 04c8 833704FD 		ld	a5,-48(s0)
 830              	.LBE40:
 831              	.LBE39:
 832              		.loc 1 182 37
 833 04cc 2330F4FE 		sd	a5,-32(s0)
 183:src/kern_threads.cpp ****     kern_thread_yield();
 834              		.loc 1 183 5 is_stmt 1
 835              		.loc 1 183 22 is_stmt 0
 836 04d0 97000000 		call	_Z17kern_thread_yieldv
 836      E7800000 
 837              	.LVL49:
 184:src/kern_threads.cpp ****     w_sstatus(sstatus);
 838              		.loc 1 184 5 is_stmt 1
 839              		.loc 1 184 14 is_stmt 0
 840 04d8 833784FE 		ld	a5,-24(s0)
 841              	.LVL50:
 842              	.LBB41:
 843              	.LBB42:
 152:src/../h/kern_reg_util.h **** }
 844              		.loc 2 152 5 is_stmt 1
 152:src/../h/kern_reg_util.h **** }
 845              		.loc 2 152 77 is_stmt 0
 846              	#APP
 847              	# 152 "src/../h/kern_reg_util.h" 1
 848              		csrw sstatus, a5
 849              	# 0 "" 2
 850              	.LVL51:
 851              	#NO_APP
 852              	.LBE42:
 853              	.LBE41:
 185:src/kern_threads.cpp ****     w_sepc(v_sepc);
 854              		.loc 1 185 5 is_stmt 1
 855              		.loc 1 185 11 is_stmt 0
 856 04e0 833704FE 		ld	a5,-32(s0)
 857              	.LVL52:
GAS LISTING /tmp/cceXlvIx.s 			page 24


 858              	.LBB43:
 859              	.LBB44:
  84:src/../h/kern_reg_util.h **** }
 860              		.loc 2 84 5 is_stmt 1
  84:src/../h/kern_reg_util.h **** }
 861              		.loc 2 84 65 is_stmt 0
 862              	#APP
 863              	# 84 "src/../h/kern_reg_util.h" 1
 864              		csrw sepc, a5
 865              	# 0 "" 2
 866              	.LVL53:
 867              	#NO_APP
 868              	.LBE44:
 869              	.LBE43:
 186:src/kern_threads.cpp **** }
 870              		.loc 1 186 1
 871 04e8 83308102 		ld	ra,40(sp)
 872              		.cfi_restore 1
 873 04ec 03340102 		ld	s0,32(sp)
 874              		.cfi_restore 8
 875              		.cfi_def_cfa 2, 48
 876 04f0 13010103 		addi	sp,sp,48
 877              		.cfi_def_cfa_offset 0
 878 04f4 67800000 		jr	ra
 879              		.cfi_endproc
 880              	.LFE31:
 882              		.align	2
 883              		.globl	_Z18kern_thread_wakeupm
 885              	_Z18kern_thread_wakeupm:
 886              	.LFB32:
 187:src/kern_threads.cpp **** 
 188:src/kern_threads.cpp **** void kern_thread_wakeup(uint64 system_time)
 189:src/kern_threads.cpp **** {
 887              		.loc 1 189 1 is_stmt 1
 888              		.cfi_startproc
 889              	.LVL54:
 890 04f8 130101FE 		addi	sp,sp,-32
 891              		.cfi_def_cfa_offset 32
 892 04fc 233C1100 		sd	ra,24(sp)
 893 0500 23388100 		sd	s0,16(sp)
 894 0504 23349100 		sd	s1,8(sp)
 895 0508 23302101 		sd	s2,0(sp)
 896              		.cfi_offset 1, -8
 897              		.cfi_offset 8, -16
 898              		.cfi_offset 9, -24
 899              		.cfi_offset 18, -32
 900 050c 13040102 		addi	s0,sp,32
 901              		.cfi_def_cfa 8, 0
 902 0510 13090500 		mv	s2,a0
 190:src/kern_threads.cpp ****     for(int i=0;i<MAX_THREADS;i++){
 903              		.loc 1 190 5
 904              	.LVL55:
 905              	.LBB45:
 906              		.loc 1 190 13 is_stmt 0
 907 0514 93040000 		li	s1,0
 908 0518 6F004002 		j	.L58
 909              	.LVL56:
GAS LISTING /tmp/cceXlvIx.s 			page 25


 910              	.L60:
 191:src/kern_threads.cpp ****         if(kthreads[i].status==SLEEPING && kthreads[i].endTime<system_time){
 192:src/kern_threads.cpp ****             kthreads[i].status=READY;
 911              		.loc 1 192 13 is_stmt 1
 912              		.loc 1 192 31 is_stmt 0
 913 051c 17050000 		lla	a0,kthreads
 913      13050500 
 914 0524 3305E500 		add	a0,a0,a4
 915 0528 93072000 		li	a5,2
 916 052c 2328F504 		sw	a5,80(a0)
 193:src/kern_threads.cpp ****             kern_scheduler_put(&kthreads[i]);
 917              		.loc 1 193 13 is_stmt 1
 918              		.loc 1 193 31 is_stmt 0
 919 0530 97000000 		call	_Z18kern_scheduler_putP8thread_s
 919      E7800000 
 920              	.LVL57:
 921              	.L57:
 190:src/kern_threads.cpp ****     for(int i=0;i<MAX_THREADS;i++){
 922              		.loc 1 190 5 is_stmt 1 discriminator 2
 923 0538 9B841400 		addiw	s1,s1,1
 924              	.LVL58:
 925              	.L58:
 190:src/kern_threads.cpp ****     for(int i=0;i<MAX_THREADS;i++){
 926              		.loc 1 190 18 discriminator 1
 927 053c 9307F003 		li	a5,63
 928 0540 63C29704 		bgt	s1,a5,.L55
 191:src/kern_threads.cpp ****         if(kthreads[i].status==SLEEPING && kthreads[i].endTime<system_time){
 929              		.loc 1 191 9
 191:src/kern_threads.cpp ****         if(kthreads[i].status==SLEEPING && kthreads[i].endTime<system_time){
 930              		.loc 1 191 24 is_stmt 0
 931 0544 93078006 		li	a5,104
 932 0548 3387F402 		mul	a4,s1,a5
 933 054c 97070000 		lla	a5,kthreads
 933      93870700 
 934 0554 B387E700 		add	a5,a5,a4
 935 0558 03A70705 		lw	a4,80(a5)
 191:src/kern_threads.cpp ****         if(kthreads[i].status==SLEEPING && kthreads[i].endTime<system_time){
 936              		.loc 1 191 9
 937 055c 93075000 		li	a5,5
 938 0560 E31CF7FC 		bne	a4,a5,.L57
 191:src/kern_threads.cpp ****         if(kthreads[i].status==SLEEPING && kthreads[i].endTime<system_time){
 939              		.loc 1 191 56 discriminator 1
 940 0564 93078006 		li	a5,104
 941 0568 3387F402 		mul	a4,s1,a5
 942 056c 97070000 		lla	a5,kthreads
 942      93870700 
 943 0574 B387E700 		add	a5,a5,a4
 944 0578 83B78703 		ld	a5,56(a5)
 191:src/kern_threads.cpp ****         if(kthreads[i].status==SLEEPING && kthreads[i].endTime<system_time){
 945              		.loc 1 191 41 discriminator 1
 946 057c E3FE27FB 		bgeu	a5,s2,.L57
 947 0580 6FF0DFF9 		j	.L60
 948              	.L55:
 949              	.LBE45:
 194:src/kern_threads.cpp ****         }
 195:src/kern_threads.cpp ****     }
 196:src/kern_threads.cpp **** }
GAS LISTING /tmp/cceXlvIx.s 			page 26


 950              		.loc 1 196 1
 951 0584 83308101 		ld	ra,24(sp)
 952              		.cfi_restore 1
 953 0588 03340101 		ld	s0,16(sp)
 954              		.cfi_restore 8
 955              		.cfi_def_cfa 2, 32
 956 058c 83348100 		ld	s1,8(sp)
 957              		.cfi_restore 9
 958              	.LVL59:
 959 0590 03390100 		ld	s2,0(sp)
 960              		.cfi_restore 18
 961              	.LVL60:
 962 0594 13010102 		addi	sp,sp,32
 963              		.cfi_def_cfa_offset 0
 964 0598 67800000 		jr	ra
 965              		.cfi_endproc
 966              	.LFE32:
 968              		.align	2
 969              		.globl	_Z17kern_thread_sleepm
 971              	_Z17kern_thread_sleepm:
 972              	.LFB33:
 197:src/kern_threads.cpp **** 
 198:src/kern_threads.cpp **** void kern_thread_sleep(uint64 wakeTime)
 199:src/kern_threads.cpp **** {
 973              		.loc 1 199 1 is_stmt 1
 974              		.cfi_startproc
 975              	.LVL61:
 976 059c 130101FD 		addi	sp,sp,-48
 977              		.cfi_def_cfa_offset 48
 978 05a0 23341102 		sd	ra,40(sp)
 979 05a4 23308102 		sd	s0,32(sp)
 980              		.cfi_offset 1, -8
 981              		.cfi_offset 8, -16
 982 05a8 13040103 		addi	s0,sp,48
 983              		.cfi_def_cfa 8, 0
 200:src/kern_threads.cpp ****     running->status=SLEEPING;
 984              		.loc 1 200 5
 985              		.loc 1 200 14 is_stmt 0
 986 05ac 97070000 		ld	a5,.LANCHOR0+8
 986      83B70700 
 987              		.loc 1 200 20
 988 05b4 13075000 		li	a4,5
 989 05b8 23A8E704 		sw	a4,80(a5)
 201:src/kern_threads.cpp ****     running->endTime=wakeTime;
 990              		.loc 1 201 5 is_stmt 1
 991              		.loc 1 201 21 is_stmt 0
 992 05bc 23BCA702 		sd	a0,56(a5)
 202:src/kern_threads.cpp ****     uint64 volatile sstatus = r_sstatus();
 993              		.loc 1 202 5 is_stmt 1
 994              	.LBB46:
 995              	.LBB47:
 145:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sstatus], sstatus" : [sstatus] "=r"(sstatus));
 996              		.loc 2 145 5
 146:src/../h/kern_reg_util.h ****     return sstatus;
 997              		.loc 2 146 5
 146:src/../h/kern_reg_util.h ****     return sstatus;
 998              		.loc 2 146 76 is_stmt 0
GAS LISTING /tmp/cceXlvIx.s 			page 27


 999              	#APP
 1000              	# 146 "src/../h/kern_reg_util.h" 1
 1001              		csrr a5, sstatus
 1002              	# 0 "" 2
 1003              	#NO_APP
 1004 05c4 233CF4FC 		sd	a5,-40(s0)
 147:src/../h/kern_reg_util.h **** }
 1005              		.loc 2 147 5 is_stmt 1
 147:src/../h/kern_reg_util.h **** }
 1006              		.loc 2 147 12 is_stmt 0
 1007 05c8 833784FD 		ld	a5,-40(s0)
 1008              	.LBE47:
 1009              	.LBE46:
 1010              		.loc 1 202 41
 1011 05cc 2334F4FE 		sd	a5,-24(s0)
 203:src/kern_threads.cpp ****     uint64 volatile v_sepc = r_sepc();
 1012              		.loc 1 203 5 is_stmt 1
 1013              	.LBB48:
 1014              	.LBB49:
  77:src/../h/kern_reg_util.h ****     __asm__ volatile ("csrr %[sepc], sepc" : [sepc] "=r"(sepc));
 1015              		.loc 2 77 5
  78:src/../h/kern_reg_util.h ****     return sepc;
 1016              		.loc 2 78 5
  78:src/../h/kern_reg_util.h ****     return sepc;
 1017              		.loc 2 78 64 is_stmt 0
 1018              	#APP
 1019              	# 78 "src/../h/kern_reg_util.h" 1
 1020              		csrr a5, sepc
 1021              	# 0 "" 2
 1022              	#NO_APP
 1023 05d4 2338F4FC 		sd	a5,-48(s0)
  79:src/../h/kern_reg_util.h **** }
 1024              		.loc 2 79 5 is_stmt 1
  79:src/../h/kern_reg_util.h **** }
 1025              		.loc 2 79 12 is_stmt 0
 1026 05d8 833704FD 		ld	a5,-48(s0)
 1027              	.LBE49:
 1028              	.LBE48:
 1029              		.loc 1 203 37
 1030 05dc 2330F4FE 		sd	a5,-32(s0)
 204:src/kern_threads.cpp ****     kern_thread_yield();
 1031              		.loc 1 204 5 is_stmt 1
 1032              		.loc 1 204 22 is_stmt 0
 1033 05e0 97000000 		call	_Z17kern_thread_yieldv
 1033      E7800000 
 1034              	.LVL62:
 205:src/kern_threads.cpp ****     w_sstatus(sstatus);
 1035              		.loc 1 205 5 is_stmt 1
 1036              		.loc 1 205 14 is_stmt 0
 1037 05e8 833784FE 		ld	a5,-24(s0)
 1038              	.LVL63:
 1039              	.LBB50:
 1040              	.LBB51:
 152:src/../h/kern_reg_util.h **** }
 1041              		.loc 2 152 5 is_stmt 1
 152:src/../h/kern_reg_util.h **** }
 1042              		.loc 2 152 77 is_stmt 0
GAS LISTING /tmp/cceXlvIx.s 			page 28


 1043              	#APP
 1044              	# 152 "src/../h/kern_reg_util.h" 1
 1045              		csrw sstatus, a5
 1046              	# 0 "" 2
 1047              	.LVL64:
 1048              	#NO_APP
 1049              	.LBE51:
 1050              	.LBE50:
 206:src/kern_threads.cpp ****     w_sepc(v_sepc);
 1051              		.loc 1 206 5 is_stmt 1
 1052              		.loc 1 206 11 is_stmt 0
 1053 05f0 833704FE 		ld	a5,-32(s0)
 1054              	.LVL65:
 1055              	.LBB52:
 1056              	.LBB53:
  84:src/../h/kern_reg_util.h **** }
 1057              		.loc 2 84 5 is_stmt 1
  84:src/../h/kern_reg_util.h **** }
 1058              		.loc 2 84 65 is_stmt 0
 1059              	#APP
 1060              	# 84 "src/../h/kern_reg_util.h" 1
 1061              		csrw sepc, a5
 1062              	# 0 "" 2
 1063              	.LVL66:
 1064              	#NO_APP
 1065              	.LBE53:
 1066              	.LBE52:
 207:src/kern_threads.cpp **** }
 1067              		.loc 1 207 1
 1068 05f8 83308102 		ld	ra,40(sp)
 1069              		.cfi_restore 1
 1070 05fc 03340102 		ld	s0,32(sp)
 1071              		.cfi_restore 8
 1072              		.cfi_def_cfa 2, 48
 1073 0600 13010103 		addi	sp,sp,48
 1074              		.cfi_def_cfa_offset 0
 1075 0604 67800000 		jr	ra
 1076              		.cfi_endproc
 1077              	.LFE33:
 1079              		.globl	running
 1080              		.globl	kthreads
 1081              		.bss
 1082              		.align	3
 1083              		.set	.LANCHOR0,. + 0
 1086              	_ZL2id:
 1087 0000 00000000 		.zero	4
 1088 0004 00000000 		.zero	4
 1091              	running:
 1092 0008 00000000 		.zero	8
 1092      00000000 
 1095              	scheduler:
 1096 0010 00000000 		.zero	32
 1096      00000000 
 1096      00000000 
 1096      00000000 
 1096      00000000 
 1099              	kthreads:
GAS LISTING /tmp/cceXlvIx.s 			page 29


 1100 0030 00000000 		.zero	6656
 1100      00000000 
 1100      00000000 
 1100      00000000 
 1100      00000000 
 1101              		.text
 1102              	.Letext0:
 1103              		.file 3 "src/../h/../lib/hw.h"
 1104              		.file 4 "src/../h/kern_threads.hpp"
 1105              		.file 5 "src/../h/syscall_c.h"
 1106              		.file 6 "src/../h/kern_memory.hpp"
GAS LISTING /tmp/cceXlvIx.s 			page 30


DEFINED SYMBOLS
                            *ABS*:0000000000000000 kern_threads.cpp
     /tmp/cceXlvIx.s:9      .text:0000000000000000 _Z16kern_thread_initv
     /tmp/cceXlvIx.s:13     .text:0000000000000000 .L0 
     /tmp/cceXlvIx.s:14     .text:0000000000000000 .L0 
     /tmp/cceXlvIx.s:15     .text:0000000000000004 .L0 
     /tmp/cceXlvIx.s:17     .text:0000000000000008 .L0 
     /tmp/cceXlvIx.s:19     .text:000000000000000c .L0 
     /tmp/cceXlvIx.s:21     .text:000000000000000c .L0 
     /tmp/cceXlvIx.s:22     .text:000000000000000c .L0 
     /tmp/cceXlvIx.s:26     .text:0000000000000014 .L0 
     /tmp/cceXlvIx.s:27     .text:0000000000000014 .L0 
     /tmp/cceXlvIx.s:31     .text:0000000000000018 .L0 
     /tmp/cceXlvIx.s:34     .text:0000000000000020 .L0 
     /tmp/cceXlvIx.s:35     .text:0000000000000020 .L0 
     /tmp/cceXlvIx.s:1099   .bss:0000000000000030 kthreads
     /tmp/cceXlvIx.s:41     .text:0000000000000038 .L0 
     /tmp/cceXlvIx.s:48     .text:0000000000000040 .L0 
     /tmp/cceXlvIx.s:49     .text:0000000000000040 .L0 
     /tmp/cceXlvIx.s:54     .text:0000000000000050 .L0 
     /tmp/cceXlvIx.s:55     .text:0000000000000050 .L0 
     /tmp/cceXlvIx.s:57     .text:0000000000000054 .L0 
     /tmp/cceXlvIx.s:58     .text:0000000000000054 .L0 
     /tmp/cceXlvIx.s:61     .text:000000000000005c .L0 
     /tmp/cceXlvIx.s:62     .text:000000000000005c .L0 
     /tmp/cceXlvIx.s:64     .text:0000000000000060 .L0 
     /tmp/cceXlvIx.s:65     .text:0000000000000060 .L0 
     /tmp/cceXlvIx.s:67     .text:0000000000000064 .L0 
     /tmp/cceXlvIx.s:68     .text:0000000000000064 .L0 
     /tmp/cceXlvIx.s:71     .text:0000000000000070 .L0 
     /tmp/cceXlvIx.s:72     .text:0000000000000070 .L0 
     /tmp/cceXlvIx.s:74     .text:0000000000000074 .L0 
     /tmp/cceXlvIx.s:75     .text:0000000000000074 .L0 
     /tmp/cceXlvIx.s:77     .text:0000000000000078 .L0 
     /tmp/cceXlvIx.s:78     .text:0000000000000078 .L0 
     /tmp/cceXlvIx.s:80     .text:000000000000007c .L0 
     /tmp/cceXlvIx.s:81     .text:000000000000007c .L0 
     /tmp/cceXlvIx.s:83     .text:0000000000000080 .L0 
     /tmp/cceXlvIx.s:84     .text:0000000000000084 .L0 
     /tmp/cceXlvIx.s:85     .text:0000000000000084 .L0 
     /tmp/cceXlvIx.s:87     .text:0000000000000088 .L0 
     /tmp/cceXlvIx.s:89     .text:000000000000008c .L0 
     /tmp/cceXlvIx.s:95     .text:000000000000008c _Z18kern_scheduler_putP8thread_s
     /tmp/cceXlvIx.s:98     .text:000000000000008c .L0 
     /tmp/cceXlvIx.s:100    .text:000000000000008c .L0 
     /tmp/cceXlvIx.s:101    .text:0000000000000090 .L0 
     /tmp/cceXlvIx.s:103    .text:0000000000000094 .L0 
     /tmp/cceXlvIx.s:105    .text:0000000000000098 .L0 
     /tmp/cceXlvIx.s:107    .text:0000000000000098 .L0 
     /tmp/cceXlvIx.s:108    .text:0000000000000098 .L0 
     /tmp/cceXlvIx.s:111    .text:00000000000000a0 .L0 
     /tmp/cceXlvIx.s:112    .text:00000000000000a0 .L0 
     /tmp/cceXlvIx.s:114    .text:00000000000000a8 .L0 
     /tmp/cceXlvIx.s:116    .text:00000000000000ac .L0 
     /tmp/cceXlvIx.s:117    .text:00000000000000ac .L0 
     /tmp/cceXlvIx.s:119    .text:00000000000000b0 .L0 
     /tmp/cceXlvIx.s:120    .text:00000000000000b0 .L0 
GAS LISTING /tmp/cceXlvIx.s 			page 31


     /tmp/cceXlvIx.s:123    .text:00000000000000b8 .L0 
     /tmp/cceXlvIx.s:124    .text:00000000000000b8 .L0 
     /tmp/cceXlvIx.s:126    .text:00000000000000bc .L0 
     /tmp/cceXlvIx.s:127    .text:00000000000000c0 .L0 
     /tmp/cceXlvIx.s:128    .text:00000000000000c0 .L0 
     /tmp/cceXlvIx.s:129    .text:00000000000000c0 .L0 
     /tmp/cceXlvIx.s:131    .text:00000000000000c4 .L0 
     /tmp/cceXlvIx.s:134    .text:00000000000000c8 .L0 
     /tmp/cceXlvIx.s:136    .text:00000000000000c8 .L0 
     /tmp/cceXlvIx.s:137    .text:00000000000000c8 .L0 
     /tmp/cceXlvIx.s:140    .text:00000000000000d4 .L0 
     /tmp/cceXlvIx.s:141    .text:00000000000000d4 .L0 
     /tmp/cceXlvIx.s:143    .text:00000000000000dc .L0 
     /tmp/cceXlvIx.s:149    .text:00000000000000dc _Z18kern_scheduler_getv
     /tmp/cceXlvIx.s:152    .text:00000000000000dc .L0 
     /tmp/cceXlvIx.s:153    .text:00000000000000dc .L0 
     /tmp/cceXlvIx.s:154    .text:00000000000000e0 .L0 
     /tmp/cceXlvIx.s:156    .text:00000000000000e4 .L0 
     /tmp/cceXlvIx.s:158    .text:00000000000000e8 .L0 
     /tmp/cceXlvIx.s:160    .text:00000000000000e8 .L0 
     /tmp/cceXlvIx.s:161    .text:00000000000000e8 .L0 
     /tmp/cceXlvIx.s:163    .text:00000000000000f0 .L0 
     /tmp/cceXlvIx.s:166    .text:00000000000000f4 .L0 
     /tmp/cceXlvIx.s:167    .text:00000000000000f4 .L0 
     /tmp/cceXlvIx.s:168    .text:00000000000000f4 .L0 
     /tmp/cceXlvIx.s:170    .text:00000000000000f8 .L0 
     /tmp/cceXlvIx.s:173    .text:0000000000000104 .L0 
     /tmp/cceXlvIx.s:174    .text:0000000000000104 .L0 
     /tmp/cceXlvIx.s:176    .text:0000000000000108 .L0 
     /tmp/cceXlvIx.s:179    .text:000000000000010c .L0 
     /tmp/cceXlvIx.s:180    .text:000000000000010c .L0 
     /tmp/cceXlvIx.s:184    .text:0000000000000110 .L0 
     /tmp/cceXlvIx.s:185    .text:0000000000000110 .L0 
     /tmp/cceXlvIx.s:186    .text:0000000000000114 .L0 
     /tmp/cceXlvIx.s:187    .text:0000000000000114 .L0 
     /tmp/cceXlvIx.s:188    .text:0000000000000114 .L0 
     /tmp/cceXlvIx.s:190    .text:0000000000000118 .L0 
     /tmp/cceXlvIx.s:194    .text:000000000000011c .L0 
     /tmp/cceXlvIx.s:196    .text:000000000000011c .L0 
     /tmp/cceXlvIx.s:197    .text:000000000000011c .L0 
     /tmp/cceXlvIx.s:199    .text:0000000000000128 .L0 
     /tmp/cceXlvIx.s:205    .text:0000000000000128 _Z10popSppSpiev
     /tmp/cceXlvIx.s:208    .text:0000000000000128 .L0 
     /tmp/cceXlvIx.s:209    .text:0000000000000128 .L0 
     /tmp/cceXlvIx.s:210    .text:000000000000012c .L0 
     /tmp/cceXlvIx.s:212    .text:0000000000000130 .L0 
     /tmp/cceXlvIx.s:214    .text:0000000000000134 .L0 
     /tmp/cceXlvIx.s:216    .text:0000000000000134 .L0 
src/kern_threads.cpp:85     .text:0000000000000134 .L0 
     /tmp/cceXlvIx.s:222    .text:0000000000000138 .L0 
     /tmp/cceXlvIx.s:224    .text:0000000000000138 .L0 
     /tmp/cceXlvIx.s:230    .text:0000000000000140 .L0 
src/kern_threads.cpp:87     .text:0000000000000140 .L0 
     /tmp/cceXlvIx.s:236    .text:0000000000000144 .L0 
     /tmp/cceXlvIx.s:237    .text:0000000000000148 .L0 
     /tmp/cceXlvIx.s:238    .text:0000000000000148 .L0 
     /tmp/cceXlvIx.s:240    .text:000000000000014c .L0 
GAS LISTING /tmp/cceXlvIx.s 			page 32


     /tmp/cceXlvIx.s:242    .text:0000000000000150 .L0 
     /tmp/cceXlvIx.s:248    .text:0000000000000150 _Z19kern_thread_wrapperv
     /tmp/cceXlvIx.s:251    .text:0000000000000150 .L0 
     /tmp/cceXlvIx.s:252    .text:0000000000000150 .L0 
     /tmp/cceXlvIx.s:253    .text:0000000000000154 .L0 
     /tmp/cceXlvIx.s:256    .text:000000000000015c .L0 
     /tmp/cceXlvIx.s:257    .text:000000000000015c .L0 
     /tmp/cceXlvIx.s:259    .text:0000000000000160 .L0 
     /tmp/cceXlvIx.s:261    .text:0000000000000160 .L0 
     /tmp/cceXlvIx.s:262    .text:0000000000000160 .L0 
     /tmp/cceXlvIx.s:265    .text:0000000000000168 .L0 
     /tmp/cceXlvIx.s:266    .text:0000000000000168 .L0 
     /tmp/cceXlvIx.s:269    .text:0000000000000174 .L0 
     /tmp/cceXlvIx.s:273    .text:000000000000017c .L0 
     /tmp/cceXlvIx.s:274    .text:000000000000017c .L0 
     /tmp/cceXlvIx.s:277    .text:0000000000000184 .L0 
     /tmp/cceXlvIx.s:278    .text:0000000000000188 .L0 
     /tmp/cceXlvIx.s:280    .text:000000000000018c .L0 
     /tmp/cceXlvIx.s:281    .text:000000000000018c .L0 
     /tmp/cceXlvIx.s:283    .text:0000000000000190 .L0 
     /tmp/cceXlvIx.s:285    .text:0000000000000194 .L0 
     /tmp/cceXlvIx.s:291    .text:0000000000000194 _Z17kern_thread_yieldv
     /tmp/cceXlvIx.s:294    .text:0000000000000194 .L0 
     /tmp/cceXlvIx.s:295    .text:0000000000000194 .L0 
     /tmp/cceXlvIx.s:296    .text:0000000000000198 .L0 
     /tmp/cceXlvIx.s:301    .text:00000000000001a8 .L0 
     /tmp/cceXlvIx.s:302    .text:00000000000001a8 .L0 
     /tmp/cceXlvIx.s:303    .text:00000000000001a8 .L0 
     /tmp/cceXlvIx.s:304    .text:00000000000001a8 .L0 
     /tmp/cceXlvIx.s:306    .text:00000000000001ac .L0 
     /tmp/cceXlvIx.s:308    .text:00000000000001ac .L0 
     /tmp/cceXlvIx.s:309    .text:00000000000001ac .L0 
     /tmp/cceXlvIx.s:313    .text:00000000000001b8 .L0 
     /tmp/cceXlvIx.s:314    .text:00000000000001b8 .L0 
     /tmp/cceXlvIx.s:317    .text:00000000000001c0 .L0 
     /tmp/cceXlvIx.s:319    .text:00000000000001c4 .L0 
     /tmp/cceXlvIx.s:322    .text:00000000000001cc .L0 
     /tmp/cceXlvIx.s:323    .text:00000000000001cc .L0 
     /tmp/cceXlvIx.s:326    .text:00000000000001d4 .L0 
     /tmp/cceXlvIx.s:327    .text:00000000000001d4 .L0 
     /tmp/cceXlvIx.s:329    .text:00000000000001d8 .L0 
     /tmp/cceXlvIx.s:333    .text:00000000000001e0 .L0 
     /tmp/cceXlvIx.s:334    .text:00000000000001e0 .L0 
     /tmp/cceXlvIx.s:339    .text:00000000000001ec .L0 
     /tmp/cceXlvIx.s:340    .text:00000000000001f0 .L0 
     /tmp/cceXlvIx.s:341    .text:00000000000001f0 .L0 
     /tmp/cceXlvIx.s:343    .text:00000000000001f4 .L0 
     /tmp/cceXlvIx.s:344    .text:00000000000001f4 .L0 
     /tmp/cceXlvIx.s:346    .text:00000000000001f8 .L0 
     /tmp/cceXlvIx.s:349    .text:00000000000001fc .L0 
     /tmp/cceXlvIx.s:351    .text:0000000000000200 .L0 
     /tmp/cceXlvIx.s:355    .text:0000000000000204 .L0 
     /tmp/cceXlvIx.s:357    .text:0000000000000204 .L0 
     /tmp/cceXlvIx.s:358    .text:0000000000000204 .L0 
     /tmp/cceXlvIx.s:363    .text:0000000000000210 .L0 
     /tmp/cceXlvIx.s:364    .text:0000000000000210 .L0 
     /tmp/cceXlvIx.s:367    .text:0000000000000218 .L0 
GAS LISTING /tmp/cceXlvIx.s 			page 33


     /tmp/cceXlvIx.s:368    .text:000000000000021c .L0 
     /tmp/cceXlvIx.s:374    .text:000000000000021c _Z20kern_thread_dispatchv
     /tmp/cceXlvIx.s:377    .text:000000000000021c .L0 
     /tmp/cceXlvIx.s:378    .text:000000000000021c .L0 
     /tmp/cceXlvIx.s:379    .text:0000000000000220 .L0 
     /tmp/cceXlvIx.s:382    .text:0000000000000228 .L0 
     /tmp/cceXlvIx.s:383    .text:0000000000000228 .L0 
     /tmp/cceXlvIx.s:385    .text:000000000000022c .L0 
     /tmp/cceXlvIx.s:387    .text:000000000000022c .L0 
     /tmp/cceXlvIx.s:388    .text:000000000000022c .L0 
     /tmp/cceXlvIx.s:395    .text:000000000000023c .L0 
     /tmp/cceXlvIx.s:396    .text:000000000000023c .L0 
     /tmp/cceXlvIx.s:397    .text:000000000000023c .L0 
src/../h/kern_reg_util.h:146    .text:000000000000023c .L0 
     /tmp/cceXlvIx.s:405    .text:0000000000000244 .L0 
     /tmp/cceXlvIx.s:406    .text:0000000000000244 .L0 
     /tmp/cceXlvIx.s:410    .text:0000000000000248 .L0 
     /tmp/cceXlvIx.s:414    .text:000000000000024c .L0 
     /tmp/cceXlvIx.s:415    .text:000000000000024c .L0 
     /tmp/cceXlvIx.s:416    .text:000000000000024c .L0 
src/../h/kern_reg_util.h:78     .text:000000000000024c .L0 
     /tmp/cceXlvIx.s:424    .text:0000000000000254 .L0 
     /tmp/cceXlvIx.s:425    .text:0000000000000254 .L0 
     /tmp/cceXlvIx.s:429    .text:0000000000000258 .L0 
     /tmp/cceXlvIx.s:431    .text:000000000000025c .L0 
     /tmp/cceXlvIx.s:432    .text:000000000000025c .L0 
     /tmp/cceXlvIx.s:435    .text:0000000000000264 .L0 
     /tmp/cceXlvIx.s:436    .text:0000000000000264 .L0 
     /tmp/cceXlvIx.s:441    .text:0000000000000268 .L0 
src/../h/kern_reg_util.h:152    .text:0000000000000268 .L0 
     /tmp/cceXlvIx.s:451    .text:000000000000026c .L0 
     /tmp/cceXlvIx.s:452    .text:000000000000026c .L0 
     /tmp/cceXlvIx.s:457    .text:0000000000000270 .L0 
src/../h/kern_reg_util.h:84     .text:0000000000000270 .L0 
     /tmp/cceXlvIx.s:467    .text:0000000000000274 .L0 
     /tmp/cceXlvIx.s:468    .text:0000000000000278 .L0 
     /tmp/cceXlvIx.s:470    .text:000000000000027c .L0 
     /tmp/cceXlvIx.s:471    .text:000000000000027c .L0 
     /tmp/cceXlvIx.s:473    .text:0000000000000280 .L0 
     /tmp/cceXlvIx.s:475    .text:0000000000000284 .L0 
     /tmp/cceXlvIx.s:481    .text:0000000000000284 _Z23kern_thread_end_runningv
     /tmp/cceXlvIx.s:484    .text:0000000000000284 .L0 
     /tmp/cceXlvIx.s:485    .text:0000000000000284 .L0 
     /tmp/cceXlvIx.s:486    .text:0000000000000288 .L0 
     /tmp/cceXlvIx.s:491    .text:0000000000000298 .L0 
     /tmp/cceXlvIx.s:492    .text:0000000000000298 .L0 
     /tmp/cceXlvIx.s:493    .text:0000000000000298 .L0 
     /tmp/cceXlvIx.s:494    .text:0000000000000298 .L0 
     /tmp/cceXlvIx.s:496    .text:000000000000029c .L0 
     /tmp/cceXlvIx.s:498    .text:000000000000029c .L0 
     /tmp/cceXlvIx.s:499    .text:000000000000029c .L0 
     /tmp/cceXlvIx.s:502    .text:00000000000002a4 .L0 
     /tmp/cceXlvIx.s:503    .text:00000000000002a4 .L0 
     /tmp/cceXlvIx.s:507    .text:00000000000002a8 .L0 
     /tmp/cceXlvIx.s:508    .text:00000000000002a8 .L0 
     /tmp/cceXlvIx.s:513    .text:00000000000002b0 .L0 
     /tmp/cceXlvIx.s:514    .text:00000000000002b0 .L0 
GAS LISTING /tmp/cceXlvIx.s 			page 34


     /tmp/cceXlvIx.s:521    .text:00000000000002cc .L0 
     /tmp/cceXlvIx.s:522    .text:00000000000002cc .L0 
     /tmp/cceXlvIx.s:526    .text:00000000000002d4 .L0 
     /tmp/cceXlvIx.s:530    .text:00000000000002d8 .L0 
     /tmp/cceXlvIx.s:533    .text:00000000000002e0 .L0 
     /tmp/cceXlvIx.s:534    .text:00000000000002e0 .L0 
     /tmp/cceXlvIx.s:540    .text:00000000000002f8 .L0 
     /tmp/cceXlvIx.s:543    .text:0000000000000300 .L0 
     /tmp/cceXlvIx.s:549    .text:0000000000000318 .L0 
     /tmp/cceXlvIx.s:551    .text:000000000000031c .L0 
     /tmp/cceXlvIx.s:556    .text:0000000000000324 .L0 
     /tmp/cceXlvIx.s:557    .text:0000000000000324 .L0 
     /tmp/cceXlvIx.s:560    .text:000000000000032c .L0 
     /tmp/cceXlvIx.s:562    .text:0000000000000334 .L0 
     /tmp/cceXlvIx.s:563    .text:0000000000000334 .L0 
     /tmp/cceXlvIx.s:565    .text:0000000000000338 .L0 
     /tmp/cceXlvIx.s:568    .text:000000000000033c .L0 
     /tmp/cceXlvIx.s:569    .text:000000000000033c .L0 
     /tmp/cceXlvIx.s:571    .text:0000000000000344 .L0 
     /tmp/cceXlvIx.s:573    .text:0000000000000348 .L0 
     /tmp/cceXlvIx.s:574    .text:0000000000000348 .L0 
     /tmp/cceXlvIx.s:579    .text:0000000000000354 .L0 
     /tmp/cceXlvIx.s:580    .text:0000000000000358 .L0 
     /tmp/cceXlvIx.s:581    .text:0000000000000358 .L0 
     /tmp/cceXlvIx.s:583    .text:000000000000035c .L0 
     /tmp/cceXlvIx.s:584    .text:000000000000035c .L0 
     /tmp/cceXlvIx.s:586    .text:0000000000000360 .L0 
     /tmp/cceXlvIx.s:589    .text:0000000000000364 .L0 
     /tmp/cceXlvIx.s:592    .text:0000000000000368 .L0 
     /tmp/cceXlvIx.s:596    .text:000000000000036c .L0 
     /tmp/cceXlvIx.s:598    .text:000000000000036c .L0 
     /tmp/cceXlvIx.s:599    .text:000000000000036c .L0 
     /tmp/cceXlvIx.s:602    .text:0000000000000378 .L0 
     /tmp/cceXlvIx.s:608    .text:0000000000000378 _Z18kern_thread_createPP8thread_sPFvPvES2_S2_
     /tmp/cceXlvIx.s:611    .text:0000000000000378 .L0 
     /tmp/cceXlvIx.s:613    .text:0000000000000378 .L0 
     /tmp/cceXlvIx.s:615    .text:000000000000037c .L0 
     /tmp/cceXlvIx.s:616    .text:000000000000037c .L0 
     /tmp/cceXlvIx.s:619    .text:0000000000000380 .L0 
     /tmp/cceXlvIx.s:621    .text:0000000000000380 .L0 
     /tmp/cceXlvIx.s:622    .text:0000000000000380 .L0 
     /tmp/cceXlvIx.s:626    .text:0000000000000384 .L0 
     /tmp/cceXlvIx.s:629    .text:000000000000038c .L0 
     /tmp/cceXlvIx.s:630    .text:000000000000038c .L0 
     /tmp/cceXlvIx.s:636    .text:00000000000003a4 .L0 
     /tmp/cceXlvIx.s:638    .text:00000000000003a8 .L0 
     /tmp/cceXlvIx.s:644    .text:00000000000003b0 .L0 
     /tmp/cceXlvIx.s:645    .text:00000000000003b0 .L0 
     /tmp/cceXlvIx.s:649    .text:00000000000003bc .L0 
     /tmp/cceXlvIx.s:652    .text:00000000000003c0 .L0 
     /tmp/cceXlvIx.s:655    .text:00000000000003c0 .L0 
     /tmp/cceXlvIx.s:656    .text:00000000000003c0 .L0 
     /tmp/cceXlvIx.s:657    .text:00000000000003c0 .L0 
     /tmp/cceXlvIx.s:660    .text:00000000000003c4 .L0 
     /tmp/cceXlvIx.s:662    .text:00000000000003c8 .L0 
     /tmp/cceXlvIx.s:663    .text:00000000000003cc .L0 
     /tmp/cceXlvIx.s:666    .text:00000000000003d4 .L0 
GAS LISTING /tmp/cceXlvIx.s 			page 35


     /tmp/cceXlvIx.s:667    .text:00000000000003d4 .L0 
     /tmp/cceXlvIx.s:669    .text:00000000000003d8 .L0 
     /tmp/cceXlvIx.s:671    .text:00000000000003d8 .L0 
     /tmp/cceXlvIx.s:672    .text:00000000000003d8 .L0 
     /tmp/cceXlvIx.s:677    .text:00000000000003ec .L0 
     /tmp/cceXlvIx.s:680    .text:00000000000003f4 .L0 
     /tmp/cceXlvIx.s:681    .text:00000000000003f4 .L0 
     /tmp/cceXlvIx.s:684    .text:00000000000003fc .L0 
     /tmp/cceXlvIx.s:685    .text:00000000000003fc .L0 
     /tmp/cceXlvIx.s:687    .text:0000000000000400 .L0 
     /tmp/cceXlvIx.s:688    .text:0000000000000400 .L0 
     /tmp/cceXlvIx.s:691    .text:0000000000000408 .L0 
     /tmp/cceXlvIx.s:692    .text:0000000000000408 .L0 
     /tmp/cceXlvIx.s:695    .text:0000000000000410 .L0 
     /tmp/cceXlvIx.s:696    .text:0000000000000410 .L0 
     /tmp/cceXlvIx.s:698    .text:0000000000000414 .L0 
     /tmp/cceXlvIx.s:699    .text:0000000000000414 .L0 
     /tmp/cceXlvIx.s:701    .text:0000000000000418 .L0 
     /tmp/cceXlvIx.s:702    .text:0000000000000418 .L0 
     /tmp/cceXlvIx.s:706    .text:0000000000000420 .L0 
     /tmp/cceXlvIx.s:708    .text:0000000000000424 .L0 
     /tmp/cceXlvIx.s:709    .text:0000000000000424 .L0 
     /tmp/cceXlvIx.s:712    .text:0000000000000430 .L0 
     /tmp/cceXlvIx.s:713    .text:0000000000000430 .L0 
     /tmp/cceXlvIx.s:715    .text:0000000000000434 .L0 
     /tmp/cceXlvIx.s:716    .text:0000000000000434 .L0 
     /tmp/cceXlvIx.s:718    .text:0000000000000438 .L0 
     /tmp/cceXlvIx.s:719    .text:0000000000000438 .L0 
     /tmp/cceXlvIx.s:721    .text:000000000000043c .L0 
     /tmp/cceXlvIx.s:722    .text:000000000000043c .L0 
     /tmp/cceXlvIx.s:725    .text:0000000000000444 .L0 
     /tmp/cceXlvIx.s:726    .text:0000000000000444 .L0 
     /tmp/cceXlvIx.s:728    .text:0000000000000448 .L0 
     /tmp/cceXlvIx.s:729    .text:000000000000044c .L0 
     /tmp/cceXlvIx.s:731    .text:0000000000000450 .L0 
     /tmp/cceXlvIx.s:732    .text:0000000000000450 .L0 
     /tmp/cceXlvIx.s:734    .text:0000000000000454 .L0 
     /tmp/cceXlvIx.s:739    .text:0000000000000458 .L0 
     /tmp/cceXlvIx.s:745    .text:0000000000000464 .L0 
     /tmp/cceXlvIx.s:748    .text:0000000000000468 .L0 
     /tmp/cceXlvIx.s:749    .text:000000000000046c .L0 
     /tmp/cceXlvIx.s:755    .text:000000000000046c _Z16kern_thread_joinP8thread_s
     /tmp/cceXlvIx.s:758    .text:000000000000046c .L0 
     /tmp/cceXlvIx.s:760    .text:000000000000046c .L0 
     /tmp/cceXlvIx.s:761    .text:000000000000046c .L0 
     /tmp/cceXlvIx.s:762    .text:000000000000046c .L0 
     /tmp/cceXlvIx.s:764    .text:0000000000000470 .L0 
     /tmp/cceXlvIx.s:768    .text:0000000000000478 .L0 
     /tmp/cceXlvIx.s:769    .text:000000000000047c .L0 
     /tmp/cceXlvIx.s:772    .text:0000000000000484 .L0 
     /tmp/cceXlvIx.s:773    .text:0000000000000484 .L0 
     /tmp/cceXlvIx.s:775    .text:0000000000000488 .L0 
     /tmp/cceXlvIx.s:777    .text:0000000000000488 .L0 
     /tmp/cceXlvIx.s:778    .text:0000000000000488 .L0 
     /tmp/cceXlvIx.s:781    .text:0000000000000494 .L0 
     /tmp/cceXlvIx.s:783    .text:0000000000000498 .L0 
     /tmp/cceXlvIx.s:785    .text:000000000000049c .L0 
GAS LISTING /tmp/cceXlvIx.s 			page 36


     /tmp/cceXlvIx.s:786    .text:000000000000049c .L0 
     /tmp/cceXlvIx.s:789    .text:00000000000004a4 .L0 
     /tmp/cceXlvIx.s:790    .text:00000000000004a4 .L0 
     /tmp/cceXlvIx.s:792    .text:00000000000004a8 .L0 
     /tmp/cceXlvIx.s:794    .text:00000000000004ac .L0 
     /tmp/cceXlvIx.s:795    .text:00000000000004ac .L0 
     /tmp/cceXlvIx.s:799    .text:00000000000004b0 .L0 
     /tmp/cceXlvIx.s:800    .text:00000000000004b0 .L0 
     /tmp/cceXlvIx.s:801    .text:00000000000004b0 .L0 
src/../h/kern_reg_util.h:146    .text:00000000000004b0 .L0 
     /tmp/cceXlvIx.s:809    .text:00000000000004b8 .L0 
     /tmp/cceXlvIx.s:810    .text:00000000000004b8 .L0 
     /tmp/cceXlvIx.s:814    .text:00000000000004bc .L0 
     /tmp/cceXlvIx.s:818    .text:00000000000004c0 .L0 
     /tmp/cceXlvIx.s:819    .text:00000000000004c0 .L0 
     /tmp/cceXlvIx.s:820    .text:00000000000004c0 .L0 
src/../h/kern_reg_util.h:78     .text:00000000000004c0 .L0 
     /tmp/cceXlvIx.s:828    .text:00000000000004c8 .L0 
     /tmp/cceXlvIx.s:829    .text:00000000000004c8 .L0 
     /tmp/cceXlvIx.s:833    .text:00000000000004cc .L0 
     /tmp/cceXlvIx.s:835    .text:00000000000004d0 .L0 
     /tmp/cceXlvIx.s:836    .text:00000000000004d0 .L0 
     /tmp/cceXlvIx.s:839    .text:00000000000004d8 .L0 
     /tmp/cceXlvIx.s:840    .text:00000000000004d8 .L0 
     /tmp/cceXlvIx.s:845    .text:00000000000004dc .L0 
src/../h/kern_reg_util.h:152    .text:00000000000004dc .L0 
     /tmp/cceXlvIx.s:855    .text:00000000000004e0 .L0 
     /tmp/cceXlvIx.s:856    .text:00000000000004e0 .L0 
     /tmp/cceXlvIx.s:861    .text:00000000000004e4 .L0 
src/../h/kern_reg_util.h:84     .text:00000000000004e4 .L0 
     /tmp/cceXlvIx.s:871    .text:00000000000004e8 .L0 
     /tmp/cceXlvIx.s:872    .text:00000000000004ec .L0 
     /tmp/cceXlvIx.s:874    .text:00000000000004f0 .L0 
     /tmp/cceXlvIx.s:875    .text:00000000000004f0 .L0 
     /tmp/cceXlvIx.s:877    .text:00000000000004f4 .L0 
     /tmp/cceXlvIx.s:879    .text:00000000000004f8 .L0 
     /tmp/cceXlvIx.s:885    .text:00000000000004f8 _Z18kern_thread_wakeupm
     /tmp/cceXlvIx.s:888    .text:00000000000004f8 .L0 
     /tmp/cceXlvIx.s:890    .text:00000000000004f8 .L0 
     /tmp/cceXlvIx.s:891    .text:00000000000004fc .L0 
     /tmp/cceXlvIx.s:896    .text:000000000000050c .L0 
     /tmp/cceXlvIx.s:897    .text:000000000000050c .L0 
     /tmp/cceXlvIx.s:898    .text:000000000000050c .L0 
     /tmp/cceXlvIx.s:899    .text:000000000000050c .L0 
     /tmp/cceXlvIx.s:901    .text:0000000000000510 .L0 
     /tmp/cceXlvIx.s:906    .text:0000000000000514 .L0 
     /tmp/cceXlvIx.s:907    .text:0000000000000514 .L0 
     /tmp/cceXlvIx.s:912    .text:000000000000051c .L0 
     /tmp/cceXlvIx.s:913    .text:000000000000051c .L0 
     /tmp/cceXlvIx.s:918    .text:0000000000000530 .L0 
     /tmp/cceXlvIx.s:919    .text:0000000000000530 .L0 
     /tmp/cceXlvIx.s:923    .text:0000000000000538 .L0 
     /tmp/cceXlvIx.s:927    .text:000000000000053c .L0 
     /tmp/cceXlvIx.s:930    .text:0000000000000544 .L0 
     /tmp/cceXlvIx.s:931    .text:0000000000000544 .L0 
     /tmp/cceXlvIx.s:937    .text:000000000000055c .L0 
     /tmp/cceXlvIx.s:940    .text:0000000000000564 .L0 
GAS LISTING /tmp/cceXlvIx.s 			page 37


     /tmp/cceXlvIx.s:946    .text:000000000000057c .L0 
     /tmp/cceXlvIx.s:951    .text:0000000000000584 .L0 
     /tmp/cceXlvIx.s:952    .text:0000000000000588 .L0 
     /tmp/cceXlvIx.s:954    .text:000000000000058c .L0 
     /tmp/cceXlvIx.s:955    .text:000000000000058c .L0 
     /tmp/cceXlvIx.s:957    .text:0000000000000590 .L0 
     /tmp/cceXlvIx.s:960    .text:0000000000000594 .L0 
     /tmp/cceXlvIx.s:963    .text:0000000000000598 .L0 
     /tmp/cceXlvIx.s:965    .text:000000000000059c .L0 
     /tmp/cceXlvIx.s:971    .text:000000000000059c _Z17kern_thread_sleepm
     /tmp/cceXlvIx.s:974    .text:000000000000059c .L0 
     /tmp/cceXlvIx.s:976    .text:000000000000059c .L0 
     /tmp/cceXlvIx.s:977    .text:00000000000005a0 .L0 
     /tmp/cceXlvIx.s:980    .text:00000000000005a8 .L0 
     /tmp/cceXlvIx.s:981    .text:00000000000005a8 .L0 
     /tmp/cceXlvIx.s:983    .text:00000000000005ac .L0 
     /tmp/cceXlvIx.s:985    .text:00000000000005ac .L0 
     /tmp/cceXlvIx.s:986    .text:00000000000005ac .L0 
     /tmp/cceXlvIx.s:988    .text:00000000000005b4 .L0 
     /tmp/cceXlvIx.s:991    .text:00000000000005bc .L0 
     /tmp/cceXlvIx.s:992    .text:00000000000005bc .L0 
     /tmp/cceXlvIx.s:996    .text:00000000000005c0 .L0 
     /tmp/cceXlvIx.s:997    .text:00000000000005c0 .L0 
     /tmp/cceXlvIx.s:998    .text:00000000000005c0 .L0 
src/../h/kern_reg_util.h:146    .text:00000000000005c0 .L0 
     /tmp/cceXlvIx.s:1006   .text:00000000000005c8 .L0 
     /tmp/cceXlvIx.s:1007   .text:00000000000005c8 .L0 
     /tmp/cceXlvIx.s:1011   .text:00000000000005cc .L0 
     /tmp/cceXlvIx.s:1015   .text:00000000000005d0 .L0 
     /tmp/cceXlvIx.s:1016   .text:00000000000005d0 .L0 
     /tmp/cceXlvIx.s:1017   .text:00000000000005d0 .L0 
src/../h/kern_reg_util.h:78     .text:00000000000005d0 .L0 
     /tmp/cceXlvIx.s:1025   .text:00000000000005d8 .L0 
     /tmp/cceXlvIx.s:1026   .text:00000000000005d8 .L0 
     /tmp/cceXlvIx.s:1030   .text:00000000000005dc .L0 
     /tmp/cceXlvIx.s:1032   .text:00000000000005e0 .L0 
     /tmp/cceXlvIx.s:1033   .text:00000000000005e0 .L0 
     /tmp/cceXlvIx.s:1036   .text:00000000000005e8 .L0 
     /tmp/cceXlvIx.s:1037   .text:00000000000005e8 .L0 
     /tmp/cceXlvIx.s:1042   .text:00000000000005ec .L0 
src/../h/kern_reg_util.h:152    .text:00000000000005ec .L0 
     /tmp/cceXlvIx.s:1052   .text:00000000000005f0 .L0 
     /tmp/cceXlvIx.s:1053   .text:00000000000005f0 .L0 
     /tmp/cceXlvIx.s:1058   .text:00000000000005f4 .L0 
src/../h/kern_reg_util.h:84     .text:00000000000005f4 .L0 
     /tmp/cceXlvIx.s:1068   .text:00000000000005f8 .L0 
     /tmp/cceXlvIx.s:1069   .text:00000000000005fc .L0 
     /tmp/cceXlvIx.s:1071   .text:0000000000000600 .L0 
     /tmp/cceXlvIx.s:1072   .text:0000000000000600 .L0 
     /tmp/cceXlvIx.s:1074   .text:0000000000000604 .L0 
     /tmp/cceXlvIx.s:1076   .text:0000000000000608 .L0 
     /tmp/cceXlvIx.s:1091   .bss:0000000000000008 running
     /tmp/cceXlvIx.s:1083   .bss:0000000000000000 .LANCHOR0
     /tmp/cceXlvIx.s:1086   .bss:0000000000000000 _ZL2id
     /tmp/cceXlvIx.s:1095   .bss:0000000000000010 scheduler
     /tmp/cceXlvIx.s:1107   .text:0000000000000608 .L0 
     /tmp/cceXlvIx.s:22     .text:000000000000000c .L0 
GAS LISTING /tmp/cceXlvIx.s 			page 38


     /tmp/cceXlvIx.s:37     .text:0000000000000028 .L0 
     /tmp/cceXlvIx.s:49     .text:0000000000000040 .L0 
     /tmp/cceXlvIx.s:68     .text:0000000000000064 .L0 
     /tmp/cceXlvIx.s:112    .text:00000000000000a0 .L0 
     /tmp/cceXlvIx.s:120    .text:00000000000000b0 .L0 
     /tmp/cceXlvIx.s:137    .text:00000000000000c8 .L0 
     /tmp/cceXlvIx.s:161    .text:00000000000000e8 .L0 
     /tmp/cceXlvIx.s:170    .text:00000000000000f8 .L0 
     /tmp/cceXlvIx.s:197    .text:000000000000011c .L0 
     /tmp/cceXlvIx.s:266    .text:0000000000000168 .L0 
     /tmp/cceXlvIx.s:309    .text:00000000000001ac .L0 
     /tmp/cceXlvIx.s:388    .text:000000000000022c .L0 
     /tmp/cceXlvIx.s:499    .text:000000000000029c .L0 
     /tmp/cceXlvIx.s:516    .text:00000000000002b8 .L0 
     /tmp/cceXlvIx.s:536    .text:00000000000002e8 .L0 
     /tmp/cceXlvIx.s:545    .text:0000000000000308 .L0 
     /tmp/cceXlvIx.s:560    .text:000000000000032c .L0 
     /tmp/cceXlvIx.s:569    .text:000000000000033c .L0 
     /tmp/cceXlvIx.s:632    .text:0000000000000394 .L0 
     /tmp/cceXlvIx.s:645    .text:00000000000003b0 .L0 
     /tmp/cceXlvIx.s:672    .text:00000000000003d8 .L0 
     /tmp/cceXlvIx.s:709    .text:0000000000000424 .L0 
     /tmp/cceXlvIx.s:739    .text:0000000000000458 .L0 
     /tmp/cceXlvIx.s:778    .text:0000000000000488 .L0 
     /tmp/cceXlvIx.s:913    .text:000000000000051c .L0 
     /tmp/cceXlvIx.s:933    .text:000000000000054c .L0 
     /tmp/cceXlvIx.s:942    .text:000000000000056c .L0 
     /tmp/cceXlvIx.s:986    .text:00000000000005ac .L0 
     /tmp/cceXlvIx.s:45     .text:0000000000000040 .L2
     /tmp/cceXlvIx.s:29     .text:0000000000000018 .L3
     /tmp/cceXlvIx.s:133    .text:00000000000000c8 .L9
     /tmp/cceXlvIx.s:121    .text:00000000000000b8 .L7
     /tmp/cceXlvIx.s:183    .text:0000000000000110 .L10
     /tmp/cceXlvIx.s:193    .text:000000000000011c .L14
     /tmp/cceXlvIx.s:177    .text:000000000000010c .L12
     /tmp/cceXlvIx.s:361    .text:0000000000000210 .L20
     /tmp/cceXlvIx.s:354    .text:0000000000000204 .L24
     /tmp/cceXlvIx.s:331    .text:00000000000001e0 .L21
     /tmp/cceXlvIx.s:337    .text:00000000000001ec .L19
     /tmp/cceXlvIx.s:528    .text:00000000000002d8 .L30
     /tmp/cceXlvIx.s:553    .text:0000000000000324 .L28
     /tmp/cceXlvIx.s:524    .text:00000000000002d4 .L29
     /tmp/cceXlvIx.s:511    .text:00000000000002b0 .L34
     /tmp/cceXlvIx.s:595    .text:000000000000036c .L35
     /tmp/cceXlvIx.s:577    .text:0000000000000354 .L27
     /tmp/cceXlvIx.s:566    .text:000000000000033c .L31
     /tmp/cceXlvIx.s:737    .text:0000000000000458 .L41
     /tmp/cceXlvIx.s:642    .text:00000000000003b0 .L47
     /tmp/cceXlvIx.s:624    .text:0000000000000384 .L39
     /tmp/cceXlvIx.s:743    .text:0000000000000464 .L42
     /tmp/cceXlvIx.s:653    .text:00000000000003c0 .L37
     /tmp/cceXlvIx.s:766    .text:0000000000000478 .L54
     /tmp/cceXlvIx.s:925    .text:000000000000053c .L58
     /tmp/cceXlvIx.s:948    .text:0000000000000584 .L55
     /tmp/cceXlvIx.s:921    .text:0000000000000538 .L57
     /tmp/cceXlvIx.s:910    .text:000000000000051c .L60
     /tmp/cceXlvIx.s:2116   .debug_abbrev:0000000000000000 .Ldebug_abbrev0
GAS LISTING /tmp/cceXlvIx.s 			page 39


     /tmp/cceXlvIx.s:3276   .debug_str:00000000000003f0 .LASF82
     /tmp/cceXlvIx.s:3250   .debug_str:0000000000000338 .LASF83
     /tmp/cceXlvIx.s:3232   .debug_str:00000000000002c7 .LASF84
     /tmp/cceXlvIx.s:5      .text:0000000000000000 .Ltext0
     /tmp/cceXlvIx.s:1102   .text:0000000000000608 .Letext0
     /tmp/cceXlvIx.s:3128   .debug_line:0000000000000000 .Ldebug_line0
     /tmp/cceXlvIx.s:3214   .debug_str:0000000000000243 .LASF0
     /tmp/cceXlvIx.s:3222   .debug_str:0000000000000278 .LASF1
     /tmp/cceXlvIx.s:3204   .debug_str:0000000000000203 .LASF2
     /tmp/cceXlvIx.s:3196   .debug_str:00000000000001d6 .LASF4
     /tmp/cceXlvIx.s:3260   .debug_str:0000000000000387 .LASF3
     /tmp/cceXlvIx.s:3148   .debug_str:0000000000000077 .LASF5
     /tmp/cceXlvIx.s:3228   .debug_str:00000000000002a8 .LASF6
     /tmp/cceXlvIx.s:3212   .debug_str:0000000000000230 .LASF7
     /tmp/cceXlvIx.s:3282   .debug_str:00000000000004d3 .LASF8
     /tmp/cceXlvIx.s:3192   .debug_str:00000000000001bc .LASF9
     /tmp/cceXlvIx.s:3242   .debug_str:0000000000000303 .LASF10
     /tmp/cceXlvIx.s:3278   .debug_str:00000000000004b4 .LASF11
     /tmp/cceXlvIx.s:3150   .debug_str:000000000000007e .LASF12
     /tmp/cceXlvIx.s:3136   .debug_str:000000000000001d .LASF13
     /tmp/cceXlvIx.s:3158   .debug_str:00000000000000b9 .LASF14
     /tmp/cceXlvIx.s:3254   .debug_str:0000000000000358 .LASF15
     /tmp/cceXlvIx.s:3168   .debug_str:0000000000000119 .LASF16
     /tmp/cceXlvIx.s:3154   .debug_str:00000000000000a2 .LASF85
     /tmp/cceXlvIx.s:3248   .debug_str:0000000000000331 .LASF17
     /tmp/cceXlvIx.s:3234   .debug_str:00000000000002de .LASF18
     /tmp/cceXlvIx.s:3240   .debug_str:00000000000002fd .LASF19
     /tmp/cceXlvIx.s:3210   .debug_str:0000000000000226 .LASF20
     /tmp/cceXlvIx.s:3172   .debug_str:0000000000000140 .LASF21
     /tmp/cceXlvIx.s:3140   .debug_str:0000000000000039 .LASF22
     /tmp/cceXlvIx.s:3306   .debug_str:00000000000005d9 .LASF86
     /tmp/cceXlvIx.s:3198   .debug_str:00000000000001dd .LASF23
     /tmp/cceXlvIx.s:3216   .debug_str:0000000000000250 .LASF24
     /tmp/cceXlvIx.s:3190   .debug_str:00000000000001b2 .LASF25
     /tmp/cceXlvIx.s:3258   .debug_str:000000000000037f .LASF26
     /tmp/cceXlvIx.s:3304   .debug_str:00000000000005cd .LASF27
     /tmp/cceXlvIx.s:3142   .debug_str:0000000000000042 .LASF28
     /tmp/cceXlvIx.s:3226   .debug_str:00000000000002a1 .LASF29
     /tmp/cceXlvIx.s:3294   .debug_str:000000000000054c .LASF30
     /tmp/cceXlvIx.s:3230   .debug_str:00000000000002bb .LASF31
     /tmp/cceXlvIx.s:3130   .debug_str:0000000000000000 .LASF32
     /tmp/cceXlvIx.s:3178   .debug_str:0000000000000161 .LASF33
     /tmp/cceXlvIx.s:3236   .debug_str:00000000000002e6 .LASF34
     /tmp/cceXlvIx.s:3180   .debug_str:0000000000000169 .LASF35
     /tmp/cceXlvIx.s:3134   .debug_str:0000000000000012 .LASF36
     /tmp/cceXlvIx.s:3138   .debug_str:000000000000002d .LASF37
     /tmp/cceXlvIx.s:3264   .debug_str:00000000000003a0 .LASF38
     /tmp/cceXlvIx.s:3274   .debug_str:00000000000003e6 .LASF39
     /tmp/cceXlvIx.s:3266   .debug_str:00000000000003ae .LASF42
     /tmp/cceXlvIx.s:3244   .debug_str:0000000000000312 .LASF44
     /tmp/cceXlvIx.s:972    .text:000000000000059c .LFB33
     /tmp/cceXlvIx.s:1077   .text:0000000000000608 .LFE33
     /tmp/cceXlvIx.s:3132   .debug_str:0000000000000009 .LASF46
     /tmp/cceXlvIx.s:2822   .debug_loc:0000000000000000 .LLST18
     /tmp/cceXlvIx.s:3246   .debug_str:0000000000000329 .LASF40
     /tmp/cceXlvIx.s:3174   .debug_str:0000000000000147 .LASF41
     /tmp/cceXlvIx.s:994    .text:00000000000005c0 .LBB46
GAS LISTING /tmp/cceXlvIx.s 			page 40


     /tmp/cceXlvIx.s:1009   .text:00000000000005cc .LBE46
     /tmp/cceXlvIx.s:1013   .text:00000000000005d0 .LBB48
     /tmp/cceXlvIx.s:1028   .text:00000000000005dc .LBE48
     /tmp/cceXlvIx.s:1039   .text:00000000000005ec .LBB50
     /tmp/cceXlvIx.s:1050   .text:00000000000005f0 .LBE50
     /tmp/cceXlvIx.s:2836   .debug_loc:0000000000000039 .LLST19
     /tmp/cceXlvIx.s:1055   .text:00000000000005f4 .LBB52
     /tmp/cceXlvIx.s:1066   .text:00000000000005f8 .LBE52
     /tmp/cceXlvIx.s:2843   .debug_loc:000000000000005c .LLST20
     /tmp/cceXlvIx.s:1034   .text:00000000000005e8 .LVL62
     /tmp/cceXlvIx.s:3184   .debug_str:0000000000000186 .LASF43
     /tmp/cceXlvIx.s:3160   .debug_str:00000000000000c5 .LASF45
     /tmp/cceXlvIx.s:886    .text:00000000000004f8 .LFB32
     /tmp/cceXlvIx.s:966    .text:000000000000059c .LFE32
     /tmp/cceXlvIx.s:3288   .debug_str:000000000000050e .LASF47
     /tmp/cceXlvIx.s:2850   .debug_loc:000000000000007f .LLST16
     /tmp/cceXlvIx.s:905    .text:0000000000000514 .LBB45
     /tmp/cceXlvIx.s:949    .text:0000000000000584 .LBE45
     /tmp/cceXlvIx.s:2868   .debug_loc:00000000000000cb .LLST17
     /tmp/cceXlvIx.s:920    .text:0000000000000538 .LVL57
     /tmp/cceXlvIx.s:3170   .debug_str:000000000000012f .LASF48
     /tmp/cceXlvIx.s:3144   .debug_str:000000000000004a .LASF49
     /tmp/cceXlvIx.s:756    .text:000000000000046c .LFB31
     /tmp/cceXlvIx.s:880    .text:00000000000004f8 .LFE31
     /tmp/cceXlvIx.s:3272   .debug_str:00000000000003df .LASF50
     /tmp/cceXlvIx.s:2880   .debug_loc:0000000000000102 .LLST13
     /tmp/cceXlvIx.s:797    .text:00000000000004b0 .LBB37
     /tmp/cceXlvIx.s:812    .text:00000000000004bc .LBE37
     /tmp/cceXlvIx.s:816    .text:00000000000004c0 .LBB39
     /tmp/cceXlvIx.s:831    .text:00000000000004cc .LBE39
     /tmp/cceXlvIx.s:842    .text:00000000000004dc .LBB41
     /tmp/cceXlvIx.s:853    .text:00000000000004e0 .LBE41
     /tmp/cceXlvIx.s:2894   .debug_loc:000000000000013b .LLST14
     /tmp/cceXlvIx.s:858    .text:00000000000004e4 .LBB43
     /tmp/cceXlvIx.s:869    .text:00000000000004e8 .LBE43
     /tmp/cceXlvIx.s:2901   .debug_loc:000000000000015e .LLST15
     /tmp/cceXlvIx.s:837    .text:00000000000004d8 .LVL49
     /tmp/cceXlvIx.s:3200   .debug_str:00000000000001e2 .LASF60
     /tmp/cceXlvIx.s:3298   .debug_str:000000000000056f .LASF62
     /tmp/cceXlvIx.s:609    .text:0000000000000378 .LFB30
     /tmp/cceXlvIx.s:750    .text:000000000000046c .LFE30
     /tmp/cceXlvIx.s:2908   .debug_loc:0000000000000181 .LLST7
     /tmp/cceXlvIx.s:3186   .debug_str:0000000000000199 .LASF51
     /tmp/cceXlvIx.s:2934   .debug_loc:00000000000001f3 .LLST8
     /tmp/cceXlvIx.s:2952   .debug_loc:000000000000023f .LLST9
     /tmp/cceXlvIx.s:2970   .debug_loc:000000000000028b .LLST10
     /tmp/cceXlvIx.s:2993   .debug_loc:00000000000002ec .LLST11
     /tmp/cceXlvIx.s:620    .text:0000000000000380 .LBB36
     /tmp/cceXlvIx.s:654    .text:00000000000003c0 .LBE36
     /tmp/cceXlvIx.s:3016   .debug_loc:000000000000035a .LLST12
     /tmp/cceXlvIx.s:723    .text:0000000000000444 .LVL43
     /tmp/cceXlvIx.s:3166   .debug_str:0000000000000105 .LASF52
     /tmp/cceXlvIx.s:3302   .debug_str:00000000000005b4 .LASF53
     /tmp/cceXlvIx.s:249    .text:0000000000000150 .LFB29
     /tmp/cceXlvIx.s:286    .text:0000000000000194 .LFE29
     /tmp/cceXlvIx.s:263    .text:0000000000000168 .LVL9
     /tmp/cceXlvIx.s:275    .text:0000000000000184 .LVL11
GAS LISTING /tmp/cceXlvIx.s 			page 41


     /tmp/cceXlvIx.s:3218   .debug_str:000000000000025b .LASF54
     /tmp/cceXlvIx.s:3284   .debug_str:00000000000004e3 .LASF55
     /tmp/cceXlvIx.s:482    .text:0000000000000284 .LFB28
     /tmp/cceXlvIx.s:603    .text:0000000000000378 .LFE28
     /tmp/cceXlvIx.s:3036   .debug_loc:00000000000003b7 .LLST5
     /tmp/cceXlvIx.s:506    .text:00000000000002a8 .LBB35
     /tmp/cceXlvIx.s:554    .text:0000000000000324 .LBE35
     /tmp/cceXlvIx.s:3047   .debug_loc:00000000000003ed .LLST6
     /tmp/cceXlvIx.s:523    .text:00000000000002d4 .LVL26
     /tmp/cceXlvIx.s:558    .text:000000000000032c .LVL28
     /tmp/cceXlvIx.s:576    .text:0000000000000354 .LVL29
     /tmp/cceXlvIx.s:600    .text:0000000000000374 .LVL33
     /tmp/cceXlvIx.s:3182   .debug_str:0000000000000174 .LASF56
     /tmp/cceXlvIx.s:3300   .debug_str:000000000000059d .LASF57
     /tmp/cceXlvIx.s:292    .text:0000000000000194 .LFB27
     /tmp/cceXlvIx.s:369    .text:000000000000021c .LFE27
     /tmp/cceXlvIx.s:3063   .debug_loc:0000000000000437 .LLST2
     /tmp/cceXlvIx.s:315    .text:00000000000001c0 .LVL13
     /tmp/cceXlvIx.s:336    .text:00000000000001ec .LVL14
     /tmp/cceXlvIx.s:3252   .debug_str:000000000000034d .LASF87
     /tmp/cceXlvIx.s:3280   .debug_str:00000000000004c3 .LASF88
     /tmp/cceXlvIx.s:206    .text:0000000000000128 .LFB26
     /tmp/cceXlvIx.s:243    .text:0000000000000150 .LFE26
     /tmp/cceXlvIx.s:3162   .debug_str:00000000000000dd .LASF58
     /tmp/cceXlvIx.s:3296   .debug_str:0000000000000555 .LASF59
     /tmp/cceXlvIx.s:375    .text:000000000000021c .LFB25
     /tmp/cceXlvIx.s:476    .text:0000000000000284 .LFE25
     /tmp/cceXlvIx.s:392    .text:000000000000023c .LBB27
     /tmp/cceXlvIx.s:408    .text:0000000000000248 .LBE27
     /tmp/cceXlvIx.s:412    .text:000000000000024c .LBB29
     /tmp/cceXlvIx.s:427    .text:0000000000000258 .LBE29
     /tmp/cceXlvIx.s:438    .text:0000000000000268 .LBB31
     /tmp/cceXlvIx.s:449    .text:000000000000026c .LBE31
     /tmp/cceXlvIx.s:3074   .debug_loc:000000000000046d .LLST3
     /tmp/cceXlvIx.s:454    .text:0000000000000270 .LBB33
     /tmp/cceXlvIx.s:465    .text:0000000000000274 .LBE33
     /tmp/cceXlvIx.s:3081   .debug_loc:0000000000000490 .LLST4
     /tmp/cceXlvIx.s:390    .text:000000000000023c .LVL17
     /tmp/cceXlvIx.s:433    .text:0000000000000264 .LVL18
     /tmp/cceXlvIx.s:3176   .debug_str:000000000000014e .LASF61
     /tmp/cceXlvIx.s:3270   .debug_str:00000000000003c7 .LASF63
     /tmp/cceXlvIx.s:150    .text:00000000000000dc .LFB24
     /tmp/cceXlvIx.s:200    .text:0000000000000128 .LFE24
     /tmp/cceXlvIx.s:3088   .debug_loc:00000000000004b3 .LLST1
     /tmp/cceXlvIx.s:3164   .debug_str:00000000000000f2 .LASF64
     /tmp/cceXlvIx.s:3290   .debug_str:000000000000051a .LASF65
     /tmp/cceXlvIx.s:96     .text:000000000000008c .LFB23
     /tmp/cceXlvIx.s:144    .text:00000000000000dc .LFE23
     /tmp/cceXlvIx.s:3292   .debug_str:000000000000053b .LASF66
     /tmp/cceXlvIx.s:3224   .debug_str:000000000000028b .LASF67
     /tmp/cceXlvIx.s:10     .text:0000000000000000 .LFB22
     /tmp/cceXlvIx.s:90     .text:000000000000008c .LFE22
     /tmp/cceXlvIx.s:25     .text:0000000000000014 .LBB26
     /tmp/cceXlvIx.s:46     .text:0000000000000040 .LBE26
     /tmp/cceXlvIx.s:3099   .debug_loc:00000000000004e9 .LLST0
     /tmp/cceXlvIx.s:3208   .debug_str:000000000000021c .LASF68
     /tmp/cceXlvIx.s:3202   .debug_str:00000000000001f5 .LASF70
GAS LISTING /tmp/cceXlvIx.s 			page 42


     /tmp/cceXlvIx.s:3156   .debug_str:00000000000000af .LASF73
     /tmp/cceXlvIx.s:3146   .debug_str:0000000000000069 .LASF75
     /tmp/cceXlvIx.s:3268   .debug_str:00000000000003c0 .LASF69
     /tmp/cceXlvIx.s:3206   .debug_str:0000000000000211 .LASF71
     /tmp/cceXlvIx.s:3220   .debug_str:0000000000000273 .LASF72
     /tmp/cceXlvIx.s:3262   .debug_str:0000000000000399 .LASF74
     /tmp/cceXlvIx.s:3188   .debug_str:00000000000001a7 .LASF76
     /tmp/cceXlvIx.s:3256   .debug_str:000000000000036e .LASF77
     /tmp/cceXlvIx.s:3194   .debug_str:00000000000001ca .LASF79
     /tmp/cceXlvIx.s:3286   .debug_str:0000000000000500 .LASF78
     /tmp/cceXlvIx.s:3152   .debug_str:000000000000008e .LASF80
     /tmp/cceXlvIx.s:3238   .debug_str:00000000000002ef .LASF81
     /tmp/cceXlvIx.s:975    .text:000000000000059c .LVL61
     /tmp/cceXlvIx.s:1038   .text:00000000000005ec .LVL63
     /tmp/cceXlvIx.s:1047   .text:00000000000005f0 .LVL64
     /tmp/cceXlvIx.s:1054   .text:00000000000005f4 .LVL65
     /tmp/cceXlvIx.s:1063   .text:00000000000005f8 .LVL66
     /tmp/cceXlvIx.s:889    .text:00000000000004f8 .LVL54
     /tmp/cceXlvIx.s:909    .text:000000000000051c .LVL56
     /tmp/cceXlvIx.s:961    .text:0000000000000594 .LVL60
     /tmp/cceXlvIx.s:904    .text:0000000000000514 .LVL55
     /tmp/cceXlvIx.s:958    .text:0000000000000590 .LVL59
     /tmp/cceXlvIx.s:759    .text:000000000000046c .LVL48
     /tmp/cceXlvIx.s:841    .text:00000000000004dc .LVL50
     /tmp/cceXlvIx.s:850    .text:00000000000004e0 .LVL51
     /tmp/cceXlvIx.s:857    .text:00000000000004e4 .LVL52
     /tmp/cceXlvIx.s:866    .text:00000000000004e8 .LVL53
     /tmp/cceXlvIx.s:612    .text:0000000000000378 .LVL34
     /tmp/cceXlvIx.s:646    .text:00000000000003b8 .LVL39
     /tmp/cceXlvIx.s:736    .text:0000000000000458 .LVL44
     /tmp/cceXlvIx.s:740    .text:0000000000000460 .LVL45
     /tmp/cceXlvIx.s:704    .text:0000000000000420 .LVL42
     /tmp/cceXlvIx.s:618    .text:0000000000000380 .LVL35
     /tmp/cceXlvIx.s:651    .text:00000000000003c0 .LVL40
     /tmp/cceXlvIx.s:742    .text:0000000000000464 .LVL46
     /tmp/cceXlvIx.s:746    .text:0000000000000468 .LVL47
     /tmp/cceXlvIx.s:623    .text:0000000000000384 .LVL36
     /tmp/cceXlvIx.s:639    .text:00000000000003ac .LVL37
     /tmp/cceXlvIx.s:641    .text:00000000000003b0 .LVL38
     /tmp/cceXlvIx.s:658    .text:00000000000003c4 .LVL41
     /tmp/cceXlvIx.s:500    .text:00000000000002a4 .LVL23
     /tmp/cceXlvIx.s:590    .text:0000000000000364 .LVL31
     /tmp/cceXlvIx.s:594    .text:000000000000036c .LVL32
     /tmp/cceXlvIx.s:505    .text:00000000000002a8 .LVL24
     /tmp/cceXlvIx.s:510    .text:00000000000002b0 .LVL25
     /tmp/cceXlvIx.s:587    .text:0000000000000360 .LVL30
     /tmp/cceXlvIx.s:311    .text:00000000000001b8 .LVL12
     /tmp/cceXlvIx.s:347    .text:00000000000001f8 .LVL15
     /tmp/cceXlvIx.s:353    .text:0000000000000204 .LVL16
     /tmp/cceXlvIx.s:437    .text:0000000000000268 .LVL19
     /tmp/cceXlvIx.s:446    .text:000000000000026c .LVL20
     /tmp/cceXlvIx.s:453    .text:0000000000000270 .LVL21
     /tmp/cceXlvIx.s:462    .text:0000000000000274 .LVL22
     /tmp/cceXlvIx.s:165    .text:00000000000000f4 .LVL6
     /tmp/cceXlvIx.s:182    .text:0000000000000110 .LVL7
     /tmp/cceXlvIx.s:192    .text:000000000000011c .LVL8
     /tmp/cceXlvIx.s:24     .text:0000000000000014 .LVL0
GAS LISTING /tmp/cceXlvIx.s 			page 43


     /tmp/cceXlvIx.s:28     .text:0000000000000018 .LVL1
     /tmp/cceXlvIx.s:42     .text:000000000000003c .LVL2
     /tmp/cceXlvIx.s:44     .text:0000000000000040 .LVL3
     /tmp/cceXlvIx.s:50     .text:0000000000000048 .LVL4
     /tmp/cceXlvIx.s:1108   .debug_info:0000000000000000 .Ldebug_info0

UNDEFINED SYMBOLS
_Z11thread_exitv
contextSwitch
_Z13kern_mem_freePv
